<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp" rel="stylesheet" />
    <title>Rune</title>
    <style type="text/css">
        @font-face {
            font-family: 'Druk Wide Bold';
            font-style: normal;
            font-weight: normal;
            src: local('Druk Wide Bold Bold'), url('DrukWideBold.woff') format('woff');
        }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-primary': '#D83A3C',
                        'surface-0': '#1D1B1B',
                        'surface-2': '#4D4C4A',
                    },
                    fontFamily: {
                        mono: ['Roboto Mono'],
                        wide: ['Druk Wide Bold']
                    },
                    fontWeight: {
                        wide: 700
                    }
                }
            }
        }
    </script>

    <style type="text/css">
        @font-face {
            font-family: 'Druk Wide Bold';
            font-style: normal;
            font-weight: normal;
            src: local('Druk Wide Bold Bold'), url('DrukWideBold.woff') format('woff');
        }
        
        .cursor {
            display: inline-block;
            color: #E9E6E1;
            width: 0.5ch;
            text-align: left;
            animation: blink 1s steps(1) infinite;
        }

        @keyframes blink {
            50% {
                color: transparent;
            }
        }
    </style>

    <script>
        function animateTyping(selector, wordList, totalDuration) {
            const typingContainer = document.querySelector(selector);

            if (!typingContainer) {
                console.error("Invalid selector. Element not found.");
                return;
            }

            // Create a span for the text and a span for the cursor
            let textSpan = document.createElement('span');
            let cursorSpan = document.createElement('span');
            cursorSpan.classList.add('cursor');
            cursorSpan.innerHTML = '_'; // Cursor should always display after the last letter
            typingContainer.appendChild(textSpan);
            typingContainer.appendChild(cursorSpan);

            const typingSpeed = 150; // Fixed speed for typing each letter (ms)
            let currentWordIndex = 0;
            let currentLetterIndex = 0;
            let typingForward = true; // Typing or backspacing

            function typeWord() {
                const word = wordList[currentWordIndex];
                const typingTime = word.length * typingSpeed;
                const remainingTime = totalDuration - typingTime;

                if (typingForward) {
                    // Typing forward
                    if (currentLetterIndex < word.length) {
                        textSpan.textContent = word.substring(0, currentLetterIndex + 1); // Add each letter
                        currentLetterIndex++;
                        setTimeout(typeWord, typingSpeed); // Continue typing at a fixed speed
                    } else {
                        // Word fully typed, wait for a while before backspacing
                        setTimeout(() => {
                            typingForward = false; // Switch to backspacing mode
                            currentLetterIndex = word.length; // Start backspacing from the end
                            typeWord();
                        }, remainingTime); // Wait for the remaining time before backspacing
                    }
                } else {
                    // Backspacing
                    if (currentLetterIndex > 0) {
                        currentLetterIndex--;
                        textSpan.textContent = word.substring(0, currentLetterIndex); // Remove letters
                        setTimeout(typeWord, 100); // Backspacing speed
                    } else {
                        // Move to next word after the word is fully erased
                        currentWordIndex = (currentWordIndex + 1) % wordList.length; // Loop over words
                        typingForward = true;
                        setTimeout(typeWord, typingSpeed); // Start typing the next word
                    }
                }
            }

            // Start typing
            typeWord();
        }


        document.addEventListener('DOMContentLoaded', function () {
            animateTyping('.typing-platforms', ['iOS', 'Android', 'Windows', 'Linux', 'macOS'].sort(() => .5 - Math.random()), 4000);
            animateTyping('.typing-languages', ['C#', 'C++', 'C', 'Java', 'Go', 'JS', 'Rust'].sort(() => .5 - Math.random()), 4000);
        });
    </script>
</head>

<body class="bg-surface-0 text-[#E9E6E1] my-12 bg-[linear-gradient(#1D1B1BEE,#1D1B1BEE),url('perlin.png')] bg-repeat bg-[length:35%]">
    <div class="container max-w-screen-lg mx-auto grid gap-12">
        <div class="grid grid-cols-5 gap-6">
            <div class="py-4 grid gap-6 col-span-3">
                <a href="index.html" class="mb-4"><img src="logo.svg" class="h-8"></a>
                <h1 class="font-wide text-2xl uppercase h-12">
                    Make <span class="typing-platforms"></span> games with <span class="typing-languages"></span>
                </h1>
                <p class="font-mono text-sm lowercase">
                    Rune is a runtime platform for game developers.<br>
                    Build your next game, engine or library with rune.<br>
                    For any platform. In any language.
                </p>

                <div class="py-3 border-b border-solid border-surface-2">
                    <span class="text-sm font-mono text-white">
                        <span class="text-neutral-600 select-none">$ </span> coming soon <!-- curl -fsSL https://rune.sh/install | bash -->
                    </span>
                </div>

                <div class="flex place-content-end">
                    <a href="getting-started.html" class="flex flex-row cursor-pointer hover:brightness-110 [&>span]:hover:underline underline-offset-4">
                        <span class="font-mono font-bold leading-6 p-3">get started with rune</span>
                        <div class="rounded-3xl h-12 w-12 p-3 bg-brand-primary">
                            <span class="material-symbols-sharp">north_east</span>
                        </div>
                    </a>
                </div>
            </div>
            <div class="border border-solid border-surface-2 p-4 col-span-2 flex items-center justify-center font-mono text-neutral-600">
                cool demo here.. soon :)
            </div>
        </div>
        <div>
            <h2 class="font-wide uppercase text-xl">How does it work?</h2>
            <p class="font-mono text-sm lowercase leading-relaxed py-3 mb-6">
                Rune builds on the shoulders of giants by leveraging WebAssembly to deliver multi-platform, multi-language support. Any language that supports wasm compilation targets can build for rune. Rune provides the runtime environment &amp; APIs that make it easy and fun to build games, engines and libraries.
            </p>
            <div class="grid grid-cols-3 grid-rows-2 gap-6">
                <div class="aspect-video p-4 bg-neutral-800 relative overflow-hidden">
                    <h3 class="font-wide uppercase text-lg z-10 relative">GPU</h3>
                    <p class="font-mono lowercase text-sm z-10 relative">
                        Rune is leveraging wgpu to deliver a familiar interface that closely resembles WebGPU
                    </p>
                    <iframe src="data:text/html;base64,PGh0bWw+CiAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgIGh0bWwsIGJvZHl7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAgICAgPHNjcmlwdCB0eXBlPSJpbXBvcnRtYXAiPgp7CiAgICAiaW1wb3J0cyI6IHsKICAgICAgICAicmVhY3QiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvcmVhY3RAMTguMC4yIiwKICAgICAgICAicmVhY3QtZG9tIjogImh0dHBzOi8vY2RuLnNreXBhY2suZGV2L3JlYWN0LWRvbUAxOC4wLjIiLAogICAgICAgICJ0aHJlZSI6ICJodHRwczovL2Nkbi5za3lwYWNrLmRldi90aHJlZUAwLjE0OC4wIiwKICAgICAgICAicmVhY3QtdGhyZWUvZmliZXIiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvQHJlYWN0LXRocmVlL2ZpYmVyQDcuMC4yNCIKICAgIH0KfQo8L3NjcmlwdD4KPHN0eWxlPgogICAgaHRtbCwgYm9keXsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgcGFkZGluZzogMDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYm9yZGVyOiAwOwogICAgfQogICAgLm50LWVtYmVkewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgIH0KICAgIC5udC1lbWJlZCBjYW52YXN7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQo8L3N0eWxlPgo8c2NyaXB0IHR5cGU9Im1vZHVsZSI+CiAgICBpbXBvcnQgUmVhY3QsIHt1c2VSZWYsdXNlTWVtb30gZnJvbSAncmVhY3QnOwogICAgaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7CiAgICBpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7CiAgICBpbXBvcnQge0NhbnZhcywgdXNlRnJhbWUsIHVzZVRocmVlfSBmcm9tICdyZWFjdC10aHJlZS9maWJlcic7CgogICAgbGV0IGVtYmVkUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZW1iZWRSb290LmNsYXNzTmFtZSA9ICJudC1lbWJlZCI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVtYmVkUm9vdCk7CgogICAgY29uc3QgVGV4dHVyZU1lc2ggPSAoKSA9PiB7CiAgICAgICAgY29uc3QgbWVzaCA9IHVzZVJlZihudWxsKQogICAgICAgIHVzZUZyYW1lKHN0YXRlID0+IHsKICAgICAgICAgICAgY29uc3QgeyBjbG9jaywgbW91c2UsIGdsLCBzY2VuZSwgY2FtZXJhIH0gPSBzdGF0ZQogICAgICAgICAgICBpZihtZXNoLmN1cnJlbnQpewogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfbW91c2UudmFsdWUgPSBbbW91c2UueCAvIDIgKyAwLjUsIG1vdXNlLnkgLyAyICsgMC41XQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA9IGNsb2NrLmdldEVsYXBzZWRUaW1lKCkKICAgICAgICAgICAgICAgIGxldCBjID0gZ2wuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZSA9IFtjLndpZHRoLGMuaGVpZ2h0XQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAKICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnbWVzaCcsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlZjptZXNoLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsMF0sCiAgICAgICAgICAgICAgICBzY2FsZTogMjYsCiAgICAgICAgICAgICAgICByb3RhdGlvbjogWy0wLjgsMCwwXQogICAgICAgICAgICB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdwbGFuZUdlb21ldHJ5Jyx7YXJnczpbMSwxLDEwMjQsMTAyNF19KSwgCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3NoYWRlck1hdGVyaWFsJyx7CiAgICAgICAgICAgICAgICBmcmFnbWVudFNoYWRlcjogYC8vIEZyYWdtZW50IHNoYWRlcgoKCgovLyBVbmlmb3JtcwoKdW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjsKCnVuaWZvcm0gdmVjMiB1X21vdXNlOwoKdW5pZm9ybSBmbG9hdCB1X3RpbWU7Cgp1bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5OwoKdW5pZm9ybSB2ZWM0IHVfY29sb3JzWzJdOwoKdW5pZm9ybSBmbG9hdCB1X3NwZWVkOwoKdW5pZm9ybSBmbG9hdCB1X3NjYWxlOwoKCgp2YXJ5aW5nIHZlYzIgdlV2OwoKdmFyeWluZyBmbG9hdCB2RGlzcGxhY2VtZW50OwoKCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19RVUlOVElDCiNkZWZpbmUgRk5DX1FVSU5USUMgCgpmbG9hdCBxdWludGljKGNvbnN0IGluIGZsb2F0IHYpIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMyICBxdWludGljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMzICBxdWludGljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWM0ICBxdWludGljKGNvbnN0IGluIHZlYzQgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1BOT0lTRQojZGVmaW5lIEZOQ19QTk9JU0UKCmZsb2F0IHBub2lzZShpbiB2ZWMyIFAsIGluIHZlYzIgcmVwKSB7CiAgICB2ZWM0IFBpID0gZmxvb3IoUC54eXh5KSArIHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsKICAgIHZlYzQgUGYgPSBmcmFjdChQLnh5eHkpIC0gdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApOwogICAgUGkgPSBtb2QoUGksIHJlcC54eXh5KTsgCiAgICBQaSA9IG1vZDI4OShQaSk7ICAgICAgICAKICAgIHZlYzQgaXggPSBQaS54enh6OwogICAgdmVjNCBpeSA9IFBpLnl5d3c7CiAgICB2ZWM0IGZ4ID0gUGYueHp4ejsKICAgIHZlYzQgZnkgPSBQZi55eXd3OwoKICAgIHZlYzQgaSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7CgogICAgdmVjNCBneCA9IGZyYWN0KGkgKiAoMS4wIC8gNDEuMCkpICogMi4wIC0gMS4wIDsKICAgIHZlYzQgZ3kgPSBhYnMoZ3gpIC0gMC41IDsKICAgIHZlYzQgdHggPSBmbG9vcihneCArIDAuNSk7CiAgICBneCA9IGd4IC0gdHg7CgogICAgdmVjMiBnMDAgPSB2ZWMyKGd4LngsZ3kueCk7CiAgICB2ZWMyIGcxMCA9IHZlYzIoZ3gueSxneS55KTsKICAgIHZlYzIgZzAxID0gdmVjMihneC56LGd5LnopOwogICAgdmVjMiBnMTEgPSB2ZWMyKGd4LncsZ3kudyk7CgogICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAsIGcwMCksIGRvdChnMDEsIGcwMSksIGRvdChnMTAsIGcxMCksIGRvdChnMTEsIGcxMSkpKTsKICAgIGcwMCAqPSBub3JtLng7CiAgICBnMDEgKj0gbm9ybS55OwogICAgZzEwICo9IG5vcm0uejsKICAgIGcxMSAqPSBub3JtLnc7CgogICAgZmxvYXQgbjAwID0gZG90KGcwMCwgdmVjMihmeC54LCBmeS54KSk7CiAgICBmbG9hdCBuMTAgPSBkb3QoZzEwLCB2ZWMyKGZ4LnksIGZ5LnkpKTsKICAgIGZsb2F0IG4wMSA9IGRvdChnMDEsIHZlYzIoZngueiwgZnkueikpOwogICAgZmxvYXQgbjExID0gZG90KGcxMSwgdmVjMihmeC53LCBmeS53KSk7CgogICAgdmVjMiBmYWRlX3h5ID0gcXVpbnRpYyhQZi54eSk7CiAgICB2ZWMyIG5feCA9IG1peCh2ZWMyKG4wMCwgbjAxKSwgdmVjMihuMTAsIG4xMSksIGZhZGVfeHkueCk7CiAgICBmbG9hdCBuX3h5ID0gbWl4KG5feC54LCBuX3gueSwgZmFkZV94eS55KTsKICAgIHJldHVybiAyLjMgKiBuX3h5Owp9CgpmbG9hdCBwbm9pc2UoaW4gdmVjMyBQLCBpbiB2ZWMzIHJlcCkgewogICAgdmVjMyBQaTAgPSBtb2QoZmxvb3IoUCksIHJlcCk7IAogICAgdmVjMyBQaTEgPSBtb2QoUGkwICsgdmVjMygxLjApLCByZXApOyAKICAgIFBpMCA9IG1vZDI4OShQaTApOwogICAgUGkxID0gbW9kMjg5KFBpMSk7CiAgICB2ZWMzIFBmMCA9IGZyYWN0KFApOyAKICAgIHZlYzMgUGYxID0gUGYwIC0gdmVjMygxLjApOyAKICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTsKICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTsKICAgIHZlYzQgaXowID0gUGkwLnp6eno7CiAgICB2ZWM0IGl6MSA9IFBpMS56enp6OwoKICAgIHZlYzQgaXh5ID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTsKICAgIHZlYzQgaXh5MCA9IHBlcm11dGUoaXh5ICsgaXowKTsKICAgIHZlYzQgaXh5MSA9IHBlcm11dGUoaXh5ICsgaXoxKTsKCiAgICB2ZWM0IGd4MCA9IGl4eTAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwID0gZnJhY3QoZmxvb3IoZ3gwKSAqICgxLjAgLyA3LjApKSAtIDAuNTsKICAgIGd4MCA9IGZyYWN0KGd4MCk7CiAgICB2ZWM0IGd6MCA9IHZlYzQoMC41KSAtIGFicyhneDApIC0gYWJzKGd5MCk7CiAgICB2ZWM0IHN6MCA9IHN0ZXAoZ3owLCB2ZWM0KDAuMCkpOwogICAgZ3gwIC09IHN6MCAqIChzdGVwKDAuMCwgZ3gwKSAtIDAuNSk7CiAgICBneTAgLT0gc3owICogKHN0ZXAoMC4wLCBneTApIC0gMC41KTsKCiAgICB2ZWM0IGd4MSA9IGl4eTEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxID0gZnJhY3QoZmxvb3IoZ3gxKSAqICgxLjAgLyA3LjApKSAtIDAuNTsKICAgIGd4MSA9IGZyYWN0KGd4MSk7CiAgICB2ZWM0IGd6MSA9IHZlYzQoMC41KSAtIGFicyhneDEpIC0gYWJzKGd5MSk7CiAgICB2ZWM0IHN6MSA9IHN0ZXAoZ3oxLCB2ZWM0KDAuMCkpOwogICAgZ3gxIC09IHN6MSAqIChzdGVwKDAuMCwgZ3gxKSAtIDAuNSk7CiAgICBneTEgLT0gc3oxICogKHN0ZXAoMC4wLCBneTEpIC0gMC41KTsKCiAgICB2ZWMzIGcwMDAgPSB2ZWMzKGd4MC54LGd5MC54LGd6MC54KTsKICAgIHZlYzMgZzEwMCA9IHZlYzMoZ3gwLnksZ3kwLnksZ3owLnkpOwogICAgdmVjMyBnMDEwID0gdmVjMyhneDAueixneTAueixnejAueik7CiAgICB2ZWMzIGcxMTAgPSB2ZWMzKGd4MC53LGd5MC53LGd6MC53KTsKICAgIHZlYzMgZzAwMSA9IHZlYzMoZ3gxLngsZ3kxLngsZ3oxLngpOwogICAgdmVjMyBnMTAxID0gdmVjMyhneDEueSxneTEueSxnejEueSk7CiAgICB2ZWMzIGcwMTEgPSB2ZWMzKGd4MS56LGd5MS56LGd6MS56KTsKICAgIHZlYzMgZzExMSA9IHZlYzMoZ3gxLncsZ3kxLncsZ3oxLncpOwoKICAgIHZlYzQgbm9ybTAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAsIGcwMDApLCBkb3QoZzAxMCwgZzAxMCksIGRvdChnMTAwLCBnMTAwKSwgZG90KGcxMTAsIGcxMTApKSk7CiAgICBnMDAwICo9IG5vcm0wLng7CiAgICBnMDEwICo9IG5vcm0wLnk7CiAgICBnMTAwICo9IG5vcm0wLno7CiAgICBnMTEwICo9IG5vcm0wLnc7CiAgICB2ZWM0IG5vcm0xID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxLCBnMDAxKSwgZG90KGcwMTEsIGcwMTEpLCBkb3QoZzEwMSwgZzEwMSksIGRvdChnMTExLCBnMTExKSkpOwogICAgZzAwMSAqPSBub3JtMS54OwogICAgZzAxMSAqPSBub3JtMS55OwogICAgZzEwMSAqPSBub3JtMS56OwogICAgZzExMSAqPSBub3JtMS53OwoKICAgIGZsb2F0IG4wMDAgPSBkb3QoZzAwMCwgUGYwKTsKICAgIGZsb2F0IG4xMDAgPSBkb3QoZzEwMCwgdmVjMyhQZjEueCwgUGYwLnl6KSk7CiAgICBmbG9hdCBuMDEwID0gZG90KGcwMTAsIHZlYzMoUGYwLngsIFBmMS55LCBQZjAueikpOwogICAgZmxvYXQgbjExMCA9IGRvdChnMTEwLCB2ZWMzKFBmMS54eSwgUGYwLnopKTsKICAgIGZsb2F0IG4wMDEgPSBkb3QoZzAwMSwgdmVjMyhQZjAueHksIFBmMS56KSk7CiAgICBmbG9hdCBuMTAxID0gZG90KGcxMDEsIHZlYzMoUGYxLngsIFBmMC55LCBQZjEueikpOwogICAgZmxvYXQgbjAxMSA9IGRvdChnMDExLCB2ZWMzKFBmMC54LCBQZjEueXopKTsKICAgIGZsb2F0IG4xMTEgPSBkb3QoZzExMSwgUGYxKTsKCiAgICB2ZWMzIGZhZGVfeHl6ID0gcXVpbnRpYyhQZjApOwogICAgdmVjNCBuX3ogPSBtaXgodmVjNChuMDAwLCBuMTAwLCBuMDEwLCBuMTEwKSwgdmVjNChuMDAxLCBuMTAxLCBuMDExLCBuMTExKSwgZmFkZV94eXoueik7CiAgICB2ZWMyIG5feXogPSBtaXgobl96Lnh5LCBuX3ouencsIGZhZGVfeHl6LnkpOwogICAgZmxvYXQgbl94eXogPSBtaXgobl95ei54LCBuX3l6LnksIGZhZGVfeHl6LngpOwogICAgcmV0dXJuIDIuMiAqIG5feHl6Owp9CgpmbG9hdCBwbm9pc2UoaW4gdmVjNCBQLCBpbiB2ZWM0IHJlcCkgewogICAgdmVjNCBQaTAgPSBtb2QoZmxvb3IoUCksIHJlcCk7IAogICAgdmVjNCBQaTEgPSBtb2QoUGkwICsgMS4wLCByZXApOyAKICAgIFBpMCA9IG1vZDI4OShQaTApOwogICAgUGkxID0gbW9kMjg5KFBpMSk7CiAgICB2ZWM0IFBmMCA9IGZyYWN0KFApOyAKICAgIHZlYzQgUGYxID0gUGYwIC0gMS4wOyAKICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTsKICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTsKICAgIHZlYzQgaXowID0gdmVjNChQaTAuenp6eik7CiAgICB2ZWM0IGl6MSA9IHZlYzQoUGkxLnp6enopOwogICAgdmVjNCBpdzAgPSB2ZWM0KFBpMC53d3d3KTsKICAgIHZlYzQgaXcxID0gdmVjNChQaTEud3d3dyk7CgogICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpOwogICAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApOwogICAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpOwogICAgdmVjNCBpeHkwMCA9IHBlcm11dGUoaXh5MCArIGl3MCk7CiAgICB2ZWM0IGl4eTAxID0gcGVybXV0ZShpeHkwICsgaXcxKTsKICAgIHZlYzQgaXh5MTAgPSBwZXJtdXRlKGl4eTEgKyBpdzApOwogICAgdmVjNCBpeHkxMSA9IHBlcm11dGUoaXh5MSArIGl3MSk7CgogICAgdmVjNCBneDAwID0gaXh5MDAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwMCA9IGZsb29yKGd4MDApICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MDAgPSBmbG9vcihneTAwKSAqICgxLjAgLyA2LjApOwogICAgZ3gwMCA9IGZyYWN0KGd4MDApIC0gMC41OwogICAgZ3kwMCA9IGZyYWN0KGd5MDApIC0gMC41OwogICAgZ3owMCA9IGZyYWN0KGd6MDApIC0gMC41OwogICAgdmVjNCBndzAwID0gdmVjNCgwLjc1KSAtIGFicyhneDAwKSAtIGFicyhneTAwKSAtIGFicyhnejAwKTsKICAgIHZlYzQgc3cwMCA9IHN0ZXAoZ3cwMCwgdmVjNCgwLjApKTsKICAgIGd4MDAgLT0gc3cwMCAqIChzdGVwKDAuMCwgZ3gwMCkgLSAwLjUpOwogICAgZ3kwMCAtPSBzdzAwICogKHN0ZXAoMC4wLCBneTAwKSAtIDAuNSk7CgogICAgdmVjNCBneDAxID0gaXh5MDEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwMSA9IGZsb29yKGd4MDEpICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MDEgPSBmbG9vcihneTAxKSAqICgxLjAgLyA2LjApOwogICAgZ3gwMSA9IGZyYWN0KGd4MDEpIC0gMC41OwogICAgZ3kwMSA9IGZyYWN0KGd5MDEpIC0gMC41OwogICAgZ3owMSA9IGZyYWN0KGd6MDEpIC0gMC41OwogICAgdmVjNCBndzAxID0gdmVjNCgwLjc1KSAtIGFicyhneDAxKSAtIGFicyhneTAxKSAtIGFicyhnejAxKTsKICAgIHZlYzQgc3cwMSA9IHN0ZXAoZ3cwMSwgdmVjNCgwLjApKTsKICAgIGd4MDEgLT0gc3cwMSAqIChzdGVwKDAuMCwgZ3gwMSkgLSAwLjUpOwogICAgZ3kwMSAtPSBzdzAxICogKHN0ZXAoMC4wLCBneTAxKSAtIDAuNSk7CgogICAgdmVjNCBneDEwID0gaXh5MTAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxMCA9IGZsb29yKGd4MTApICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MTAgPSBmbG9vcihneTEwKSAqICgxLjAgLyA2LjApOwogICAgZ3gxMCA9IGZyYWN0KGd4MTApIC0gMC41OwogICAgZ3kxMCA9IGZyYWN0KGd5MTApIC0gMC41OwogICAgZ3oxMCA9IGZyYWN0KGd6MTApIC0gMC41OwogICAgdmVjNCBndzEwID0gdmVjNCgwLjc1KSAtIGFicyhneDEwKSAtIGFicyhneTEwKSAtIGFicyhnejEwKTsKICAgIHZlYzQgc3cxMCA9IHN0ZXAoZ3cxMCwgdmVjNCgwLjApKTsKICAgIGd4MTAgLT0gc3cxMCAqIChzdGVwKDAuMCwgZ3gxMCkgLSAwLjUpOwogICAgZ3kxMCAtPSBzdzEwICogKHN0ZXAoMC4wLCBneTEwKSAtIDAuNSk7CgogICAgdmVjNCBneDExID0gaXh5MTEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxMSA9IGZsb29yKGd4MTEpICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MTEgPSBmbG9vcihneTExKSAqICgxLjAgLyA2LjApOwogICAgZ3gxMSA9IGZyYWN0KGd4MTEpIC0gMC41OwogICAgZ3kxMSA9IGZyYWN0KGd5MTEpIC0gMC41OwogICAgZ3oxMSA9IGZyYWN0KGd6MTEpIC0gMC41OwogICAgdmVjNCBndzExID0gdmVjNCgwLjc1KSAtIGFicyhneDExKSAtIGFicyhneTExKSAtIGFicyhnejExKTsKICAgIHZlYzQgc3cxMSA9IHN0ZXAoZ3cxMSwgdmVjNCgwLjApKTsKICAgIGd4MTEgLT0gc3cxMSAqIChzdGVwKDAuMCwgZ3gxMSkgLSAwLjUpOwogICAgZ3kxMSAtPSBzdzExICogKHN0ZXAoMC4wLCBneTExKSAtIDAuNSk7CgogICAgdmVjNCBnMDAwMCA9IHZlYzQoZ3gwMC54LGd5MDAueCxnejAwLngsZ3cwMC54KTsKICAgIHZlYzQgZzEwMDAgPSB2ZWM0KGd4MDAueSxneTAwLnksZ3owMC55LGd3MDAueSk7CiAgICB2ZWM0IGcwMTAwID0gdmVjNChneDAwLnosZ3kwMC56LGd6MDAueixndzAwLnopOwogICAgdmVjNCBnMTEwMCA9IHZlYzQoZ3gwMC53LGd5MDAudyxnejAwLncsZ3cwMC53KTsKICAgIHZlYzQgZzAwMTAgPSB2ZWM0KGd4MTAueCxneTEwLngsZ3oxMC54LGd3MTAueCk7CiAgICB2ZWM0IGcxMDEwID0gdmVjNChneDEwLnksZ3kxMC55LGd6MTAueSxndzEwLnkpOwogICAgdmVjNCBnMDExMCA9IHZlYzQoZ3gxMC56LGd5MTAueixnejEwLnosZ3cxMC56KTsKICAgIHZlYzQgZzExMTAgPSB2ZWM0KGd4MTAudyxneTEwLncsZ3oxMC53LGd3MTAudyk7CiAgICB2ZWM0IGcwMDAxID0gdmVjNChneDAxLngsZ3kwMS54LGd6MDEueCxndzAxLngpOwogICAgdmVjNCBnMTAwMSA9IHZlYzQoZ3gwMS55LGd5MDEueSxnejAxLnksZ3cwMS55KTsKICAgIHZlYzQgZzAxMDEgPSB2ZWM0KGd4MDEueixneTAxLnosZ3owMS56LGd3MDEueik7CiAgICB2ZWM0IGcxMTAxID0gdmVjNChneDAxLncsZ3kwMS53LGd6MDEudyxndzAxLncpOwogICAgdmVjNCBnMDAxMSA9IHZlYzQoZ3gxMS54LGd5MTEueCxnejExLngsZ3cxMS54KTsKICAgIHZlYzQgZzEwMTEgPSB2ZWM0KGd4MTEueSxneTExLnksZ3oxMS55LGd3MTEueSk7CiAgICB2ZWM0IGcwMTExID0gdmVjNChneDExLnosZ3kxMS56LGd6MTEueixndzExLnopOwogICAgdmVjNCBnMTExMSA9IHZlYzQoZ3gxMS53LGd5MTEudyxnejExLncsZ3cxMS53KTsKCiAgICB2ZWM0IG5vcm0wMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDAsIGcwMDAwKSwgZG90KGcwMTAwLCBnMDEwMCksIGRvdChnMTAwMCwgZzEwMDApLCBkb3QoZzExMDAsIGcxMTAwKSkpOwogICAgZzAwMDAgKj0gbm9ybTAwLng7CiAgICBnMDEwMCAqPSBub3JtMDAueTsKICAgIGcxMDAwICo9IG5vcm0wMC56OwogICAgZzExMDAgKj0gbm9ybTAwLnc7CgogICAgdmVjNCBub3JtMDEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAxLCBnMDAwMSksIGRvdChnMDEwMSwgZzAxMDEpLCBkb3QoZzEwMDEsIGcxMDAxKSwgZG90KGcxMTAxLCBnMTEwMSkpKTsKICAgIGcwMDAxICo9IG5vcm0wMS54OwogICAgZzAxMDEgKj0gbm9ybTAxLnk7CiAgICBnMTAwMSAqPSBub3JtMDEuejsKICAgIGcxMTAxICo9IG5vcm0wMS53OwoKICAgIHZlYzQgbm9ybTEwID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxMCwgZzAwMTApLCBkb3QoZzAxMTAsIGcwMTEwKSwgZG90KGcxMDEwLCBnMTAxMCksIGRvdChnMTExMCwgZzExMTApKSk7CiAgICBnMDAxMCAqPSBub3JtMTAueDsKICAgIGcwMTEwICo9IG5vcm0xMC55OwogICAgZzEwMTAgKj0gbm9ybTEwLno7CiAgICBnMTExMCAqPSBub3JtMTAudzsKCiAgICB2ZWM0IG5vcm0xMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMTEsIGcwMDExKSwgZG90KGcwMTExLCBnMDExMSksIGRvdChnMTAxMSwgZzEwMTEpLCBkb3QoZzExMTEsIGcxMTExKSkpOwogICAgZzAwMTEgKj0gbm9ybTExLng7CiAgICBnMDExMSAqPSBub3JtMTEueTsKICAgIGcxMDExICo9IG5vcm0xMS56OwogICAgZzExMTEgKj0gbm9ybTExLnc7CgogICAgZmxvYXQgbjAwMDAgPSBkb3QoZzAwMDAsIFBmMCk7CiAgICBmbG9hdCBuMTAwMCA9IGRvdChnMTAwMCwgdmVjNChQZjEueCwgUGYwLnl6dykpOwogICAgZmxvYXQgbjAxMDAgPSBkb3QoZzAxMDAsIHZlYzQoUGYwLngsIFBmMS55LCBQZjAuencpKTsKICAgIGZsb2F0IG4xMTAwID0gZG90KGcxMTAwLCB2ZWM0KFBmMS54eSwgUGYwLnp3KSk7CiAgICBmbG9hdCBuMDAxMCA9IGRvdChnMDAxMCwgdmVjNChQZjAueHksIFBmMS56LCBQZjAudykpOwogICAgZmxvYXQgbjEwMTAgPSBkb3QoZzEwMTAsIHZlYzQoUGYxLngsIFBmMC55LCBQZjEueiwgUGYwLncpKTsKICAgIGZsb2F0IG4wMTEwID0gZG90KGcwMTEwLCB2ZWM0KFBmMC54LCBQZjEueXosIFBmMC53KSk7CiAgICBmbG9hdCBuMTExMCA9IGRvdChnMTExMCwgdmVjNChQZjEueHl6LCBQZjAudykpOwogICAgZmxvYXQgbjAwMDEgPSBkb3QoZzAwMDEsIHZlYzQoUGYwLnh5eiwgUGYxLncpKTsKICAgIGZsb2F0IG4xMDAxID0gZG90KGcxMDAxLCB2ZWM0KFBmMS54LCBQZjAueXosIFBmMS53KSk7CiAgICBmbG9hdCBuMDEwMSA9IGRvdChnMDEwMSwgdmVjNChQZjAueCwgUGYxLnksIFBmMC56LCBQZjEudykpOwogICAgZmxvYXQgbjExMDEgPSBkb3QoZzExMDEsIHZlYzQoUGYxLnh5LCBQZjAueiwgUGYxLncpKTsKICAgIGZsb2F0IG4wMDExID0gZG90KGcwMDExLCB2ZWM0KFBmMC54eSwgUGYxLnp3KSk7CiAgICBmbG9hdCBuMTAxMSA9IGRvdChnMTAxMSwgdmVjNChQZjEueCwgUGYwLnksIFBmMS56dykpOwogICAgZmxvYXQgbjAxMTEgPSBkb3QoZzAxMTEsIHZlYzQoUGYwLngsIFBmMS55encpKTsKICAgIGZsb2F0IG4xMTExID0gZG90KGcxMTExLCBQZjEpOwoKICAgIHZlYzQgZmFkZV94eXp3ID0gcXVpbnRpYyhQZjApOwogICAgdmVjNCBuXzB3ID0gbWl4KHZlYzQobjAwMDAsIG4xMDAwLCBuMDEwMCwgbjExMDApLCB2ZWM0KG4wMDAxLCBuMTAwMSwgbjAxMDEsIG4xMTAxKSwgZmFkZV94eXp3LncpOwogICAgdmVjNCBuXzF3ID0gbWl4KHZlYzQobjAwMTAsIG4xMDEwLCBuMDExMCwgbjExMTApLCB2ZWM0KG4wMDExLCBuMTAxMSwgbjAxMTEsIG4xMTExKSwgZmFkZV94eXp3LncpOwogICAgdmVjNCBuX3p3ID0gbWl4KG5fMHcsIG5fMXcsIGZhZGVfeHl6dy56KTsKICAgIHZlYzIgbl95encgPSBtaXgobl96dy54eSwgbl96dy56dywgZmFkZV94eXp3LnkpOwogICAgZmxvYXQgbl94eXp3ID0gbWl4KG5feXp3LngsIG5feXp3LnksIGZhZGVfeHl6dy54KTsKICAgIHJldHVybiAyLjIgKiBuX3h5enc7Cn0KI2VuZGlmCgoKCgoKCiNpZm5kZWYgUkFORE9NX1NDQUxFCiNpZiBkZWZpbmVkKFJBTkRPTV9ISUdIRVJfUkFOR0UpCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoLjEwMzEsIC4xMDMwLCAuMDk3MywgLjEwOTkpCiNlbHNlCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoNDQzLjg5NywgNDQxLjQyMywgLjA5NzMsIC4xMDk5KQojZW5kaWYKI2VuZGlmCgojaWZuZGVmIEZOQ19SQU5ET00KI2RlZmluZSBGTkNfUkFORE9NCmZsb2F0IHJhbmRvbShpbiBmbG9hdCB4KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgeCA9IGZyYWN0KHggKiBSQU5ET01fU0NBTEUueCk7CiAgICB4ICo9IHggKyAzMy4zMzsKICAgIHggKj0geCArIHg7CiAgICByZXR1cm4gZnJhY3QoeCk7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKHgpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjMiBzdCkgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHZlYzMgcDMgID0gZnJhY3QodmVjMyhzdC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocDMueCArIHAzLnkpICogcDMueik7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMzIHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyAgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHBvcyArPSBkb3QocG9zLCBwb3Muenl4ICsgMzEuMzIpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIHBvcy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHBvcy54eXosIHZlYzMoNzAuOTg5OCwgNzguMjMzLCAzMi40MzU1KSkpICogNDM3NTguNTQ1MzEyMyk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjNCBwb3MpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICBwb3MgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUpOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy53enh5KzMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocG9zLnggKyBwb3MueSkgKiAocG9zLnogKyBwb3MudykpOwojZWxzZQogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9Cgp2ZWMyIHJhbmRvbTIoZmxvYXQgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHAueHl4ICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzIgcmFuZG9tMih2ZWMzIHAzKSB7CiAgICBwMyA9IGZyYWN0KHAzICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzMgcmFuZG9tMyhmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4eSArIHAzLnl6eikgKiBwMy56eXgpOyAKfQoKdmVjMyByYW5kb20zKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7Cn0KCnZlYzMgcmFuZG9tMyh2ZWMzIHApIHsKICAgIHAgPSBmcmFjdChwICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwICs9IGRvdChwLCBwLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocC54eHkgKyBwLnl6eikgKiBwLnp5eCk7Cn0KCnZlYzQgcmFuZG9tNChmbG9hdCBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocCAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOyAgIAp9Cgp2ZWM0IHJhbmRvbTQodmVjMiBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocC54eXh5ICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWMzIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5enggICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWM0IHA0KSB7CiAgICBwNCA9IGZyYWN0KHA0ICAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9CgoKI2VuZGlmCgoKCgoKCiNpZm5kZWYgU1JHQl9FUFNJTE9OIAojZGVmaW5lIFNSR0JfRVBTSUxPTiAwLjAwMDAwMDAxCiNlbmRpZgoKI2lmbmRlZiBGTkNfU1JHQjJSR0IKI2RlZmluZSBGTkNfU1JHQjJSR0IKCgoKCmZsb2F0IHNyZ2IycmdiKGZsb2F0IGNoYW5uZWwpIHsKICAgIHJldHVybiAoY2hhbm5lbCA8IDAuMDQwNDUpID8gY2hhbm5lbCAqIDAuMDc3Mzk5MzgwOCA6IHBvdygoY2hhbm5lbCArIDAuMDU1KSAqIDAuOTQ3ODY3Mjk4NTc4MTk5LCAyLjQpOwp9Cgp2ZWMzIHNyZ2IycmdiKHZlYzMgc3JnYikgewogICAgcmV0dXJuIHZlYzMoc3JnYjJyZ2Ioc3JnYi5yICsgU1JHQl9FUFNJTE9OKSwgCiAgICAgICAgICAgICAgICBzcmdiMnJnYihzcmdiLmcgKyBTUkdCX0VQU0lMT04pLCAgICAgICAgICAgICAgICAgc3JnYjJyZ2Ioc3JnYi5iICsgU1JHQl9FUFNJTE9OKSk7Cn0KCnZlYzQgc3JnYjJyZ2IodmVjNCBzcmdiKSB7CiAgICByZXR1cm4gdmVjNChzcmdiMnJnYihzcmdiLnJnYiksIHNyZ2IuYSk7Cn0KCiNlbmRpZgoKCiNpZiAhZGVmaW5lZChGTkNfU0FUVVJBVEUpICYmICFkZWZpbmVkKHNhdHVyYXRlKQojZGVmaW5lIEZOQ19TQVRVUkFURQojZGVmaW5lIHNhdHVyYXRlKHgpIGNsYW1wKHgsIDAuMCwgMS4wKQojZW5kaWYKCgoKI2lmbmRlZiBTUkdCX0VQU0lMT04gCiNkZWZpbmUgU1JHQl9FUFNJTE9OIDAuMDAwMDAwMDEKI2VuZGlmCgojaWZuZGVmIEZOQ19SR0IyU1JHQgojZGVmaW5lIEZOQ19SR0IyU1JHQgoKCmZsb2F0IHJnYjJzcmdiKGZsb2F0IGNoYW5uZWwpIHsKICAgIHJldHVybiAoY2hhbm5lbCA8IDAuMDAzMTMwOCkgPyBjaGFubmVsICogMTIuOTIgOiAxLjA1NSAqIHBvdyhjaGFubmVsLCAwLjQxNjY2NjY2NjY2NjY2NjcpIC0gMC4wNTU7Cn0KCnZlYzMgcmdiMnNyZ2IodmVjMyByZ2IpIHsKICAgIHJldHVybiBzYXR1cmF0ZSh2ZWMzKHJnYjJzcmdiKHJnYi5yIC0gU1JHQl9FUFNJTE9OKSwgcmdiMnNyZ2IocmdiLmcgLSBTUkdCX0VQU0lMT04pLCByZ2Iyc3JnYihyZ2IuYiAtIFNSR0JfRVBTSUxPTikpKTsKfQoKdmVjNCByZ2Iyc3JnYih2ZWM0IHJnYikgewogICAgcmV0dXJuIHZlYzQocmdiMnNyZ2IocmdiLnJnYiksIHJnYi5hKTsKfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX01JWE9LTEFCCiNkZWZpbmUgRk5DX01JWE9LTEFCCnZlYzMgbWl4T2tsYWIoIHZlYzMgY29sQSwgdmVjMyBjb2xCLCBmbG9hdCBoICkgewoKICAgICNpZmRlZiBNSVhPS0xBQl9DT0xPUlNQQUNFX1NSR0IKICAgIGNvbEEgPSBzcmdiMnJnYihjb2xBKTsKICAgIGNvbEIgPSBzcmdiMnJnYihjb2xCKTsKICAgICNlbmRpZgoKICAgIAogICAgY29uc3QgbWF0MyBrQ09ORXRvTE1TID0gbWF0MyggICAgICAgICAgICAgICAgCiAgICAgICAgIDAuNDEyMTY1NjEyMCwgIDAuMjExODU5MTA3MCwgIDAuMDg4MzA5Nzk0NywKICAgICAgICAgMC41MzYyNzUyMDgwLCAgMC42ODA3MTg5NTg0LCAgMC4yODE4NDc0MTc0LAogICAgICAgICAwLjA1MTQ1NzU2NTMsICAwLjEwNzQwNjU3OTAsICAwLjYzMDI2MTM2MTYpOwogICAgY29uc3QgbWF0MyBrTE1TdG9DT05FID0gbWF0MygKICAgICAgICAgNC4wNzY3MjQ1MjkzLCAtMS4yNjgxNDM3NzMxLCAtMC4wMDQxMTE5ODg1LAogICAgICAgIC0zLjMwNzIxNjg4MjcsICAyLjYwOTMzMjMyMzEsIC0wLjcwMzQ3NjMwOTgsCiAgICAgICAgIDAuMjMwNzU5MDU0NCwgLTAuMzQxMTM0NDI5MCwgIDEuNzA2ODYyNTY4OSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAKICAgIHZlYzMgbG1zQSA9IHBvdygga0NPTkV0b0xNUyAqIGNvbEEsIHZlYzMoMS4wLzMuMCkgKTsKICAgIHZlYzMgbG1zQiA9IHBvdygga0NPTkV0b0xNUyAqIGNvbEIsIHZlYzMoMS4wLzMuMCkgKTsKICAgIAogICAgdmVjMyBsbXMgPSBtaXgoIGxtc0EsIGxtc0IsIGggKTsKICAgIAogICAgCiAgICB2ZWMzIHJnYiA9IGtMTVN0b0NPTkUqKGxtcypsbXMqbG1zKTsKCiAgICAjaWZkZWYgTUlYT0tMQUJfQ09MT1JTUEFDRV9TUkdCCiAgICByZXR1cm4gcmdiMnNyZ2IocmdiKTsKICAgICNlbHNlCiAgICByZXR1cm4gcmdiOwogICAgI2VuZGlmCn0KCnZlYzQgbWl4T2tsYWIoIHZlYzQgY29sQSwgdmVjNCBjb2xCLCBmbG9hdCBoICkgewogICAgcmV0dXJuIHZlYzQoIG1peE9rbGFiKGNvbEEucmdiLCBjb2xCLnJnYiwgaCksIG1peChjb2xBLmEsIGNvbEIuYSwgaCkgKTsKfQojZW5kaWYKCiAgICAKCnZvaWQgbWFpbigpIHsKCiAgZmxvYXQgZGlzdG9ydCA9IHZEaXNwbGFjZW1lbnQgKiB1X2ludGVuc2l0eTsKCiAgdmVjMiB2YWwgPSBhYnModlV2IC0gMC41KSAqIDMuMCAgKiAoMS4wIC0gZGlzdG9ydCk7CgogIAoKICB2ZWM0IGNvbG9yID0gdmVjNCh2ZWMzKHZhbCx1X2NvbG9yc1swXS5iKSwxLjApOwoKICBjb2xvciA9IG1peE9rbGFiKHVfY29sb3JzWzBdLCB1X2NvbG9yc1sxXSwgdkRpc3BsYWNlbWVudCk7CgogIAoKICAKCiAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7Cgp9CgpgLAogICAgICAgICAgICAgICAgdmVydGV4U2hhZGVyOiBgLy9HZW9tZXRyeTogcGxhbmUKCi8vT3JiaXRDb250cm9sczogZmFsc2UKCi8vR2VvbWV0cnktYXJnczogWzEsMSwgMTAyNCwgMTAyNF0KCi8vTWVzaC1zY2FsZTogMjYKCi8vTWVzaC1yb3RhdGlvbjogWy0wLjgsMCwwXQoKLy9jYW1lcmEtcG9zaXRpb246IFswLjAsIDAuMCwgMi4wXQoKLy9jYW1lcmEtZm92OiA5MAoKLy9jYW1lcmEtZmFyOiAyMDAwCgovL2NhbWVyYS1uZWFyOiAwLjAxCgoKCnVuaWZvcm0gZmxvYXQgdV9pbnRlbnNpdHk7Cgp1bmlmb3JtIGZsb2F0IHVfdGltZTsKCnVuaWZvcm0gZmxvYXQgdV9zcGVlZDsKCnVuaWZvcm0gYm9vbCB1X3JvdGF0ZTsKCnVuaWZvcm0gZmxvYXQgdV9zY2FsZTsKCgoKdmFyeWluZyB2ZWMyIHZVdjsKCnZhcnlpbmcgZmxvYXQgdkRpc3BsYWNlbWVudDsKCgoKCgoKCiNpZm5kZWYgRk5DX01PRDI4OQojZGVmaW5lIEZOQ19NT0QyODkKCmZsb2F0IG1vZDI4OShjb25zdCBpbiBmbG9hdCB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjMiBtb2QyODkoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjMyBtb2QyODkoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjNCBtb2QyODkoY29uc3QgaW4gdmVjNCB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KCiNlbmRpZgoKCgoKCiNpZm5kZWYgRk5DX1BFUk1VVEUKI2RlZmluZSBGTkNfUEVSTVVURQoKZmxvYXQgcGVybXV0ZShjb25zdCBpbiBmbG9hdCB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMiBwZXJtdXRlKGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzMgcGVybXV0ZShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWM0IHBlcm11dGUoY29uc3QgaW4gdmVjNCB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19UQVlMT1JJTlZTUVJUCiNkZWZpbmUgRk5DX1RBWUxPUklOVlNRUlQKZmxvYXQgdGF5bG9ySW52U3FydChpbiBmbG9hdCByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMiB0YXlsb3JJbnZTcXJ0KGluIHZlYzIgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzMgdGF5bG9ySW52U3FydChpbiB2ZWMzIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWM0IHRheWxvckludlNxcnQoaW4gdmVjNCByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KI2VuZGlmCgoKI2lmbmRlZiBGTkNfUVVJTlRJQwojZGVmaW5lIEZOQ19RVUlOVElDIAoKZmxvYXQgcXVpbnRpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMiAgcXVpbnRpYyhjb25zdCBpbiB2ZWMyIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMyAgcXVpbnRpYyhjb25zdCBpbiB2ZWMzIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjNCAgcXVpbnRpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19DTk9JU0UKI2RlZmluZSBGTkNfQ05PSVNFCgpmbG9hdCBjbm9pc2UoaW4gdmVjMiBQKSB7CiAgICB2ZWM0IFBpID0gZmxvb3IoUC54eXh5KSArIHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsKICAgIHZlYzQgUGYgPSBmcmFjdChQLnh5eHkpIC0gdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApOwogICAgUGkgPSBtb2QyODkoUGkpOyAKICAgIHZlYzQgaXggPSBQaS54enh6OwogICAgdmVjNCBpeSA9IFBpLnl5d3c7CiAgICB2ZWM0IGZ4ID0gUGYueHp4ejsKICAgIHZlYzQgZnkgPSBQZi55eXd3OwoKICAgIHZlYzQgaSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7CgogICAgdmVjNCBneCA9IGZyYWN0KGkgKiAoMS4wIC8gNDEuMCkpICogMi4wIC0gMS4wIDsKICAgIHZlYzQgZ3kgPSBhYnMoZ3gpIC0gMC41IDsKICAgIHZlYzQgdHggPSBmbG9vcihneCArIDAuNSk7CiAgICBneCA9IGd4IC0gdHg7CgogICAgdmVjMiBnMDAgPSB2ZWMyKGd4LngsZ3kueCk7CiAgICB2ZWMyIGcxMCA9IHZlYzIoZ3gueSxneS55KTsKICAgIHZlYzIgZzAxID0gdmVjMihneC56LGd5LnopOwogICAgdmVjMiBnMTEgPSB2ZWMyKGd4LncsZ3kudyk7CgogICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAsIGcwMCksIGRvdChnMDEsIGcwMSksIGRvdChnMTAsIGcxMCksIGRvdChnMTEsIGcxMSkpKTsKICAgIGcwMCAqPSBub3JtLng7CiAgICBnMDEgKj0gbm9ybS55OwogICAgZzEwICo9IG5vcm0uejsKICAgIGcxMSAqPSBub3JtLnc7CgogICAgZmxvYXQgbjAwID0gZG90KGcwMCwgdmVjMihmeC54LCBmeS54KSk7CiAgICBmbG9hdCBuMTAgPSBkb3QoZzEwLCB2ZWMyKGZ4LnksIGZ5LnkpKTsKICAgIGZsb2F0IG4wMSA9IGRvdChnMDEsIHZlYzIoZngueiwgZnkueikpOwogICAgZmxvYXQgbjExID0gZG90KGcxMSwgdmVjMihmeC53LCBmeS53KSk7CgogICAgdmVjMiBmYWRlX3h5ID0gcXVpbnRpYyhQZi54eSk7CiAgICB2ZWMyIG5feCA9IG1peCh2ZWMyKG4wMCwgbjAxKSwgdmVjMihuMTAsIG4xMSksIGZhZGVfeHkueCk7CiAgICBmbG9hdCBuX3h5ID0gbWl4KG5feC54LCBuX3gueSwgZmFkZV94eS55KTsKICAgIHJldHVybiAyLjMgKiBuX3h5Owp9CgpmbG9hdCBjbm9pc2UoaW4gdmVjMyBQKSB7CiAgICB2ZWMzIFBpMCA9IGZsb29yKFApOyAKICAgIHZlYzMgUGkxID0gUGkwICsgdmVjMygxLjApOyAKICAgIFBpMCA9IG1vZDI4OShQaTApOwogICAgUGkxID0gbW9kMjg5KFBpMSk7CiAgICB2ZWMzIFBmMCA9IGZyYWN0KFApOyAKICAgIHZlYzMgUGYxID0gUGYwIC0gdmVjMygxLjApOyAKICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTsKICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTsKICAgIHZlYzQgaXowID0gUGkwLnp6eno7CiAgICB2ZWM0IGl6MSA9IFBpMS56enp6OwoKICAgIHZlYzQgaXh5ID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTsKICAgIHZlYzQgaXh5MCA9IHBlcm11dGUoaXh5ICsgaXowKTsKICAgIHZlYzQgaXh5MSA9IHBlcm11dGUoaXh5ICsgaXoxKTsKCiAgICB2ZWM0IGd4MCA9IGl4eTAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwID0gZnJhY3QoZmxvb3IoZ3gwKSAqICgxLjAgLyA3LjApKSAtIDAuNTsKICAgIGd4MCA9IGZyYWN0KGd4MCk7CiAgICB2ZWM0IGd6MCA9IHZlYzQoMC41KSAtIGFicyhneDApIC0gYWJzKGd5MCk7CiAgICB2ZWM0IHN6MCA9IHN0ZXAoZ3owLCB2ZWM0KDAuMCkpOwogICAgZ3gwIC09IHN6MCAqIChzdGVwKDAuMCwgZ3gwKSAtIDAuNSk7CiAgICBneTAgLT0gc3owICogKHN0ZXAoMC4wLCBneTApIC0gMC41KTsKCiAgICB2ZWM0IGd4MSA9IGl4eTEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxID0gZnJhY3QoZmxvb3IoZ3gxKSAqICgxLjAgLyA3LjApKSAtIDAuNTsKICAgIGd4MSA9IGZyYWN0KGd4MSk7CiAgICB2ZWM0IGd6MSA9IHZlYzQoMC41KSAtIGFicyhneDEpIC0gYWJzKGd5MSk7CiAgICB2ZWM0IHN6MSA9IHN0ZXAoZ3oxLCB2ZWM0KDAuMCkpOwogICAgZ3gxIC09IHN6MSAqIChzdGVwKDAuMCwgZ3gxKSAtIDAuNSk7CiAgICBneTEgLT0gc3oxICogKHN0ZXAoMC4wLCBneTEpIC0gMC41KTsKCiAgICB2ZWMzIGcwMDAgPSB2ZWMzKGd4MC54LGd5MC54LGd6MC54KTsKICAgIHZlYzMgZzEwMCA9IHZlYzMoZ3gwLnksZ3kwLnksZ3owLnkpOwogICAgdmVjMyBnMDEwID0gdmVjMyhneDAueixneTAueixnejAueik7CiAgICB2ZWMzIGcxMTAgPSB2ZWMzKGd4MC53LGd5MC53LGd6MC53KTsKICAgIHZlYzMgZzAwMSA9IHZlYzMoZ3gxLngsZ3kxLngsZ3oxLngpOwogICAgdmVjMyBnMTAxID0gdmVjMyhneDEueSxneTEueSxnejEueSk7CiAgICB2ZWMzIGcwMTEgPSB2ZWMzKGd4MS56LGd5MS56LGd6MS56KTsKICAgIHZlYzMgZzExMSA9IHZlYzMoZ3gxLncsZ3kxLncsZ3oxLncpOwoKICAgIHZlYzQgbm9ybTAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAsIGcwMDApLCBkb3QoZzAxMCwgZzAxMCksIGRvdChnMTAwLCBnMTAwKSwgZG90KGcxMTAsIGcxMTApKSk7CiAgICBnMDAwICo9IG5vcm0wLng7CiAgICBnMDEwICo9IG5vcm0wLnk7CiAgICBnMTAwICo9IG5vcm0wLno7CiAgICBnMTEwICo9IG5vcm0wLnc7CiAgICB2ZWM0IG5vcm0xID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxLCBnMDAxKSwgZG90KGcwMTEsIGcwMTEpLCBkb3QoZzEwMSwgZzEwMSksIGRvdChnMTExLCBnMTExKSkpOwogICAgZzAwMSAqPSBub3JtMS54OwogICAgZzAxMSAqPSBub3JtMS55OwogICAgZzEwMSAqPSBub3JtMS56OwogICAgZzExMSAqPSBub3JtMS53OwoKICAgIGZsb2F0IG4wMDAgPSBkb3QoZzAwMCwgUGYwKTsKICAgIGZsb2F0IG4xMDAgPSBkb3QoZzEwMCwgdmVjMyhQZjEueCwgUGYwLnl6KSk7CiAgICBmbG9hdCBuMDEwID0gZG90KGcwMTAsIHZlYzMoUGYwLngsIFBmMS55LCBQZjAueikpOwogICAgZmxvYXQgbjExMCA9IGRvdChnMTEwLCB2ZWMzKFBmMS54eSwgUGYwLnopKTsKICAgIGZsb2F0IG4wMDEgPSBkb3QoZzAwMSwgdmVjMyhQZjAueHksIFBmMS56KSk7CiAgICBmbG9hdCBuMTAxID0gZG90KGcxMDEsIHZlYzMoUGYxLngsIFBmMC55LCBQZjEueikpOwogICAgZmxvYXQgbjAxMSA9IGRvdChnMDExLCB2ZWMzKFBmMC54LCBQZjEueXopKTsKICAgIGZsb2F0IG4xMTEgPSBkb3QoZzExMSwgUGYxKTsKCiAgICB2ZWMzIGZhZGVfeHl6ID0gcXVpbnRpYyhQZjApOwogICAgdmVjNCBuX3ogPSBtaXgodmVjNChuMDAwLCBuMTAwLCBuMDEwLCBuMTEwKSwgdmVjNChuMDAxLCBuMTAxLCBuMDExLCBuMTExKSwgZmFkZV94eXoueik7CiAgICB2ZWMyIG5feXogPSBtaXgobl96Lnh5LCBuX3ouencsIGZhZGVfeHl6LnkpOwogICAgZmxvYXQgbl94eXogPSBtaXgobl95ei54LCBuX3l6LnksIGZhZGVfeHl6LngpOwogICAgcmV0dXJuIDIuMiAqIG5feHl6Owp9CgpmbG9hdCBjbm9pc2UoaW4gdmVjNCBQKSB7CiAgICB2ZWM0IFBpMCA9IGZsb29yKFApOyAKICAgIHZlYzQgUGkxID0gUGkwICsgMS4wOyAKICAgIFBpMCA9IG1vZDI4OShQaTApOwogICAgUGkxID0gbW9kMjg5KFBpMSk7CiAgICB2ZWM0IFBmMCA9IGZyYWN0KFApOyAKICAgIHZlYzQgUGYxID0gUGYwIC0gMS4wOyAKICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTsKICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTsKICAgIHZlYzQgaXowID0gdmVjNChQaTAuenp6eik7CiAgICB2ZWM0IGl6MSA9IHZlYzQoUGkxLnp6enopOwogICAgdmVjNCBpdzAgPSB2ZWM0KFBpMC53d3d3KTsKICAgIHZlYzQgaXcxID0gdmVjNChQaTEud3d3dyk7CgogICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpOwogICAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApOwogICAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpOwogICAgdmVjNCBpeHkwMCA9IHBlcm11dGUoaXh5MCArIGl3MCk7CiAgICB2ZWM0IGl4eTAxID0gcGVybXV0ZShpeHkwICsgaXcxKTsKICAgIHZlYzQgaXh5MTAgPSBwZXJtdXRlKGl4eTEgKyBpdzApOwogICAgdmVjNCBpeHkxMSA9IHBlcm11dGUoaXh5MSArIGl3MSk7CgogICAgdmVjNCBneDAwID0gaXh5MDAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwMCA9IGZsb29yKGd4MDApICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MDAgPSBmbG9vcihneTAwKSAqICgxLjAgLyA2LjApOwogICAgZ3gwMCA9IGZyYWN0KGd4MDApIC0gMC41OwogICAgZ3kwMCA9IGZyYWN0KGd5MDApIC0gMC41OwogICAgZ3owMCA9IGZyYWN0KGd6MDApIC0gMC41OwogICAgdmVjNCBndzAwID0gdmVjNCgwLjc1KSAtIGFicyhneDAwKSAtIGFicyhneTAwKSAtIGFicyhnejAwKTsKICAgIHZlYzQgc3cwMCA9IHN0ZXAoZ3cwMCwgdmVjNCgwLjApKTsKICAgIGd4MDAgLT0gc3cwMCAqIChzdGVwKDAuMCwgZ3gwMCkgLSAwLjUpOwogICAgZ3kwMCAtPSBzdzAwICogKHN0ZXAoMC4wLCBneTAwKSAtIDAuNSk7CgogICAgdmVjNCBneDAxID0gaXh5MDEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwMSA9IGZsb29yKGd4MDEpICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MDEgPSBmbG9vcihneTAxKSAqICgxLjAgLyA2LjApOwogICAgZ3gwMSA9IGZyYWN0KGd4MDEpIC0gMC41OwogICAgZ3kwMSA9IGZyYWN0KGd5MDEpIC0gMC41OwogICAgZ3owMSA9IGZyYWN0KGd6MDEpIC0gMC41OwogICAgdmVjNCBndzAxID0gdmVjNCgwLjc1KSAtIGFicyhneDAxKSAtIGFicyhneTAxKSAtIGFicyhnejAxKTsKICAgIHZlYzQgc3cwMSA9IHN0ZXAoZ3cwMSwgdmVjNCgwLjApKTsKICAgIGd4MDEgLT0gc3cwMSAqIChzdGVwKDAuMCwgZ3gwMSkgLSAwLjUpOwogICAgZ3kwMSAtPSBzdzAxICogKHN0ZXAoMC4wLCBneTAxKSAtIDAuNSk7CgogICAgdmVjNCBneDEwID0gaXh5MTAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxMCA9IGZsb29yKGd4MTApICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MTAgPSBmbG9vcihneTEwKSAqICgxLjAgLyA2LjApOwogICAgZ3gxMCA9IGZyYWN0KGd4MTApIC0gMC41OwogICAgZ3kxMCA9IGZyYWN0KGd5MTApIC0gMC41OwogICAgZ3oxMCA9IGZyYWN0KGd6MTApIC0gMC41OwogICAgdmVjNCBndzEwID0gdmVjNCgwLjc1KSAtIGFicyhneDEwKSAtIGFicyhneTEwKSAtIGFicyhnejEwKTsKICAgIHZlYzQgc3cxMCA9IHN0ZXAoZ3cxMCwgdmVjNCgwLjApKTsKICAgIGd4MTAgLT0gc3cxMCAqIChzdGVwKDAuMCwgZ3gxMCkgLSAwLjUpOwogICAgZ3kxMCAtPSBzdzEwICogKHN0ZXAoMC4wLCBneTEwKSAtIDAuNSk7CgogICAgdmVjNCBneDExID0gaXh5MTEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxMSA9IGZsb29yKGd4MTEpICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MTEgPSBmbG9vcihneTExKSAqICgxLjAgLyA2LjApOwogICAgZ3gxMSA9IGZyYWN0KGd4MTEpIC0gMC41OwogICAgZ3kxMSA9IGZyYWN0KGd5MTEpIC0gMC41OwogICAgZ3oxMSA9IGZyYWN0KGd6MTEpIC0gMC41OwogICAgdmVjNCBndzExID0gdmVjNCgwLjc1KSAtIGFicyhneDExKSAtIGFicyhneTExKSAtIGFicyhnejExKTsKICAgIHZlYzQgc3cxMSA9IHN0ZXAoZ3cxMSwgdmVjNCgwLjApKTsKICAgIGd4MTEgLT0gc3cxMSAqIChzdGVwKDAuMCwgZ3gxMSkgLSAwLjUpOwogICAgZ3kxMSAtPSBzdzExICogKHN0ZXAoMC4wLCBneTExKSAtIDAuNSk7CgogICAgdmVjNCBnMDAwMCA9IHZlYzQoZ3gwMC54LGd5MDAueCxnejAwLngsZ3cwMC54KTsKICAgIHZlYzQgZzEwMDAgPSB2ZWM0KGd4MDAueSxneTAwLnksZ3owMC55LGd3MDAueSk7CiAgICB2ZWM0IGcwMTAwID0gdmVjNChneDAwLnosZ3kwMC56LGd6MDAueixndzAwLnopOwogICAgdmVjNCBnMTEwMCA9IHZlYzQoZ3gwMC53LGd5MDAudyxnejAwLncsZ3cwMC53KTsKICAgIHZlYzQgZzAwMTAgPSB2ZWM0KGd4MTAueCxneTEwLngsZ3oxMC54LGd3MTAueCk7CiAgICB2ZWM0IGcxMDEwID0gdmVjNChneDEwLnksZ3kxMC55LGd6MTAueSxndzEwLnkpOwogICAgdmVjNCBnMDExMCA9IHZlYzQoZ3gxMC56LGd5MTAueixnejEwLnosZ3cxMC56KTsKICAgIHZlYzQgZzExMTAgPSB2ZWM0KGd4MTAudyxneTEwLncsZ3oxMC53LGd3MTAudyk7CiAgICB2ZWM0IGcwMDAxID0gdmVjNChneDAxLngsZ3kwMS54LGd6MDEueCxndzAxLngpOwogICAgdmVjNCBnMTAwMSA9IHZlYzQoZ3gwMS55LGd5MDEueSxnejAxLnksZ3cwMS55KTsKICAgIHZlYzQgZzAxMDEgPSB2ZWM0KGd4MDEueixneTAxLnosZ3owMS56LGd3MDEueik7CiAgICB2ZWM0IGcxMTAxID0gdmVjNChneDAxLncsZ3kwMS53LGd6MDEudyxndzAxLncpOwogICAgdmVjNCBnMDAxMSA9IHZlYzQoZ3gxMS54LGd5MTEueCxnejExLngsZ3cxMS54KTsKICAgIHZlYzQgZzEwMTEgPSB2ZWM0KGd4MTEueSxneTExLnksZ3oxMS55LGd3MTEueSk7CiAgICB2ZWM0IGcwMTExID0gdmVjNChneDExLnosZ3kxMS56LGd6MTEueixndzExLnopOwogICAgdmVjNCBnMTExMSA9IHZlYzQoZ3gxMS53LGd5MTEudyxnejExLncsZ3cxMS53KTsKCiAgICB2ZWM0IG5vcm0wMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDAsIGcwMDAwKSwgZG90KGcwMTAwLCBnMDEwMCksIGRvdChnMTAwMCwgZzEwMDApLCBkb3QoZzExMDAsIGcxMTAwKSkpOwogICAgZzAwMDAgKj0gbm9ybTAwLng7CiAgICBnMDEwMCAqPSBub3JtMDAueTsKICAgIGcxMDAwICo9IG5vcm0wMC56OwogICAgZzExMDAgKj0gbm9ybTAwLnc7CgogICAgdmVjNCBub3JtMDEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAxLCBnMDAwMSksIGRvdChnMDEwMSwgZzAxMDEpLCBkb3QoZzEwMDEsIGcxMDAxKSwgZG90KGcxMTAxLCBnMTEwMSkpKTsKICAgIGcwMDAxICo9IG5vcm0wMS54OwogICAgZzAxMDEgKj0gbm9ybTAxLnk7CiAgICBnMTAwMSAqPSBub3JtMDEuejsKICAgIGcxMTAxICo9IG5vcm0wMS53OwoKICAgIHZlYzQgbm9ybTEwID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxMCwgZzAwMTApLCBkb3QoZzAxMTAsIGcwMTEwKSwgZG90KGcxMDEwLCBnMTAxMCksIGRvdChnMTExMCwgZzExMTApKSk7CiAgICBnMDAxMCAqPSBub3JtMTAueDsKICAgIGcwMTEwICo9IG5vcm0xMC55OwogICAgZzEwMTAgKj0gbm9ybTEwLno7CiAgICBnMTExMCAqPSBub3JtMTAudzsKCiAgICB2ZWM0IG5vcm0xMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMTEsIGcwMDExKSwgZG90KGcwMTExLCBnMDExMSksIGRvdChnMTAxMSwgZzEwMTEpLCBkb3QoZzExMTEsIGcxMTExKSkpOwogICAgZzAwMTEgKj0gbm9ybTExLng7CiAgICBnMDExMSAqPSBub3JtMTEueTsKICAgIGcxMDExICo9IG5vcm0xMS56OwogICAgZzExMTEgKj0gbm9ybTExLnc7CgogICAgZmxvYXQgbjAwMDAgPSBkb3QoZzAwMDAsIFBmMCk7CiAgICBmbG9hdCBuMTAwMCA9IGRvdChnMTAwMCwgdmVjNChQZjEueCwgUGYwLnl6dykpOwogICAgZmxvYXQgbjAxMDAgPSBkb3QoZzAxMDAsIHZlYzQoUGYwLngsIFBmMS55LCBQZjAuencpKTsKICAgIGZsb2F0IG4xMTAwID0gZG90KGcxMTAwLCB2ZWM0KFBmMS54eSwgUGYwLnp3KSk7CiAgICBmbG9hdCBuMDAxMCA9IGRvdChnMDAxMCwgdmVjNChQZjAueHksIFBmMS56LCBQZjAudykpOwogICAgZmxvYXQgbjEwMTAgPSBkb3QoZzEwMTAsIHZlYzQoUGYxLngsIFBmMC55LCBQZjEueiwgUGYwLncpKTsKICAgIGZsb2F0IG4wMTEwID0gZG90KGcwMTEwLCB2ZWM0KFBmMC54LCBQZjEueXosIFBmMC53KSk7CiAgICBmbG9hdCBuMTExMCA9IGRvdChnMTExMCwgdmVjNChQZjEueHl6LCBQZjAudykpOwogICAgZmxvYXQgbjAwMDEgPSBkb3QoZzAwMDEsIHZlYzQoUGYwLnh5eiwgUGYxLncpKTsKICAgIGZsb2F0IG4xMDAxID0gZG90KGcxMDAxLCB2ZWM0KFBmMS54LCBQZjAueXosIFBmMS53KSk7CiAgICBmbG9hdCBuMDEwMSA9IGRvdChnMDEwMSwgdmVjNChQZjAueCwgUGYxLnksIFBmMC56LCBQZjEudykpOwogICAgZmxvYXQgbjExMDEgPSBkb3QoZzExMDEsIHZlYzQoUGYxLnh5LCBQZjAueiwgUGYxLncpKTsKICAgIGZsb2F0IG4wMDExID0gZG90KGcwMDExLCB2ZWM0KFBmMC54eSwgUGYxLnp3KSk7CiAgICBmbG9hdCBuMTAxMSA9IGRvdChnMTAxMSwgdmVjNChQZjEueCwgUGYwLnksIFBmMS56dykpOwogICAgZmxvYXQgbjAxMTEgPSBkb3QoZzAxMTEsIHZlYzQoUGYwLngsIFBmMS55encpKTsKICAgIGZsb2F0IG4xMTExID0gZG90KGcxMTExLCBQZjEpOwoKICAgIHZlYzQgZmFkZV94eXp3ID0gcXVpbnRpYyhQZjApOwogICAgdmVjNCBuXzB3ID0gbWl4KHZlYzQobjAwMDAsIG4xMDAwLCBuMDEwMCwgbjExMDApLCB2ZWM0KG4wMDAxLCBuMTAwMSwgbjAxMDEsIG4xMTAxKSwgZmFkZV94eXp3LncpOwogICAgdmVjNCBuXzF3ID0gbWl4KHZlYzQobjAwMTAsIG4xMDEwLCBuMDExMCwgbjExMTApLCB2ZWM0KG4wMDExLCBuMTAxMSwgbjAxMTEsIG4xMTExKSwgZmFkZV94eXp3LncpOwogICAgdmVjNCBuX3p3ID0gbWl4KG5fMHcsIG5fMXcsIGZhZGVfeHl6dy56KTsKICAgIHZlYzIgbl95encgPSBtaXgobl96dy54eSwgbl96dy56dywgZmFkZV94eXp3LnkpOwogICAgZmxvYXQgbl94eXp3ID0gbWl4KG5feXp3LngsIG5feXp3LnksIGZhZGVfeHl6dy54KTsKICAgIHJldHVybiAyLjIgKiBuX3h5enc7Cn0KI2VuZGlmCgoKCgoKCiNpZm5kZWYgUkFORE9NX1NDQUxFCiNpZiBkZWZpbmVkKFJBTkRPTV9ISUdIRVJfUkFOR0UpCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoLjEwMzEsIC4xMDMwLCAuMDk3MywgLjEwOTkpCiNlbHNlCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoNDQzLjg5NywgNDQxLjQyMywgLjA5NzMsIC4xMDk5KQojZW5kaWYKI2VuZGlmCgojaWZuZGVmIEZOQ19SQU5ET00KI2RlZmluZSBGTkNfUkFORE9NCmZsb2F0IHJhbmRvbShpbiBmbG9hdCB4KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgeCA9IGZyYWN0KHggKiBSQU5ET01fU0NBTEUueCk7CiAgICB4ICo9IHggKyAzMy4zMzsKICAgIHggKj0geCArIHg7CiAgICByZXR1cm4gZnJhY3QoeCk7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKHgpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjMiBzdCkgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHZlYzMgcDMgID0gZnJhY3QodmVjMyhzdC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocDMueCArIHAzLnkpICogcDMueik7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMzIHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyAgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHBvcyArPSBkb3QocG9zLCBwb3Muenl4ICsgMzEuMzIpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIHBvcy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHBvcy54eXosIHZlYzMoNzAuOTg5OCwgNzguMjMzLCAzMi40MzU1KSkpICogNDM3NTguNTQ1MzEyMyk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjNCBwb3MpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICBwb3MgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUpOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy53enh5KzMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocG9zLnggKyBwb3MueSkgKiAocG9zLnogKyBwb3MudykpOwojZWxzZQogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9Cgp2ZWMyIHJhbmRvbTIoZmxvYXQgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHAueHl4ICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzIgcmFuZG9tMih2ZWMzIHAzKSB7CiAgICBwMyA9IGZyYWN0KHAzICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzMgcmFuZG9tMyhmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4eSArIHAzLnl6eikgKiBwMy56eXgpOyAKfQoKdmVjMyByYW5kb20zKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7Cn0KCnZlYzMgcmFuZG9tMyh2ZWMzIHApIHsKICAgIHAgPSBmcmFjdChwICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwICs9IGRvdChwLCBwLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocC54eHkgKyBwLnl6eikgKiBwLnp5eCk7Cn0KCnZlYzQgcmFuZG9tNChmbG9hdCBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocCAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOyAgIAp9Cgp2ZWM0IHJhbmRvbTQodmVjMiBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocC54eXh5ICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWMzIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5enggICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWM0IHA0KSB7CiAgICBwNCA9IGZyYWN0KHA0ICAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9CgoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1NSQU5ET00KI2RlZmluZSBGTkNfU1JBTkRPTQoKZmxvYXQgc3JhbmRvbShpbiBmbG9hdCB4KSB7CiAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKHgpICogNDM3NTguNTQ1Myk7Cn0KCmZsb2F0IHNyYW5kb20oaW4gdmVjMiBzdCkgewogIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3Qoc3QueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7Cn0KCmZsb2F0IHNyYW5kb20oaW4gdmVjMyBwb3MpIHsKICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oZG90KHBvcy54eXosIHZlYzMoNzAuOTg5OCwgNzguMjMzLCAzMi40MzU1KSkpICogNDM3NTguNTQ1MzEyMyk7Cn0KCmZsb2F0IHNyYW5kb20oaW4gdmVjNCBwb3MpIHsKICAgIGZsb2F0IGRvdF9wcm9kdWN0ID0gZG90KHBvcywgdmVjNCgxMi45ODk4LDc4LjIzMyw0NS4xNjQsOTQuNjczKSk7CiAgICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7Cn0KCnZlYzIgc3JhbmRvbTIoaW4gdmVjMiBzdCkgewogICAgY29uc3QgdmVjMiBrID0gdmVjMiguMzE4MzA5OSwgLjM2Nzg3OTQpOwogICAgc3QgPSBzdCAqIGsgKyBrLnl4OwogICAgcmV0dXJuIC0xLiArIDIuICogZnJhY3QoMTYuICogayAqIGZyYWN0KHN0LnggKiBzdC55ICogKHN0LnggKyBzdC55KSkpOwp9Cgp2ZWMzIHNyYW5kb20zKGluIHZlYzMgcCkgewogICAgcCA9IHZlYzMoIGRvdChwLCB2ZWMzKDEyNy4xLCAzMTEuNywgNzQuNykpLAogICAgICAgICAgICBkb3QocCwgdmVjMygyNjkuNSwgMTgzLjMsIDI0Ni4xKSksCiAgICAgICAgICAgIGRvdChwLCB2ZWMzKDExMy41LCAyNzEuOSwgMTI0LjYpKSk7CiAgICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4ocCkgKiA0Mzc1OC41NDUzMTIzKTsKfQoKdmVjMiBzcmFuZG9tMihpbiB2ZWMyIHAsIGNvbnN0IGluIGZsb2F0IHRpbGVMZW5ndGgpIHsKICAgIHAgPSBtb2QocCwgdmVjMih0aWxlTGVuZ3RoKSk7CiAgICByZXR1cm4gc3JhbmRvbTIocCk7Cn0KCnZlYzMgc3JhbmRvbTMoaW4gdmVjMyBwLCBjb25zdCBpbiBmbG9hdCB0aWxlTGVuZ3RoKSB7CiAgICBwID0gbW9kKHAsIHZlYzModGlsZUxlbmd0aCkpOwogICAgcmV0dXJuIHNyYW5kb20zKHApOwp9CgojZW5kaWYKCgojaWZuZGVmIEZOQ19DVUJJQwojZGVmaW5lIEZOQ19DVUJJQyAKZmxvYXQgY3ViaWMoY29uc3QgaW4gZmxvYXQgdikgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CnZlYzIgIGN1YmljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQp2ZWMzICBjdWJpYyhjb25zdCBpbiB2ZWMzIHYpICB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KdmVjNCAgY3ViaWMoY29uc3QgaW4gdmVjNCB2KSAgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CgpmbG9hdCBjdWJpYyhjb25zdCBpbiBmbG9hdCB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICBmbG9hdCB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgZmxvYXQgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KCnZlYzIgY3ViaWMoY29uc3QgaW4gdmVjMiB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICB2ZWMyIHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICB2ZWMyIHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9Cgp2ZWMzIGN1YmljKGNvbnN0IGluIHZlYzMgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgdmVjMyB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgdmVjMyB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQoKdmVjNCBjdWJpYyhjb25zdCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIHZlYzQgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIHZlYzQgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KI2VuZGlmCgoKI2lmbmRlZiBGTkNfUVVJTlRJQwojZGVmaW5lIEZOQ19RVUlOVElDIAoKZmxvYXQgcXVpbnRpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMiAgcXVpbnRpYyhjb25zdCBpbiB2ZWMyIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMyAgcXVpbnRpYyhjb25zdCBpbiB2ZWMzIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjNCAgcXVpbnRpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19HTk9JU0UKI2RlZmluZSBGTkNfR05PSVNFCgpmbG9hdCBnbm9pc2UoZmxvYXQgeCkgewogICAgZmxvYXQgaSA9IGZsb29yKHgpOyAgCiAgICBmbG9hdCBmID0gZnJhY3QoeCk7ICAKICAgIHJldHVybiBtaXgocmFuZG9tKGkpLCByYW5kb20oaSArIDEuMCksIHNtb290aHN0ZXAoMC4sMS4sZikpOyAKfQoKZmxvYXQgZ25vaXNlKHZlYzIgc3QpIHsKICAgIHZlYzIgaSA9IGZsb29yKHN0KTsKICAgIHZlYzIgZiA9IGZyYWN0KHN0KTsKICAgIGZsb2F0IGEgPSByYW5kb20oaSk7CiAgICBmbG9hdCBiID0gcmFuZG9tKGkgKyB2ZWMyKDEuMCwgMC4wKSk7CiAgICBmbG9hdCBjID0gcmFuZG9tKGkgKyB2ZWMyKDAuMCwgMS4wKSk7CiAgICBmbG9hdCBkID0gcmFuZG9tKGkgKyB2ZWMyKDEuMCwgMS4wKSk7CiAgICB2ZWMyIHUgPSBjdWJpYyhmKTsKICAgIHJldHVybiBtaXgoIGEsIGIsIHUueCkgKwogICAgICAgICAgICAgICAgKGMgLSBhKSogdS55ICogKDEuMCAtIHUueCkgKwogICAgICAgICAgICAgICAgKGQgLSBiKSAqIHUueCAqIHUueTsKfQoKZmxvYXQgZ25vaXNlKHZlYzMgcCkgewogICAgdmVjMyBpID0gZmxvb3IocCk7CiAgICB2ZWMzIGYgPSBmcmFjdChwKTsKICAgIHZlYzMgdSA9IHF1aW50aWMoZik7CiAgICByZXR1cm4gLTEuMCArIDIuMCAqIG1peCggbWl4KCBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMC4wLDAuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMC4wLDAuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwxLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwxLjAsMC4wKSksIHUueCksIHUueSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXgoIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwwLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwwLjAsMS4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDEuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDEuMCwxLjApKSwgdS54KSwgdS55KSwgdS56ICk7Cn0KCmZsb2F0IGdub2lzZSh2ZWMzIHAsIGZsb2F0IHRpbGVMZW5ndGgpIHsKICAgIHZlYzMgaSA9IGZsb29yKHApOwogICAgdmVjMyBmID0gZnJhY3QocCk7CiAgICAgICAgICAgIAogICAgdmVjMyB1ID0gcXVpbnRpYyhmKTsKICAgICAgICAKICAgIHJldHVybiBtaXgoIG1peCggbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwwLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwwLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMC4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMC4wLDAuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgIG1peCggZG90KCBzcmFuZG9tMyhpICsgdmVjMygwLjAsMS4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygwLjAsMS4wLDAuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMS4wLDEuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMS4wLDEuMCwwLjApKSwgdS54KSwgdS55KSwKICAgICAgICAgICAgICAgIG1peCggbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwwLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwwLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMC4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMC4wLDEuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgIG1peCggZG90KCBzcmFuZG9tMyhpICsgdmVjMygwLjAsMS4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygwLjAsMS4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMS4wLDEuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMS4wLDEuMCwxLjApKSwgdS54KSwgdS55KSwgdS56ICk7Cn0KCnZlYzMgZ25vaXNlMyh2ZWMzIHgpIHsKICAgIHJldHVybiB2ZWMzKGdub2lzZSh4K3ZlYzMoMTIzLjQ1NiwgMC41NjcsIDAuMzcpKSwKICAgICAgICAgICAgICAgIGdub2lzZSh4K3ZlYzMoMC4xMSwgNDcuNDMsIDE5LjE3KSksCiAgICAgICAgICAgICAgICBnbm9pc2UoeCkgKTsKfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19HUkFENAojZGVmaW5lIEZOQ19HUkFENAp2ZWM0IGdyYWQ0KGZsb2F0IGosIHZlYzQgaXApIHsKICAgIGNvbnN0IHZlYzQgb25lcyA9IHZlYzQoMS4wLCAxLjAsIDEuMCwgLTEuMCk7CiAgICB2ZWM0IHAsczsKCiAgICBwLnh5eiA9IGZsb29yKCBmcmFjdCAodmVjMyhqKSAqIGlwLnh5eikgKiA3LjApICogaXAueiAtIDEuMDsKICAgIHAudyA9IDEuNSAtIGRvdChhYnMocC54eXopLCBvbmVzLnh5eik7CiAgICBzID0gdmVjNChsZXNzVGhhbihwLCB2ZWM0KDAuMCkpKTsKICAgIHAueHl6ID0gcC54eXogKyAocy54eXoqMi4wIC0gMS4wKSAqIHMud3d3OwoKICAgIHJldHVybiBwOwp9CiNlbmRpZgoKCgoKI2lmbmRlZiBGTkNfUFNSRk5PSVNFCiNkZWZpbmUgRk5DX1BTUkZOT0lTRQoKZmxvYXQgcHNyZG5vaXNlKHZlYzIgeCwgdmVjMiBwZXJpb2QsIGZsb2F0IGFscGhhLCBvdXQgdmVjMiBncmFkaWVudCkgewoKCQoJdmVjMiB1diA9IHZlYzIoeC54ICsgeC55KjAuNSwgeC55KTsKCgkKCXZlYzIgaTAgPSBmbG9vcih1dik7Cgl2ZWMyIGYwID0gZnJhY3QodXYpOwoJCglmbG9hdCBjbXAgPSBzdGVwKGYwLnksIGYwLngpOwoJdmVjMiBvMSA9IHZlYzIoY21wLCAxLjAtY21wKTsKCgkKCXZlYzIgaTEgPSBpMCArIG8xOwoJdmVjMiBpMiA9IGkwICsgdmVjMigxLjAsIDEuMCk7CgoJCgl2ZWMyIHYwID0gdmVjMihpMC54IC0gaTAueSAqIDAuNSwgaTAueSk7Cgl2ZWMyIHYxID0gdmVjMih2MC54ICsgbzEueCAtIG8xLnkgKiAwLjUsIHYwLnkgKyBvMS55KTsKCXZlYzIgdjIgPSB2ZWMyKHYwLnggKyAwLjUsIHYwLnkgKyAxLjApOwoKCQoJdmVjMiB4MCA9IHggLSB2MDsKCXZlYzIgeDEgPSB4IC0gdjE7Cgl2ZWMyIHgyID0geCAtIHYyOwoKCXZlYzMgaXUgPSB2ZWMzKDAuMCk7CiAgICB2ZWMzIGl2ID0gdmVjMygwLjApOwoJdmVjMyB4dyA9IHZlYzMoMC4wKTsKICAgIHZlYzMgeXcgPSB2ZWMzKDAuMCk7CgoJCglpZihhbnkoZ3JlYXRlclRoYW4ocGVyaW9kLCB2ZWMyKDAuMCkpKSkgewoJCXh3ID0gdmVjMyh2MC54LCB2MS54LCB2Mi54KTsKCQl5dyA9IHZlYzModjAueSwgdjEueSwgdjIueSk7CgkJaWYocGVyaW9kLnggPiAwLjApCgkJCXh3ID0gbW9kKHZlYzModjAueCwgdjEueCwgdjIueCksIHBlcmlvZC54KTsKCQlpZihwZXJpb2QueSA+IDAuMCkKCQkJeXcgPSBtb2QodmVjMyh2MC55LCB2MS55LCB2Mi55KSwgcGVyaW9kLnkpOwoJCQoJCWl1ID0gZmxvb3IoeHcgKyAwLjUqeXcgKyAwLjUpOwoJCWl2ID0gZmxvb3IoeXcgKyAwLjUpOwoJfSBlbHNlIHsgCgkJaXUgPSB2ZWMzKGkwLngsIGkxLngsIGkyLngpOwoJCWl2ID0gdmVjMyhpMC55LCBpMS55LCBpMi55KTsKCX0KCgkKCXZlYzMgaGFzaCA9IG1vZChpdSwgMjg5LjApOwoJaGFzaCA9IG1vZCgoaGFzaCo1MS4wICsgMi4wKSpoYXNoICsgaXYsIDI4OS4wKTsKCWhhc2ggPSBtb2QoKGhhc2gqMzQuMCArIDEwLjApKmhhc2gsIDI4OS4wKTsKCgkKCXZlYzMgcHNpID0gaGFzaCAqIDAuMDc0ODIgKyBhbHBoYTsKCXZlYzMgZ3ggPSBjb3MocHNpKTsKCXZlYzMgZ3kgPSBzaW4ocHNpKTsKCgkKCXZlYzIgZzAgPSB2ZWMyKGd4LngsZ3kueCk7Cgl2ZWMyIGcxID0gdmVjMihneC55LGd5LnkpOwoJdmVjMiBnMiA9IHZlYzIoZ3gueixneS56KTsKCgkKCXZlYzMgdyA9IDAuOCAtIHZlYzMoZG90KHgwLCB4MCksIGRvdCh4MSwgeDEpLCBkb3QoeDIsIHgyKSk7Cgl3ID0gbWF4KHcsIDAuMCk7Cgl2ZWMzIHcyID0gdyAqIHc7Cgl2ZWMzIHc0ID0gdzIgKiB3MjsKCgkKCXZlYzMgZ2RvdHggPSB2ZWMzKGRvdChnMCwgeDApLCBkb3QoZzEsIHgxKSwgZG90KGcyLCB4MikpOwoKCQoJZmxvYXQgbiA9IGRvdCh3NCwgZ2RvdHgpOwoKCQoJdmVjMyB3MyA9IHcyICogdzsKCXZlYzMgZHcgPSAtOC4wICogdzMgKiBnZG90eDsKCXZlYzIgZG4wID0gdzQueCAqIGcwICsgZHcueCAqIHgwOwoJdmVjMiBkbjEgPSB3NC55ICogZzEgKyBkdy55ICogeDE7Cgl2ZWMyIGRuMiA9IHc0LnogKiBnMiArIGR3LnogKiB4MjsKCWdyYWRpZW50ID0gMTAuOSAqIChkbjAgKyBkbjEgKyBkbjIpOwoKCQoJcmV0dXJuIDEwLjkgKiBuOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMiB4LCB2ZWMyIHBlcmlvZCwgZmxvYXQgYWxwaGEsIG91dCB2ZWMyIGdyYWRpZW50LCBvdXQgdmVjMyBkZykgewoKCQoJdmVjMiB1diA9IHZlYzIoeC54ICsgeC55KjAuNSwgeC55KTsKCgkKCXZlYzIgaTAgPSBmbG9vcih1dik7Cgl2ZWMyIGYwID0gZnJhY3QodXYpOwoJCglmbG9hdCBjbXAgPSBzdGVwKGYwLnksIGYwLngpOwoJdmVjMiBvMSA9IHZlYzIoY21wLCAxLjAtY21wKTsKCgkKCXZlYzIgaTEgPSBpMCArIG8xOwoJdmVjMiBpMiA9IGkwICsgdmVjMigxLjAsIDEuMCk7CgoJCgl2ZWMyIHYwID0gdmVjMihpMC54IC0gaTAueSAqIDAuNSwgaTAueSk7Cgl2ZWMyIHYxID0gdmVjMih2MC54ICsgbzEueCAtIG8xLnkgKiAwLjUsIHYwLnkgKyBvMS55KTsKCXZlYzIgdjIgPSB2ZWMyKHYwLnggKyAwLjUsIHYwLnkgKyAxLjApOwoKCQoJdmVjMiB4MCA9IHggLSB2MDsKCXZlYzIgeDEgPSB4IC0gdjE7Cgl2ZWMyIHgyID0geCAtIHYyOwoKCXZlYzMgaXUsIGl2OwoJdmVjMyB4dywgeXc7CgoJCglpZihhbnkoZ3JlYXRlclRoYW4ocGVyaW9kLCB2ZWMyKDAuMCkpKSkgewoJCXh3ID0gdmVjMyh2MC54LCB2MS54LCB2Mi54KTsKCQl5dyA9IHZlYzModjAueSwgdjEueSwgdjIueSk7CgkJaWYocGVyaW9kLnggPiAwLjApCgkJCXh3ID0gbW9kKHZlYzModjAueCwgdjEueCwgdjIueCksIHBlcmlvZC54KTsKCQlpZihwZXJpb2QueSA+IDAuMCkKCQkJeXcgPSBtb2QodmVjMyh2MC55LCB2MS55LCB2Mi55KSwgcGVyaW9kLnkpOwoJCQoJCWl1ID0gZmxvb3IoeHcgKyAwLjUqeXcgKyAwLjUpOwoJCWl2ID0gZmxvb3IoeXcgKyAwLjUpOwoJfSBlbHNlIHsgCgkJaXUgPSB2ZWMzKGkwLngsIGkxLngsIGkyLngpOwoJCWl2ID0gdmVjMyhpMC55LCBpMS55LCBpMi55KTsKCX0KCgkKCXZlYzMgaGFzaCA9IG1vZChpdSwgMjg5LjApOwoJaGFzaCA9IG1vZCgoaGFzaCo1MS4wICsgMi4wKSpoYXNoICsgaXYsIDI4OS4wKTsKCWhhc2ggPSBtb2QoKGhhc2gqMzQuMCArIDEwLjApKmhhc2gsIDI4OS4wKTsKCgkKCXZlYzMgcHNpID0gaGFzaCAqIDAuMDc0ODIgKyBhbHBoYTsKCXZlYzMgZ3ggPSBjb3MocHNpKTsKCXZlYzMgZ3kgPSBzaW4ocHNpKTsKCgkKCXZlYzIgZzAgPSB2ZWMyKGd4LngsZ3kueCk7Cgl2ZWMyIGcxID0gdmVjMihneC55LGd5LnkpOwoJdmVjMiBnMiA9IHZlYzIoZ3gueixneS56KTsKCgkKCXZlYzMgdyA9IDAuOCAtIHZlYzMoZG90KHgwLCB4MCksIGRvdCh4MSwgeDEpLCBkb3QoeDIsIHgyKSk7Cgl3ID0gbWF4KHcsIDAuMCk7Cgl2ZWMzIHcyID0gdyAqIHc7Cgl2ZWMzIHc0ID0gdzIgKiB3MjsKCgkKCXZlYzMgZ2RvdHggPSB2ZWMzKGRvdChnMCwgeDApLCBkb3QoZzEsIHgxKSwgZG90KGcyLCB4MikpOwoKCQoJZmxvYXQgbiA9IGRvdCh3NCwgZ2RvdHgpOwoKCQoJdmVjMyB3MyA9IHcyICogdzsKCXZlYzMgZHcgPSAtOC4wICogdzMgKiBnZG90eDsKCXZlYzIgZG4wID0gdzQueCAqIGcwICsgZHcueCAqIHgwOwoJdmVjMiBkbjEgPSB3NC55ICogZzEgKyBkdy55ICogeDE7Cgl2ZWMyIGRuMiA9IHc0LnogKiBnMiArIGR3LnogKiB4MjsKCWdyYWRpZW50ID0gMTAuOSAqIChkbjAgKyBkbjEgKyBkbjIpOwoKCQoJdmVjMyBkZzAsIGRnMSwgZGcyOwoJdmVjMyBkdzIgPSA0OC4wICogdzIgKiBnZG90eDsKCQoJZGcwLnh5ID0gZHcyLnggKiB4MCAqIHgwIC0gOC4wICogdzMueCAqICgyLjAgKiBnMCAqIHgwICsgZ2RvdHgueCk7CglkZzEueHkgPSBkdzIueSAqIHgxICogeDEgLSA4LjAgKiB3My55ICogKDIuMCAqIGcxICogeDEgKyBnZG90eC55KTsKCWRnMi54eSA9IGR3Mi56ICogeDIgKiB4MiAtIDguMCAqIHczLnogKiAoMi4wICogZzIgKiB4MiArIGdkb3R4LnopOwoJCglkZzAueiA9IGR3Mi54ICogeDAueCAqIHgwLnkgLSA4LjAgKiB3My54ICogZG90KGcwLCB4MC55eCk7CglkZzEueiA9IGR3Mi55ICogeDEueCAqIHgxLnkgLSA4LjAgKiB3My55ICogZG90KGcxLCB4MS55eCk7CglkZzIueiA9IGR3Mi56ICogeDIueCAqIHgyLnkgLSA4LjAgKiB3My56ICogZG90KGcyLCB4Mi55eCk7CglkZyA9IDEwLjkgKiAoZGcwICsgZGcxICsgZGcyKTsKCgkKCXJldHVybiAxMC45ICogbjsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzIgeCwgdmVjMiBwZXJpb2QsIGZsb2F0IGFscGhhKSB7CiAgICB2ZWMyIGcgPSB2ZWMyKDAuMCk7CiAgICByZXR1cm4gcHNyZG5vaXNlKHgsIHBlcmlvZCwgYWxwaGEsIGcpOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMiB4LCB2ZWMyIHBlcmlvZCkgewogICAgcmV0dXJuIHBzcmRub2lzZSh4LCBwZXJpb2QsIDAuMCk7Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMyIHgpIHsKICAgIHJldHVybiBwc3Jkbm9pc2UoeCwgdmVjMigwLjApKTsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzMgeCwgdmVjMyBwZXJpb2QsIGZsb2F0IGFscGhhLCBvdXQgdmVjMyBncmFkaWVudCkgewoKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIAogICAgY29uc3QgbWF0MyBNID0gbWF0MygwLjAsIDEuMCwgMS4wLAogICAgICAgICAgICAgICAgICAgICAgICAxLjAsIDAuMCwgMS4wLAogICAgICAgICAgICAgICAgICAgICAgICAxLjAsIDEuMCwgMC4wKTsKCiAgICBjb25zdCBtYXQzIE1pID0gbWF0MygtMC41LCAwLjUsIDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuNSwtMC41LCAwLjUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjUsIDAuNSwtMC41KTsKI2VuZGlmCgogICAgdmVjMyB1dncgPSB2ZWMzKDAuMCk7CgogICAgCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICAKICAgIHV2dyA9IE0gKiB4OwogI2Vsc2UKICAgIAogICAgCiAgICB1dncgPSB4ICsgZG90KHgsIHZlYzMoMC4zMzMzMzMzMykpOwogI2VuZGlmCgogICAgCiAgICB2ZWMzIGkwID0gZmxvb3IodXZ3KTsKICAgIHZlYzMgZjAgPSBmcmFjdCh1dncpOyAKCiAgICAKICAgIAogICAgCiAgICAKICAgIHZlYzMgZ18gPSBzdGVwKGYwLnh5eCwgZjAueXp6KTsgCiAgICB2ZWMzIGxfID0gMS4wIC0gZ187ICAgICAgICAgICAgIAogICAgdmVjMyBnID0gdmVjMyhsXy56LCBnXy54eSk7CiAgICB2ZWMzIGwgPSB2ZWMzKGxfLnh5LCBnXy56KTsKICAgIHZlYzMgbzEgPSBtaW4oIGcsIGwgKTsKICAgIHZlYzMgbzIgPSBtYXgoIGcsIGwgKTsKCiAgICAKICAgIHZlYzMgaTEgPSBpMCArIG8xOwogICAgdmVjMyBpMiA9IGkwICsgbzI7CiAgICB2ZWMzIGkzID0gaTAgKyB2ZWMzKDEuMCk7CgogICAgdmVjMyB2MCA9IHZlYzMoMC4wKTsKICAgIHZlYzMgdjEgPSB2ZWMzKDAuMCk7CiAgICB2ZWMzIHYyID0gdmVjMygwLjApOwogICAgdmVjMyB2MyA9IHZlYzMoMC4wKTsKCiAgICAKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIHYwID0gTWkgKiBpMDsKICAgIHYxID0gTWkgKiBpMTsKICAgIHYyID0gTWkgKiBpMjsKICAgIHYzID0gTWkgKiBpMzsKI2Vsc2UKICAgIAogICAgdjAgPSBpMCAtIGRvdChpMCwgdmVjMygxLjAvNi4wKSk7CiAgICB2MSA9IGkxIC0gZG90KGkxLCB2ZWMzKDEuMC82LjApKTsKICAgIHYyID0gaTIgLSBkb3QoaTIsIHZlYzMoMS4wLzYuMCkpOwogICAgdjMgPSBpMyAtIGRvdChpMywgdmVjMygxLjAvNi4wKSk7CiNlbmRpZgoKICAgIAogICAgdmVjMyB4MCA9IHggLSB2MDsKICAgIHZlYzMgeDEgPSB4IC0gdjE7CiAgICB2ZWMzIHgyID0geCAtIHYyOwogICAgdmVjMyB4MyA9IHggLSB2MzsKCiAgICBpZihhbnkoZ3JlYXRlclRoYW4ocGVyaW9kLCB2ZWMzKDAuMCkpKSkgewogICAgICAgIAogICAgICAgIHZlYzQgdnggPSB2ZWM0KHYwLngsIHYxLngsIHYyLngsIHYzLngpOwogICAgICAgIHZlYzQgdnkgPSB2ZWM0KHYwLnksIHYxLnksIHYyLnksIHYzLnkpOwogICAgICAgIHZlYzQgdnogPSB2ZWM0KHYwLnosIHYxLnosIHYyLnosIHYzLnopOwogICAgICAgIAogICAgICAgIGlmKHBlcmlvZC54ID4gMC4wKSB2eCA9IG1vZCh2eCwgcGVyaW9kLngpOwogICAgICAgIGlmKHBlcmlvZC55ID4gMC4wKSB2eSA9IG1vZCh2eSwgcGVyaW9kLnkpOwogICAgICAgIGlmKHBlcmlvZC56ID4gMC4wKSB2eiA9IG1vZCh2eiwgcGVyaW9kLnopOwogICAgICAgIAojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgICAgIGkwID0gTSAqIHZlYzModngueCwgdnkueCwgdnoueCk7CiAgICAgICAgaTEgPSBNICogdmVjMyh2eC55LCB2eS55LCB2ei55KTsKICAgICAgICBpMiA9IE0gKiB2ZWMzKHZ4LnosIHZ5LnosIHZ6LnopOwogICAgICAgIGkzID0gTSAqIHZlYzModngudywgdnkudywgdnoudyk7CiNlbHNlCiAgICAgICAgdjAgPSB2ZWMzKHZ4LngsIHZ5LngsIHZ6LngpOwogICAgICAgIHYxID0gdmVjMyh2eC55LCB2eS55LCB2ei55KTsKICAgICAgICB2MiA9IHZlYzModngueiwgdnkueiwgdnoueik7CiAgICAgICAgdjMgPSB2ZWMzKHZ4LncsIHZ5LncsIHZ6LncpOwogICAgICAgIAogICAgICAgIGkwID0gdjAgKyBkb3QodjAsIHZlYzMoMS4wLzMuMCkpOwogICAgICAgIGkxID0gdjEgKyBkb3QodjEsIHZlYzMoMS4wLzMuMCkpOwogICAgICAgIGkyID0gdjIgKyBkb3QodjIsIHZlYzMoMS4wLzMuMCkpOwogICAgICAgIGkzID0gdjMgKyBkb3QodjMsIHZlYzMoMS4wLzMuMCkpOwojZW5kaWYKICAgICAgICAKICAgICAgICBpMCA9IGZsb29yKGkwICsgMC41KTsKICAgICAgICBpMSA9IGZsb29yKGkxICsgMC41KTsKICAgICAgICBpMiA9IGZsb29yKGkyICsgMC41KTsKICAgICAgICBpMyA9IGZsb29yKGkzICsgMC41KTsKICAgIH0KCiAgICAKICAgIHZlYzQgaGFzaCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIAogICAgICAgICAgICAgICAgdmVjNChpMC56LCBpMS56LCBpMi56LCBpMy56ICkpCiAgICAgICAgICAgICAgICArIHZlYzQoaTAueSwgaTEueSwgaTIueSwgaTMueSApKQogICAgICAgICAgICAgICAgKyB2ZWM0KGkwLngsIGkxLngsIGkyLngsIGkzLnggKSk7CgogICAgCiAgICB2ZWM0IHRoZXRhID0gaGFzaCAqIDMuODgzMjIyMDc3OyAgCiAgICB2ZWM0IHN6ICAgID0gaGFzaCAqIC0wLjAwNjkyMDQxNSArIDAuOTk2NTM5NzkyOyAKICAgIHZlYzQgcHNpICAgPSBoYXNoICogMC4xMDg3MDU2MjggOyAKCiAgICB2ZWM0IEN0ID0gY29zKHRoZXRhKTsKICAgIHZlYzQgU3QgPSBzaW4odGhldGEpOwogICAgdmVjNCBzel9wcmltZSA9IHNxcnQoIDEuMCAtIHN6KnN6ICk7IAoKICAgIHZlYzQgZ3ggPSB2ZWM0KDAuMCk7CiAgICB2ZWM0IGd5ID0gdmVjNCgwLjApOwogICAgdmVjNCBneiA9IHZlYzQoMC4wKTsKCiAgICAKI2lmZGVmIFBTUkROT0lTRV9GQVNUX1JPVEFUSU9OCiAgICAKICAgIHZlYzQgcXggPSBTdDsgICAgICAgICAKICAgIHZlYzQgcXkgPSAtQ3Q7IAogICAgdmVjNCBxeiA9IHZlYzQoMC4wKTsKCiAgICB2ZWM0IHB4ID0gIHN6ICogcXk7ICAgCiAgICB2ZWM0IHB5ID0gLXN6ICogcXg7CiAgICB2ZWM0IHB6ID0gc3pfcHJpbWU7CgogICAgcHNpICs9IGFscGhhOyAgICAgICAgIAogICAgdmVjNCBTYSA9IHNpbihwc2kpOwogICAgdmVjNCBDYSA9IGNvcyhwc2kpOwoKICAgIGd4ID0gQ2EgKiBweCArIFNhICogcXg7CiAgICBneSA9IENhICogcHkgKyBTYSAqIHF5OwogICAgZ3ogPSBDYSAqIHB6ICsgU2EgKiBxejsKI2Vsc2UKICAgIAogICAgCiAgICBpZihhbHBoYSAhPSAwLjApIHsKICAgICAgICB2ZWM0IFNwID0gc2luKHBzaSk7ICAgICAgICAgIAogICAgICAgIHZlYzQgQ3AgPSBjb3MocHNpKTsKCiAgICAgICAgdmVjNCBweCA9IEN0ICogc3pfcHJpbWU7ICAgICAKICAgICAgICB2ZWM0IHB5ID0gU3QgKiBzel9wcmltZTsgICAgIAogICAgICAgIHZlYzQgcHogPSBzejsKCiAgICAgICAgdmVjNCBDdHAgPSBTdCpTcCAtIEN0KkNwOyAgICAKICAgICAgICB2ZWM0IHF4ID0gbWl4KCBDdHAqU3QsIFNwLCBzeik7CiAgICAgICAgdmVjNCBxeSA9IG1peCgtQ3RwKkN0LCBDcCwgc3opOwogICAgICAgIHZlYzQgcXogPSAtKHB5KkNwICsgcHgqU3ApOwoKICAgICAgICB2ZWM0IFNhID0gdmVjNChzaW4oYWxwaGEpKTsgICAgICAgCiAgICAgICAgdmVjNCBDYSA9IHZlYzQoY29zKGFscGhhKSk7CgogICAgICAgIGd4ID0gQ2EgKiBweCArIFNhICogcXg7CiAgICAgICAgZ3kgPSBDYSAqIHB5ICsgU2EgKiBxeTsKICAgICAgICBneiA9IENhICogcHogKyBTYSAqIHF6OwogICAgfQogICAgZWxzZSB7CiAgICAgICAgZ3ggPSBDdCAqIHN6X3ByaW1lOyAgCiAgICAgICAgZ3kgPSBTdCAqIHN6X3ByaW1lOwogICAgICAgIGd6ID0gc3o7ICAKICAgIH0KI2VuZGlmCgogICAgCiAgICB2ZWMzIGcwID0gdmVjMyhneC54LCBneS54LCBnei54KTsKICAgIHZlYzMgZzEgPSB2ZWMzKGd4LnksIGd5LnksIGd6LnkpOwogICAgdmVjMyBnMiA9IHZlYzMoZ3gueiwgZ3kueiwgZ3oueik7CiAgICB2ZWMzIGczID0gdmVjMyhneC53LCBneS53LCBnei53KTsKCiAgICAKICAgIHZlYzQgdyA9IDAuNSAtIHZlYzQoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSwgZG90KHgzLHgzKSk7CiAgICB3ID0gbWF4KHcsIDAuMCk7CiAgICB2ZWM0IHcyID0gdyAqIHc7CiAgICB2ZWM0IHczID0gdzIgKiB3OwoKICAgIAogICAgdmVjNCBnZG90eCA9IHZlYzQoZG90KGcwLHgwKSwgZG90KGcxLHgxKSwgZG90KGcyLHgyKSwgZG90KGczLHgzKSk7CgogICAgCiAgICBmbG9hdCBuID0gZG90KHczLCBnZG90eCk7CgogICAgCiAgICB2ZWM0IGR3ID0gLTYuMCAqIHcyICogZ2RvdHg7CiAgICB2ZWMzIGRuMCA9IHczLnggKiBnMCArIGR3LnggKiB4MDsKICAgIHZlYzMgZG4xID0gdzMueSAqIGcxICsgZHcueSAqIHgxOwogICAgdmVjMyBkbjIgPSB3My56ICogZzIgKyBkdy56ICogeDI7CiAgICB2ZWMzIGRuMyA9IHczLncgKiBnMyArIGR3LncgKiB4MzsKICAgIGdyYWRpZW50ID0gMzkuNSAqIChkbjAgKyBkbjEgKyBkbjIgKyBkbjMpOwoKICAgIAogICAgcmV0dXJuIDM5LjUgKiBuOwogIAp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMyB4LCB2ZWMzIHBlcmlvZCwgZmxvYXQgYWxwaGEsIG91dCB2ZWMzIGdyYWRpZW50LCBvdXQgdmVjMyBkZywgb3V0IHZlYzMgZGcyKSB7CgojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgCiAgICBjb25zdCBtYXQzIE0gPSBtYXQzKDAuMCwgMS4wLCAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgIDEuMCwgMC4wLCAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgIDEuMCwgMS4wLCAwLjApOwoKICAgIGNvbnN0IG1hdDMgTWkgPSBtYXQzKC0wLjUsIDAuNSwgMC41LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41LC0wLjUsIDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuNSwgMC41LC0wLjUpOwojZW5kaWYKCiAgICB2ZWMzIHV2dyA9IHZlYzMoMC4wKTsKCiAgICAKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIAogICAgdXZ3ID0gTSAqIHg7CiNlbHNlCiAgICAKICAgIAogICAgdXZ3ID0geCArIGRvdCh4LCB2ZWMzKDAuMzMzMzMzMykpOwojZW5kaWYKCiAgICAKICAgIHZlYzMgaTAgPSBmbG9vcih1dncpOwogICAgdmVjMyBmMCA9IGZyYWN0KHV2dyk7IAoKICAgIAogICAgCiAgICAKICAgIAogICAgdmVjMyBnXyA9IHN0ZXAoZjAueHl4LCBmMC55enopOyAKICAgIHZlYzMgbF8gPSAxLjAgLSBnXzsgICAgICAgICAgICAgCiAgICB2ZWMzIGcgPSB2ZWMzKGxfLnosIGdfLnh5KTsKICAgIHZlYzMgbCA9IHZlYzMobF8ueHksIGdfLnopOwogICAgdmVjMyBvMSA9IG1pbiggZywgbCApOwogICAgdmVjMyBvMiA9IG1heCggZywgbCApOwoKICAgIAogICAgdmVjMyBpMSA9IGkwICsgbzE7CiAgICB2ZWMzIGkyID0gaTAgKyBvMjsKICAgIHZlYzMgaTMgPSBpMCArIHZlYzMoMS4wKTsKCiAgICB2ZWMzIHYwLCB2MSwgdjIsIHYzOwoKICAgIAojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgdjAgPSBNaSAqIGkwOwogICAgdjEgPSBNaSAqIGkxOwogICAgdjIgPSBNaSAqIGkyOwogICAgdjMgPSBNaSAqIGkzOwojZWxzZQogICAgCiAgICB2MCA9IGkwIC0gZG90KGkwLCB2ZWMzKDEuMC82LjApKTsKICAgIHYxID0gaTEgLSBkb3QoaTEsIHZlYzMoMS4wLzYuMCkpOwogICAgdjIgPSBpMiAtIGRvdChpMiwgdmVjMygxLjAvNi4wKSk7CiAgICB2MyA9IGkzIC0gZG90KGkzLCB2ZWMzKDEuMC82LjApKTsKI2VuZGlmCgogICAgCiAgICB2ZWMzIHgwID0geCAtIHYwOwogICAgdmVjMyB4MSA9IHggLSB2MTsKICAgIHZlYzMgeDIgPSB4IC0gdjI7CiAgICB2ZWMzIHgzID0geCAtIHYzOwoKICAgIGlmKGFueShncmVhdGVyVGhhbihwZXJpb2QsIHZlYzMoMC4wKSkpKSB7CiAgICAgICAgCiAgICAgICAgdmVjNCB2eCA9IHZlYzQodjAueCwgdjEueCwgdjIueCwgdjMueCk7CiAgICAgICAgdmVjNCB2eSA9IHZlYzQodjAueSwgdjEueSwgdjIueSwgdjMueSk7CiAgICAgICAgdmVjNCB2eiA9IHZlYzQodjAueiwgdjEueiwgdjIueiwgdjMueik7CiAgICAgICAgCiAgICAgICAgaWYocGVyaW9kLnggPiAwLjApIHZ4ID0gbW9kKHZ4LCBwZXJpb2QueCk7CiAgICAgICAgaWYocGVyaW9kLnkgPiAwLjApIHZ5ID0gbW9kKHZ5LCBwZXJpb2QueSk7CiAgICAgICAgaWYocGVyaW9kLnogPiAwLjApIHZ6ID0gbW9kKHZ6LCBwZXJpb2Queik7CiAgICAgICAgCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICAgICAgaTAgPSBNICogdmVjMyh2eC54LCB2eS54LCB2ei54KTsKICAgICAgICBpMSA9IE0gKiB2ZWMzKHZ4LnksIHZ5LnksIHZ6LnkpOwogICAgICAgIGkyID0gTSAqIHZlYzModngueiwgdnkueiwgdnoueik7CiAgICAgICAgaTMgPSBNICogdmVjMyh2eC53LCB2eS53LCB2ei53KTsKI2Vsc2UKICAgICAgICB2MCA9IHZlYzModngueCwgdnkueCwgdnoueCk7CiAgICAgICAgdjEgPSB2ZWMzKHZ4LnksIHZ5LnksIHZ6LnkpOwogICAgICAgIHYyID0gdmVjMyh2eC56LCB2eS56LCB2ei56KTsKICAgICAgICB2MyA9IHZlYzModngudywgdnkudywgdnoudyk7CiAgICAgICAgCiAgICAgICAgaTAgPSB2MCArIGRvdCh2MCwgdmVjMygwLjMzMzMzMzMpKTsKICAgICAgICBpMSA9IHYxICsgZG90KHYxLCB2ZWMzKDAuMzMzMzMzMykpOwogICAgICAgIGkyID0gdjIgKyBkb3QodjIsIHZlYzMoMC4zMzMzMzMzKSk7CiAgICAgICAgaTMgPSB2MyArIGRvdCh2MywgdmVjMygwLjMzMzMzMzMpKTsKI2VuZGlmCiAgICAgICAgCiAgICAgICAgaTAgPSBmbG9vcihpMCArIDAuNSk7CiAgICAgICAgaTEgPSBmbG9vcihpMSArIDAuNSk7CiAgICAgICAgaTIgPSBmbG9vcihpMiArIDAuNSk7CiAgICAgICAgaTMgPSBmbG9vcihpMyArIDAuNSk7CiAgICB9CgogICAgCiAgICB2ZWM0IGhhc2ggPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCAKICAgICAgICAgICAgICAgIHZlYzQoaTAueiwgaTEueiwgaTIueiwgaTMueiApKQogICAgICAgICAgICAgICAgKyB2ZWM0KGkwLnksIGkxLnksIGkyLnksIGkzLnkgKSkKICAgICAgICAgICAgICAgICsgdmVjNChpMC54LCBpMS54LCBpMi54LCBpMy54ICkpOwoKICAgIAogICAgdmVjNCB0aGV0YSA9IGhhc2ggKiAzLjg4MzIyMjA3NzsgIAogICAgdmVjNCBzeiAgICA9IGhhc2ggKiAtMC4wMDY5MjA0MTUgKyAwLjk5NjUzOTc5MjsgCiAgICB2ZWM0IHBzaSAgID0gaGFzaCAqIDAuMTA4NzA1NjI4IDsgCgogICAgdmVjNCBDdCA9IGNvcyh0aGV0YSk7CiAgICB2ZWM0IFN0ID0gc2luKHRoZXRhKTsKICAgIHZlYzQgc3pfcHJpbWUgPSBzcXJ0KCAxLjAgLSBzeipzeiApOyAKCiAgICB2ZWM0IGd4LCBneSwgZ3o7CgogICAgCiNpZmRlZiBQU1JETk9JU0VfRkFTVF9ST1RBVElPTgogICAgCiAgICB2ZWM0IHF4ID0gU3Q7ICAgICAgICAgCiAgICB2ZWM0IHF5ID0gLUN0OyAKICAgIHZlYzQgcXogPSB2ZWM0KDAuMCk7CgogICAgdmVjNCBweCA9ICBzeiAqIHF5OyAgIAogICAgdmVjNCBweSA9IC1zeiAqIHF4OwogICAgdmVjNCBweiA9IHN6X3ByaW1lOwoKICAgIHBzaSArPSBhbHBoYTsgICAgICAgICAKICAgIHZlYzQgU2EgPSBzaW4ocHNpKTsKICAgIHZlYzQgQ2EgPSBjb3MocHNpKTsKCiAgICBneCA9IENhICogcHggKyBTYSAqIHF4OwogICAgZ3kgPSBDYSAqIHB5ICsgU2EgKiBxeTsKICAgIGd6ID0gQ2EgKiBweiArIFNhICogcXo7CiAgICAjZWxzZQogICAgCiAgICAKICAgIGlmKGFscGhhICE9IDAuMCkgewogICAgICAgIHZlYzQgU3AgPSBzaW4ocHNpKTsgICAgICAgICAgCiAgICAgICAgdmVjNCBDcCA9IGNvcyhwc2kpOwoKICAgICAgICB2ZWM0IHB4ID0gQ3QgKiBzel9wcmltZTsgICAgIAogICAgICAgIHZlYzQgcHkgPSBTdCAqIHN6X3ByaW1lOyAgICAgCiAgICAgICAgdmVjNCBweiA9IHN6OwoKICAgICAgICB2ZWM0IEN0cCA9IFN0KlNwIC0gQ3QqQ3A7ICAgIAogICAgICAgIHZlYzQgcXggPSBtaXgoIEN0cCpTdCwgU3AsIHN6KTsKICAgICAgICB2ZWM0IHF5ID0gbWl4KC1DdHAqQ3QsIENwLCBzeik7CiAgICAgICAgdmVjNCBxeiA9IC0ocHkqQ3AgKyBweCpTcCk7CgogICAgICAgIHZlYzQgU2EgPSB2ZWM0KHNpbihhbHBoYSkpOyAgICAgICAKICAgICAgICB2ZWM0IENhID0gdmVjNChjb3MoYWxwaGEpKTsKCiAgICAgICAgZ3ggPSBDYSAqIHB4ICsgU2EgKiBxeDsKICAgICAgICBneSA9IENhICogcHkgKyBTYSAqIHF5OwogICAgICAgIGd6ID0gQ2EgKiBweiArIFNhICogcXo7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBneCA9IEN0ICogc3pfcHJpbWU7ICAKICAgICAgICBneSA9IFN0ICogc3pfcHJpbWU7CiAgICAgICAgZ3ogPSBzejsgIAogICAgfQojZW5kaWYKCiAgICAKICAgIHZlYzMgZzAgPSB2ZWMzKGd4LngsIGd5LngsIGd6LngpOwogICAgdmVjMyBnMSA9IHZlYzMoZ3gueSwgZ3kueSwgZ3oueSk7CiAgICB2ZWMzIGcyID0gdmVjMyhneC56LCBneS56LCBnei56KTsKICAgIHZlYzMgZzMgPSB2ZWMzKGd4LncsIGd5LncsIGd6LncpOwoKICAgIAogICAgdmVjNCB3ID0gMC41IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKTsKICAgIHcgPSBtYXgodywgMC4wKTsKICAgIHZlYzQgdzIgPSB3ICogdzsKICAgIHZlYzQgdzMgPSB3MiAqIHc7CgogICAgCiAgICB2ZWM0IGdkb3R4ID0gdmVjNChkb3QoZzAseDApLCBkb3QoZzEseDEpLCBkb3QoZzIseDIpLCBkb3QoZzMseDMpKTsKCiAgICAKICAgIGZsb2F0IG4gPSBkb3QodzMsIGdkb3R4KTsKCiAgICAKICAgIHZlYzQgZHcgPSAtNi4wICogdzIgKiBnZG90eDsKICAgIHZlYzMgZG4wID0gdzMueCAqIGcwICsgZHcueCAqIHgwOwogICAgdmVjMyBkbjEgPSB3My55ICogZzEgKyBkdy55ICogeDE7CiAgICB2ZWMzIGRuMiA9IHczLnogKiBnMiArIGR3LnogKiB4MjsKICAgIHZlYzMgZG4zID0gdzMudyAqIGczICsgZHcudyAqIHgzOwogICAgZ3JhZGllbnQgPSAzOS41ICogKGRuMCArIGRuMSArIGRuMiArIGRuMyk7CgogICAgCiAgICB2ZWM0IGR3MiA9IDI0LjAgKiB3ICogZ2RvdHg7CiAgICB2ZWMzIGRnYTAgPSBkdzIueCAqIHgwICogeDAgLSA2LjAgKiB3Mi54ICogKGdkb3R4LnggKyAyLjAgKiBnMCAqIHgwKTsKICAgIHZlYzMgZGdhMSA9IGR3Mi55ICogeDEgKiB4MSAtIDYuMCAqIHcyLnkgKiAoZ2RvdHgueSArIDIuMCAqIGcxICogeDEpOwogICAgdmVjMyBkZ2EyID0gZHcyLnogKiB4MiAqIHgyIC0gNi4wICogdzIueiAqIChnZG90eC56ICsgMi4wICogZzIgKiB4Mik7CiAgICB2ZWMzIGRnYTMgPSBkdzIudyAqIHgzICogeDMgLSA2LjAgKiB3Mi53ICogKGdkb3R4LncgKyAyLjAgKiBnMyAqIHgzKTsKICAgIGRnID0gMzUuMCAqIChkZ2EwICsgZGdhMSArIGRnYTIgKyBkZ2EzKTsgCiAgICB2ZWMzIGRnYjAgPSBkdzIueCAqIHgwICogeDAueXp4IC0gNi4wICogdzIueCAqIChnMCAqIHgwLnl6eCArIGcwLnl6eCAqIHgwKTsKICAgIHZlYzMgZGdiMSA9IGR3Mi55ICogeDEgKiB4MS55enggLSA2LjAgKiB3Mi55ICogKGcxICogeDEueXp4ICsgZzEueXp4ICogeDEpOwogICAgdmVjMyBkZ2IyID0gZHcyLnogKiB4MiAqIHgyLnl6eCAtIDYuMCAqIHcyLnogKiAoZzIgKiB4Mi55enggKyBnMi55enggKiB4Mik7CiAgICB2ZWMzIGRnYjMgPSBkdzIudyAqIHgzICogeDMueXp4IC0gNi4wICogdzIudyAqIChnMyAqIHgzLnl6eCArIGczLnl6eCAqIHgzKTsKICAgIGRnMiA9IDM5LjUgKiAoZGdiMCArIGRnYjEgKyBkZ2IyICsgZGdiMyk7IAoKICAgIAogICAgcmV0dXJuIDM5LjUgKiBuOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMyB4LCB2ZWMzIHBlcmlvZCwgZmxvYXQgYWxwaGEpIHsKICAgIHZlYzMgZyA9IHZlYzMoMC4wKTsKICAgIHJldHVybiBwc3Jkbm9pc2UoeCwgcGVyaW9kLCBhbHBoYSwgZyk7Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMzIHgsIHZlYzMgcGVyaW9kKSB7CiAgICByZXR1cm4gcHNyZG5vaXNlKHgsIHBlcmlvZCwgMC4wKTsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzMgeCkgewogICAgcmV0dXJuIHBzcmRub2lzZSh4LCB2ZWMzKDAuMCkpOwp9CiNlbmRpZgoKCgoKCiNpZm5kZWYgUkFORE9NX1NDQUxFCiNpZiBkZWZpbmVkKFJBTkRPTV9ISUdIRVJfUkFOR0UpCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoLjEwMzEsIC4xMDMwLCAuMDk3MywgLjEwOTkpCiNlbHNlCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoNDQzLjg5NywgNDQxLjQyMywgLjA5NzMsIC4xMDk5KQojZW5kaWYKI2VuZGlmCgojaWZuZGVmIEZOQ19SQU5ET00KI2RlZmluZSBGTkNfUkFORE9NCmZsb2F0IHJhbmRvbShpbiBmbG9hdCB4KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgeCA9IGZyYWN0KHggKiBSQU5ET01fU0NBTEUueCk7CiAgICB4ICo9IHggKyAzMy4zMzsKICAgIHggKj0geCArIHg7CiAgICByZXR1cm4gZnJhY3QoeCk7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKHgpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjMiBzdCkgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHZlYzMgcDMgID0gZnJhY3QodmVjMyhzdC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocDMueCArIHAzLnkpICogcDMueik7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMzIHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyAgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHBvcyArPSBkb3QocG9zLCBwb3Muenl4ICsgMzEuMzIpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIHBvcy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHBvcy54eXosIHZlYzMoNzAuOTg5OCwgNzguMjMzLCAzMi40MzU1KSkpICogNDM3NTguNTQ1MzEyMyk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjNCBwb3MpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICBwb3MgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUpOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy53enh5KzMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocG9zLnggKyBwb3MueSkgKiAocG9zLnogKyBwb3MudykpOwojZWxzZQogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9Cgp2ZWMyIHJhbmRvbTIoZmxvYXQgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHAueHl4ICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzIgcmFuZG9tMih2ZWMzIHAzKSB7CiAgICBwMyA9IGZyYWN0KHAzICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzMgcmFuZG9tMyhmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4eSArIHAzLnl6eikgKiBwMy56eXgpOyAKfQoKdmVjMyByYW5kb20zKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7Cn0KCnZlYzMgcmFuZG9tMyh2ZWMzIHApIHsKICAgIHAgPSBmcmFjdChwICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwICs9IGRvdChwLCBwLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocC54eHkgKyBwLnl6eikgKiBwLnp5eCk7Cn0KCnZlYzQgcmFuZG9tNChmbG9hdCBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocCAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOyAgIAp9Cgp2ZWM0IHJhbmRvbTQodmVjMiBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocC54eXh5ICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWMzIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5enggICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWM0IHA0KSB7CiAgICBwNCA9IGZyYWN0KHA0ICAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9CgoKI2VuZGlmCgoKCgojaWZuZGVmIEZOQ19XT1JMRVkKI2RlZmluZSBGTkNfV09STEVZCgpmbG9hdCB3b3JsZXkodmVjMiBwKXsKICAgIHZlYzIgbiA9IGZsb29yKCBwICk7CiAgICB2ZWMyIGYgPSBmcmFjdCggcCApOwoKICAgIGZsb2F0IGRpcyA9IDEuMDsKICAgIGZvciggaW50IGo9IC0xOyBqIDw9IDE7IGorKyApCiAgICAgICAgZm9yKCBpbnQgaT0tMTsgaSA8PSAxOyBpKysgKSB7CQogICAgICAgICAgICAgICAgdmVjMiAgZyA9IHZlYzIoaSxqKTsKICAgICAgICAgICAgICAgIHZlYzIgIG8gPSByYW5kb20yKCBuICsgZyApOwogICAgICAgICAgICAgICAgdmVjMiAgZGVsdGEgPSBnICsgbyAtIGY7CiAgICAgICAgICAgICAgICBmbG9hdCBkID0gbGVuZ3RoKGRlbHRhKTsKICAgICAgICAgICAgICAgIGRpcyA9IG1pbihkaXMsZCk7CiAgICB9CgogICAgcmV0dXJuIDEuMC1kaXM7Cn0KCmZsb2F0IHdvcmxleSh2ZWMzIHApIHsKICAgIHZlYzMgbiA9IGZsb29yKCBwICk7CiAgICB2ZWMzIGYgPSBmcmFjdCggcCApOwoKICAgIGZsb2F0IGRpcyA9IDEuMDsKICAgIGZvciggaW50IGsgPSAtMTsgayA8PSAxOyBrKysgKQogICAgICAgIGZvciggaW50IGo9IC0xOyBqIDw9IDE7IGorKyApCiAgICAgICAgICAgIGZvciggaW50IGk9LTE7IGkgPD0gMTsgaSsrICkgewkKICAgICAgICAgICAgICAgIHZlYzMgIGcgPSB2ZWMzKGksaixrKTsKICAgICAgICAgICAgICAgIHZlYzMgIG8gPSByYW5kb20zKCBuICsgZyApOwogICAgICAgICAgICAgICAgdmVjMyAgZGVsdGEgPSBnK28tZjsKICAgICAgICAgICAgICAgIGZsb2F0IGQgPSBsZW5ndGgoZGVsdGEpOwogICAgICAgICAgICAgICAgZGlzID0gbWluKGRpcyxkKTsKICAgIH0KCiAgICByZXR1cm4gMS4wLWRpczsKfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19HUkFENAojZGVmaW5lIEZOQ19HUkFENAp2ZWM0IGdyYWQ0KGZsb2F0IGosIHZlYzQgaXApIHsKICAgIGNvbnN0IHZlYzQgb25lcyA9IHZlYzQoMS4wLCAxLjAsIDEuMCwgLTEuMCk7CiAgICB2ZWM0IHAsczsKCiAgICBwLnh5eiA9IGZsb29yKCBmcmFjdCAodmVjMyhqKSAqIGlwLnh5eikgKiA3LjApICogaXAueiAtIDEuMDsKICAgIHAudyA9IDEuNSAtIGRvdChhYnMocC54eXopLCBvbmVzLnh5eik7CiAgICBzID0gdmVjNChsZXNzVGhhbihwLCB2ZWM0KDAuMCkpKTsKICAgIHAueHl6ID0gcC54eXogKyAocy54eXoqMi4wIC0gMS4wKSAqIHMud3d3OwoKICAgIHJldHVybiBwOwp9CiNlbmRpZgoKCgoKI2lmbmRlZiBGTkNfU05PSVNFCiNkZWZpbmUgRk5DX1NOT0lTRQpmbG9hdCBzbm9pc2UoaW4gdmVjMiB2KSB7CiAgICBjb25zdCB2ZWM0IEMgPSB2ZWM0KDAuMjExMzI0ODY1NDA1MTg3LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIDAuMzY2MDI1NDAzNzg0NDM5LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIC0wLjU3NzM1MDI2OTE4OTYyNiwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjAyNDM5MDI0MzkwMjQzOSk7IAogICAgCiAgICB2ZWMyIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5KSApOwogICAgdmVjMiB4MCA9IHYgLSAgIGkgKyBkb3QoaSwgQy54eCk7CgogICAgCiAgICB2ZWMyIGkxOwogICAgCiAgICAKICAgIGkxID0gKHgwLnggPiB4MC55KSA/IHZlYzIoMS4wLCAwLjApIDogdmVjMigwLjAsIDEuMCk7CiAgICAKICAgIAogICAgCiAgICB2ZWM0IHgxMiA9IHgwLnh5eHkgKyBDLnh4eno7CiAgICB4MTIueHkgLT0gaTE7CgogICAgCiAgICBpID0gbW9kMjg5KGkpOyAKICAgIHZlYzMgcCA9IHBlcm11dGUoIHBlcm11dGUoIGkueSArIHZlYzMoMC4wLCBpMS55LCAxLjAgKSkKICAgICsgaS54ICsgdmVjMygwLjAsIGkxLngsIDEuMCApKTsKCiAgICB2ZWMzIG0gPSBtYXgoMC41IC0gdmVjMyhkb3QoeDAseDApLCBkb3QoeDEyLnh5LHgxMi54eSksIGRvdCh4MTIuencseDEyLnp3KSksIDAuMCk7CiAgICBtID0gbSptIDsKICAgIG0gPSBtKm0gOwoKICAgIAogICAgCgogICAgdmVjMyB4ID0gMi4wICogZnJhY3QocCAqIEMud3d3KSAtIDEuMDsKICAgIHZlYzMgaCA9IGFicyh4KSAtIDAuNTsKICAgIHZlYzMgb3ggPSBmbG9vcih4ICsgMC41KTsKICAgIHZlYzMgYTAgPSB4IC0gb3g7CgogICAgCiAgICAKICAgIG0gKj0gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiAoIGEwKmEwICsgaCpoICk7CgogICAgCiAgICB2ZWMzIGc7CiAgICBnLnggID0gYTAueCAgKiB4MC54ICArIGgueCAgKiB4MC55OwogICAgZy55eiA9IGEwLnl6ICogeDEyLnh6ICsgaC55eiAqIHgxMi55dzsKICAgIHJldHVybiAxMzAuMCAqIGRvdChtLCBnKTsKfQoKCmZsb2F0IHNub2lzZShpbiB2ZWMzIHYpIHsKICAgIGNvbnN0IHZlYzIgIEMgPSB2ZWMyKDEuMC82LjAsIDEuMC8zLjApIDsKICAgIGNvbnN0IHZlYzQgIEQgPSB2ZWM0KDAuMCwgMC41LCAxLjAsIDIuMCk7CgogICAgCiAgICB2ZWMzIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5eSkgKTsKICAgIHZlYzMgeDAgPSAgIHYgLSBpICsgZG90KGksIEMueHh4KSA7CgogICAgCiAgICB2ZWMzIGcgPSBzdGVwKHgwLnl6eCwgeDAueHl6KTsKICAgIHZlYzMgbCA9IDEuMCAtIGc7CiAgICB2ZWMzIGkxID0gbWluKCBnLnh5eiwgbC56eHkgKTsKICAgIHZlYzMgaTIgPSBtYXgoIGcueHl6LCBsLnp4eSApOwoKICAgIAogICAgCiAgICAKICAgIAogICAgdmVjMyB4MSA9IHgwIC0gaTEgKyBDLnh4eDsKICAgIHZlYzMgeDIgPSB4MCAtIGkyICsgQy55eXk7IAogICAgdmVjMyB4MyA9IHgwIC0gRC55eXk7ICAgICAgCgogICAgCiAgICBpID0gbW9kMjg5KGkpOwogICAgdmVjNCBwID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSgKICAgICAgICAgICAgICAgIGkueiArIHZlYzQoMC4wLCBpMS56LCBpMi56LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnkgKyB2ZWM0KDAuMCwgaTEueSwgaTIueSwgMS4wICkpCiAgICAgICAgICAgICsgaS54ICsgdmVjNCgwLjAsIGkxLngsIGkyLngsIDEuMCApKTsKCiAgICAKICAgIAogICAgZmxvYXQgbl8gPSAwLjE0Mjg1NzE0Mjg1NzsgCiAgICB2ZWMzICBucyA9IG5fICogRC53eXogLSBELnh6eDsKCiAgICB2ZWM0IGogPSBwIC0gNDkuMCAqIGZsb29yKHAgKiBucy56ICogbnMueik7ICAKCiAgICB2ZWM0IHhfID0gZmxvb3IoaiAqIG5zLnopOwogICAgdmVjNCB5XyA9IGZsb29yKGogLSA3LjAgKiB4XyApOyAgICAKCiAgICB2ZWM0IHggPSB4XyAqbnMueCArIG5zLnl5eXk7CiAgICB2ZWM0IHkgPSB5XyAqbnMueCArIG5zLnl5eXk7CiAgICB2ZWM0IGggPSAxLjAgLSBhYnMoeCkgLSBhYnMoeSk7CgogICAgdmVjNCBiMCA9IHZlYzQoIHgueHksIHkueHkgKTsKICAgIHZlYzQgYjEgPSB2ZWM0KCB4Lnp3LCB5Lnp3ICk7CgogICAgCiAgICAKICAgIHZlYzQgczAgPSBmbG9vcihiMCkqMi4wICsgMS4wOwogICAgdmVjNCBzMSA9IGZsb29yKGIxKSoyLjAgKyAxLjA7CiAgICB2ZWM0IHNoID0gLXN0ZXAoaCwgdmVjNCgwLjApKTsKCiAgICB2ZWM0IGEwID0gYjAueHp5dyArIHMwLnh6eXcqc2gueHh5eSA7CiAgICB2ZWM0IGExID0gYjEueHp5dyArIHMxLnh6eXcqc2guenp3dyA7CgogICAgdmVjMyBwMCA9IHZlYzMoYTAueHksaC54KTsKICAgIHZlYzMgcDEgPSB2ZWMzKGEwLnp3LGgueSk7CiAgICB2ZWMzIHAyID0gdmVjMyhhMS54eSxoLnopOwogICAgdmVjMyBwMyA9IHZlYzMoYTEuencsaC53KTsKCiAgICAKICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QocDAscDApLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpOwogICAgcDAgKj0gbm9ybS54OwogICAgcDEgKj0gbm9ybS55OwogICAgcDIgKj0gbm9ybS56OwogICAgcDMgKj0gbm9ybS53OwoKICAgIAogICAgdmVjNCBtID0gbWF4KDAuNiAtIHZlYzQoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSwgZG90KHgzLHgzKSksIDAuMCk7CiAgICBtID0gbSAqIG07CiAgICByZXR1cm4gNDIuMCAqIGRvdCggbSptLCB2ZWM0KCBkb3QocDAseDApLCBkb3QocDEseDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdChwMix4MiksIGRvdChwMyx4MykgKSApOwp9CgpmbG9hdCBzbm9pc2UoaW4gdmVjNCB2KSB7CiAgICBjb25zdCB2ZWM0ICBDID0gdmVjNCggMC4xMzgxOTY2MDExMjUwMTEsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC4yNzYzOTMyMDIyNTAwMjEsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC40MTQ1ODk4MDMzNzUwMzIsICAKICAgICAgICAgICAgICAgICAgICAgICAgLTAuNDQ3MjEzNTk1NDk5OTU4KTsgCgogICAgCiAgICB2ZWM0IGkgID0gZmxvb3IodiArIGRvdCh2LCB2ZWM0KC4zMDkwMTY5OTQzNzQ5NDc0NTEpKSApOyAKICAgIHZlYzQgeDAgPSB2IC0gICBpICsgZG90KGksIEMueHh4eCk7CgogICAgCgogICAgCiAgICB2ZWM0IGkwOwogICAgdmVjMyBpc1ggPSBzdGVwKCB4MC55encsIHgwLnh4eCApOwogICAgdmVjMyBpc1laID0gc3RlcCggeDAuend3LCB4MC55eXogKTsKICAgIAogICAgaTAueCA9IGlzWC54ICsgaXNYLnkgKyBpc1guejsKICAgIGkwLnl6dyA9IDEuMCAtIGlzWDsKICAgIAogICAgaTAueSArPSBpc1laLnggKyBpc1laLnk7CiAgICBpMC56dyArPSAxLjAgLSBpc1laLnh5OwogICAgaTAueiArPSBpc1laLno7CiAgICBpMC53ICs9IDEuMCAtIGlzWVouejsKCiAgICAKICAgIHZlYzQgaTMgPSBjbGFtcCggaTAsIDAuMCwgMS4wICk7CiAgICB2ZWM0IGkyID0gY2xhbXAoIGkwLTEuMCwgMC4wLCAxLjAgKTsKICAgIHZlYzQgaTEgPSBjbGFtcCggaTAtMi4wLCAwLjAsIDEuMCApOwoKICAgIAogICAgCiAgICAKICAgIAogICAgCiAgICB2ZWM0IHgxID0geDAgLSBpMSArIEMueHh4eDsKICAgIHZlYzQgeDIgPSB4MCAtIGkyICsgQy55eXl5OwogICAgdmVjNCB4MyA9IHgwIC0gaTMgKyBDLnp6eno7CiAgICB2ZWM0IHg0ID0geDAgKyBDLnd3d3c7CgogICAgCiAgICBpID0gbW9kMjg5KGkpOwogICAgZmxvYXQgajAgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKGkudykgKyBpLnopICsgaS55KSArIGkueCk7CiAgICB2ZWM0IGoxID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSAoCiAgICAgICAgICAgICAgICBpLncgKyB2ZWM0KGkxLncsIGkyLncsIGkzLncsIDEuMCApKQogICAgICAgICAgICArIGkueiArIHZlYzQoaTEueiwgaTIueiwgaTMueiwgMS4wICkpCiAgICAgICAgICAgICsgaS55ICsgdmVjNChpMS55LCBpMi55LCBpMy55LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnggKyB2ZWM0KGkxLngsIGkyLngsIGkzLngsIDEuMCApKTsKCiAgICAKICAgIAogICAgdmVjNCBpcCA9IHZlYzQoMS4wLzI5NC4wLCAxLjAvNDkuMCwgMS4wLzcuMCwgMC4wKSA7CgogICAgdmVjNCBwMCA9IGdyYWQ0KGowLCAgIGlwKTsKICAgIHZlYzQgcDEgPSBncmFkNChqMS54LCBpcCk7CiAgICB2ZWM0IHAyID0gZ3JhZDQoajEueSwgaXApOwogICAgdmVjNCBwMyA9IGdyYWQ0KGoxLnosIGlwKTsKICAgIHZlYzQgcDQgPSBncmFkNChqMS53LCBpcCk7CgogICAgCiAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KHAwLHAwKSwgZG90KHAxLHAxKSwgZG90KHAyLCBwMiksIGRvdChwMyxwMykpKTsKICAgIHAwICo9IG5vcm0ueDsKICAgIHAxICo9IG5vcm0ueTsKICAgIHAyICo9IG5vcm0uejsKICAgIHAzICo9IG5vcm0udzsKICAgIHA0ICo9IHRheWxvckludlNxcnQoZG90KHA0LHA0KSk7CgogICAgCiAgICB2ZWMzIG0wID0gbWF4KDAuNiAtIHZlYzMoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSksIDAuMCk7CiAgICB2ZWMyIG0xID0gbWF4KDAuNiAtIHZlYzIoZG90KHgzLHgzKSwgZG90KHg0LHg0KSAgICAgICAgICAgICksIDAuMCk7CiAgICBtMCA9IG0wICogbTA7CiAgICBtMSA9IG0xICogbTE7CiAgICByZXR1cm4gNDkuMCAqICggZG90KG0wKm0wLCB2ZWMzKCBkb3QoIHAwLCB4MCApLCBkb3QoIHAxLCB4MSApLCBkb3QoIHAyLCB4MiApKSkKICAgICAgICAgICAgICAgICsgZG90KG0xKm0xLCB2ZWMyKCBkb3QoIHAzLCB4MyApLCBkb3QoIHA0LCB4NCApICkgKSApIDsKfQoKdmVjMiBzbm9pc2UyKCB2ZWMyIHggKXsKICAgIGZsb2F0IHMgID0gc25vaXNlKHZlYzIoIHggKSk7CiAgICBmbG9hdCBzMSA9IHNub2lzZSh2ZWMyKCB4LnkgLSAxOS4xLCB4LnggKyA0Ny4yICkpOwogICAgcmV0dXJuIHZlYzIoIHMgLCBzMSApOwp9Cgp2ZWMzIHNub2lzZTMoIHZlYzMgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjMyggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzMoIHgueSAtIDE5LjEgLCB4LnogKyAzMy40ICwgeC54ICsgNDcuMiApKTsKICAgIGZsb2F0IHMyID0gc25vaXNlKHZlYzMoIHgueiArIDc0LjIgLCB4LnggLSAxMjQuNSAsIHgueSArIDk5LjQgKSk7CiAgICByZXR1cm4gdmVjMyggcyAsIHMxICwgczIgKTsKfQoKdmVjMyBzbm9pc2UzKCB2ZWM0IHggKXsKICAgIGZsb2F0IHMgID0gc25vaXNlKHZlYzQoIHggKSk7CiAgICBmbG9hdCBzMSA9IHNub2lzZSh2ZWM0KCB4LnkgLSAxOS4xICwgeC56ICsgMzMuNCAsIHgueCArIDQ3LjIsIHgudyApKTsKICAgIGZsb2F0IHMyID0gc25vaXNlKHZlYzQoIHgueiArIDc0LjIgLCB4LnggLSAxMjQuNSAsIHgueSArIDk5LjQsIHgudyApKTsKICAgIHJldHVybiB2ZWMzKCBzICwgczEgLCBzMiApOwp9CgojZW5kaWYKCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19HUkFENAojZGVmaW5lIEZOQ19HUkFENAp2ZWM0IGdyYWQ0KGZsb2F0IGosIHZlYzQgaXApIHsKICAgIGNvbnN0IHZlYzQgb25lcyA9IHZlYzQoMS4wLCAxLjAsIDEuMCwgLTEuMCk7CiAgICB2ZWM0IHAsczsKCiAgICBwLnh5eiA9IGZsb29yKCBmcmFjdCAodmVjMyhqKSAqIGlwLnh5eikgKiA3LjApICogaXAueiAtIDEuMDsKICAgIHAudyA9IDEuNSAtIGRvdChhYnMocC54eXopLCBvbmVzLnh5eik7CiAgICBzID0gdmVjNChsZXNzVGhhbihwLCB2ZWM0KDAuMCkpKTsKICAgIHAueHl6ID0gcC54eXogKyAocy54eXoqMi4wIC0gMS4wKSAqIHMud3d3OwoKICAgIHJldHVybiBwOwp9CiNlbmRpZgoKCgoKI2lmbmRlZiBGTkNfU05PSVNFCiNkZWZpbmUgRk5DX1NOT0lTRQpmbG9hdCBzbm9pc2UoaW4gdmVjMiB2KSB7CiAgICBjb25zdCB2ZWM0IEMgPSB2ZWM0KDAuMjExMzI0ODY1NDA1MTg3LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIDAuMzY2MDI1NDAzNzg0NDM5LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIC0wLjU3NzM1MDI2OTE4OTYyNiwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjAyNDM5MDI0MzkwMjQzOSk7IAogICAgCiAgICB2ZWMyIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5KSApOwogICAgdmVjMiB4MCA9IHYgLSAgIGkgKyBkb3QoaSwgQy54eCk7CgogICAgCiAgICB2ZWMyIGkxOwogICAgCiAgICAKICAgIGkxID0gKHgwLnggPiB4MC55KSA/IHZlYzIoMS4wLCAwLjApIDogdmVjMigwLjAsIDEuMCk7CiAgICAKICAgIAogICAgCiAgICB2ZWM0IHgxMiA9IHgwLnh5eHkgKyBDLnh4eno7CiAgICB4MTIueHkgLT0gaTE7CgogICAgCiAgICBpID0gbW9kMjg5KGkpOyAKICAgIHZlYzMgcCA9IHBlcm11dGUoIHBlcm11dGUoIGkueSArIHZlYzMoMC4wLCBpMS55LCAxLjAgKSkKICAgICsgaS54ICsgdmVjMygwLjAsIGkxLngsIDEuMCApKTsKCiAgICB2ZWMzIG0gPSBtYXgoMC41IC0gdmVjMyhkb3QoeDAseDApLCBkb3QoeDEyLnh5LHgxMi54eSksIGRvdCh4MTIuencseDEyLnp3KSksIDAuMCk7CiAgICBtID0gbSptIDsKICAgIG0gPSBtKm0gOwoKICAgIAogICAgCgogICAgdmVjMyB4ID0gMi4wICogZnJhY3QocCAqIEMud3d3KSAtIDEuMDsKICAgIHZlYzMgaCA9IGFicyh4KSAtIDAuNTsKICAgIHZlYzMgb3ggPSBmbG9vcih4ICsgMC41KTsKICAgIHZlYzMgYTAgPSB4IC0gb3g7CgogICAgCiAgICAKICAgIG0gKj0gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiAoIGEwKmEwICsgaCpoICk7CgogICAgCiAgICB2ZWMzIGc7CiAgICBnLnggID0gYTAueCAgKiB4MC54ICArIGgueCAgKiB4MC55OwogICAgZy55eiA9IGEwLnl6ICogeDEyLnh6ICsgaC55eiAqIHgxMi55dzsKICAgIHJldHVybiAxMzAuMCAqIGRvdChtLCBnKTsKfQoKCmZsb2F0IHNub2lzZShpbiB2ZWMzIHYpIHsKICAgIGNvbnN0IHZlYzIgIEMgPSB2ZWMyKDEuMC82LjAsIDEuMC8zLjApIDsKICAgIGNvbnN0IHZlYzQgIEQgPSB2ZWM0KDAuMCwgMC41LCAxLjAsIDIuMCk7CgogICAgCiAgICB2ZWMzIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5eSkgKTsKICAgIHZlYzMgeDAgPSAgIHYgLSBpICsgZG90KGksIEMueHh4KSA7CgogICAgCiAgICB2ZWMzIGcgPSBzdGVwKHgwLnl6eCwgeDAueHl6KTsKICAgIHZlYzMgbCA9IDEuMCAtIGc7CiAgICB2ZWMzIGkxID0gbWluKCBnLnh5eiwgbC56eHkgKTsKICAgIHZlYzMgaTIgPSBtYXgoIGcueHl6LCBsLnp4eSApOwoKICAgIAogICAgCiAgICAKICAgIAogICAgdmVjMyB4MSA9IHgwIC0gaTEgKyBDLnh4eDsKICAgIHZlYzMgeDIgPSB4MCAtIGkyICsgQy55eXk7IAogICAgdmVjMyB4MyA9IHgwIC0gRC55eXk7ICAgICAgCgogICAgCiAgICBpID0gbW9kMjg5KGkpOwogICAgdmVjNCBwID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSgKICAgICAgICAgICAgICAgIGkueiArIHZlYzQoMC4wLCBpMS56LCBpMi56LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnkgKyB2ZWM0KDAuMCwgaTEueSwgaTIueSwgMS4wICkpCiAgICAgICAgICAgICsgaS54ICsgdmVjNCgwLjAsIGkxLngsIGkyLngsIDEuMCApKTsKCiAgICAKICAgIAogICAgZmxvYXQgbl8gPSAwLjE0Mjg1NzE0Mjg1NzsgCiAgICB2ZWMzICBucyA9IG5fICogRC53eXogLSBELnh6eDsKCiAgICB2ZWM0IGogPSBwIC0gNDkuMCAqIGZsb29yKHAgKiBucy56ICogbnMueik7ICAKCiAgICB2ZWM0IHhfID0gZmxvb3IoaiAqIG5zLnopOwogICAgdmVjNCB5XyA9IGZsb29yKGogLSA3LjAgKiB4XyApOyAgICAKCiAgICB2ZWM0IHggPSB4XyAqbnMueCArIG5zLnl5eXk7CiAgICB2ZWM0IHkgPSB5XyAqbnMueCArIG5zLnl5eXk7CiAgICB2ZWM0IGggPSAxLjAgLSBhYnMoeCkgLSBhYnMoeSk7CgogICAgdmVjNCBiMCA9IHZlYzQoIHgueHksIHkueHkgKTsKICAgIHZlYzQgYjEgPSB2ZWM0KCB4Lnp3LCB5Lnp3ICk7CgogICAgCiAgICAKICAgIHZlYzQgczAgPSBmbG9vcihiMCkqMi4wICsgMS4wOwogICAgdmVjNCBzMSA9IGZsb29yKGIxKSoyLjAgKyAxLjA7CiAgICB2ZWM0IHNoID0gLXN0ZXAoaCwgdmVjNCgwLjApKTsKCiAgICB2ZWM0IGEwID0gYjAueHp5dyArIHMwLnh6eXcqc2gueHh5eSA7CiAgICB2ZWM0IGExID0gYjEueHp5dyArIHMxLnh6eXcqc2guenp3dyA7CgogICAgdmVjMyBwMCA9IHZlYzMoYTAueHksaC54KTsKICAgIHZlYzMgcDEgPSB2ZWMzKGEwLnp3LGgueSk7CiAgICB2ZWMzIHAyID0gdmVjMyhhMS54eSxoLnopOwogICAgdmVjMyBwMyA9IHZlYzMoYTEuencsaC53KTsKCiAgICAKICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QocDAscDApLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpOwogICAgcDAgKj0gbm9ybS54OwogICAgcDEgKj0gbm9ybS55OwogICAgcDIgKj0gbm9ybS56OwogICAgcDMgKj0gbm9ybS53OwoKICAgIAogICAgdmVjNCBtID0gbWF4KDAuNiAtIHZlYzQoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSwgZG90KHgzLHgzKSksIDAuMCk7CiAgICBtID0gbSAqIG07CiAgICByZXR1cm4gNDIuMCAqIGRvdCggbSptLCB2ZWM0KCBkb3QocDAseDApLCBkb3QocDEseDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdChwMix4MiksIGRvdChwMyx4MykgKSApOwp9CgpmbG9hdCBzbm9pc2UoaW4gdmVjNCB2KSB7CiAgICBjb25zdCB2ZWM0ICBDID0gdmVjNCggMC4xMzgxOTY2MDExMjUwMTEsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC4yNzYzOTMyMDIyNTAwMjEsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC40MTQ1ODk4MDMzNzUwMzIsICAKICAgICAgICAgICAgICAgICAgICAgICAgLTAuNDQ3MjEzNTk1NDk5OTU4KTsgCgogICAgCiAgICB2ZWM0IGkgID0gZmxvb3IodiArIGRvdCh2LCB2ZWM0KC4zMDkwMTY5OTQzNzQ5NDc0NTEpKSApOyAKICAgIHZlYzQgeDAgPSB2IC0gICBpICsgZG90KGksIEMueHh4eCk7CgogICAgCgogICAgCiAgICB2ZWM0IGkwOwogICAgdmVjMyBpc1ggPSBzdGVwKCB4MC55encsIHgwLnh4eCApOwogICAgdmVjMyBpc1laID0gc3RlcCggeDAuend3LCB4MC55eXogKTsKICAgIAogICAgaTAueCA9IGlzWC54ICsgaXNYLnkgKyBpc1guejsKICAgIGkwLnl6dyA9IDEuMCAtIGlzWDsKICAgIAogICAgaTAueSArPSBpc1laLnggKyBpc1laLnk7CiAgICBpMC56dyArPSAxLjAgLSBpc1laLnh5OwogICAgaTAueiArPSBpc1laLno7CiAgICBpMC53ICs9IDEuMCAtIGlzWVouejsKCiAgICAKICAgIHZlYzQgaTMgPSBjbGFtcCggaTAsIDAuMCwgMS4wICk7CiAgICB2ZWM0IGkyID0gY2xhbXAoIGkwLTEuMCwgMC4wLCAxLjAgKTsKICAgIHZlYzQgaTEgPSBjbGFtcCggaTAtMi4wLCAwLjAsIDEuMCApOwoKICAgIAogICAgCiAgICAKICAgIAogICAgCiAgICB2ZWM0IHgxID0geDAgLSBpMSArIEMueHh4eDsKICAgIHZlYzQgeDIgPSB4MCAtIGkyICsgQy55eXl5OwogICAgdmVjNCB4MyA9IHgwIC0gaTMgKyBDLnp6eno7CiAgICB2ZWM0IHg0ID0geDAgKyBDLnd3d3c7CgogICAgCiAgICBpID0gbW9kMjg5KGkpOwogICAgZmxvYXQgajAgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKGkudykgKyBpLnopICsgaS55KSArIGkueCk7CiAgICB2ZWM0IGoxID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSAoCiAgICAgICAgICAgICAgICBpLncgKyB2ZWM0KGkxLncsIGkyLncsIGkzLncsIDEuMCApKQogICAgICAgICAgICArIGkueiArIHZlYzQoaTEueiwgaTIueiwgaTMueiwgMS4wICkpCiAgICAgICAgICAgICsgaS55ICsgdmVjNChpMS55LCBpMi55LCBpMy55LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnggKyB2ZWM0KGkxLngsIGkyLngsIGkzLngsIDEuMCApKTsKCiAgICAKICAgIAogICAgdmVjNCBpcCA9IHZlYzQoMS4wLzI5NC4wLCAxLjAvNDkuMCwgMS4wLzcuMCwgMC4wKSA7CgogICAgdmVjNCBwMCA9IGdyYWQ0KGowLCAgIGlwKTsKICAgIHZlYzQgcDEgPSBncmFkNChqMS54LCBpcCk7CiAgICB2ZWM0IHAyID0gZ3JhZDQoajEueSwgaXApOwogICAgdmVjNCBwMyA9IGdyYWQ0KGoxLnosIGlwKTsKICAgIHZlYzQgcDQgPSBncmFkNChqMS53LCBpcCk7CgogICAgCiAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KHAwLHAwKSwgZG90KHAxLHAxKSwgZG90KHAyLCBwMiksIGRvdChwMyxwMykpKTsKICAgIHAwICo9IG5vcm0ueDsKICAgIHAxICo9IG5vcm0ueTsKICAgIHAyICo9IG5vcm0uejsKICAgIHAzICo9IG5vcm0udzsKICAgIHA0ICo9IHRheWxvckludlNxcnQoZG90KHA0LHA0KSk7CgogICAgCiAgICB2ZWMzIG0wID0gbWF4KDAuNiAtIHZlYzMoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSksIDAuMCk7CiAgICB2ZWMyIG0xID0gbWF4KDAuNiAtIHZlYzIoZG90KHgzLHgzKSwgZG90KHg0LHg0KSAgICAgICAgICAgICksIDAuMCk7CiAgICBtMCA9IG0wICogbTA7CiAgICBtMSA9IG0xICogbTE7CiAgICByZXR1cm4gNDkuMCAqICggZG90KG0wKm0wLCB2ZWMzKCBkb3QoIHAwLCB4MCApLCBkb3QoIHAxLCB4MSApLCBkb3QoIHAyLCB4MiApKSkKICAgICAgICAgICAgICAgICsgZG90KG0xKm0xLCB2ZWMyKCBkb3QoIHAzLCB4MyApLCBkb3QoIHA0LCB4NCApICkgKSApIDsKfQoKdmVjMiBzbm9pc2UyKCB2ZWMyIHggKXsKICAgIGZsb2F0IHMgID0gc25vaXNlKHZlYzIoIHggKSk7CiAgICBmbG9hdCBzMSA9IHNub2lzZSh2ZWMyKCB4LnkgLSAxOS4xLCB4LnggKyA0Ny4yICkpOwogICAgcmV0dXJuIHZlYzIoIHMgLCBzMSApOwp9Cgp2ZWMzIHNub2lzZTMoIHZlYzMgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjMyggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzMoIHgueSAtIDE5LjEgLCB4LnogKyAzMy40ICwgeC54ICsgNDcuMiApKTsKICAgIGZsb2F0IHMyID0gc25vaXNlKHZlYzMoIHgueiArIDc0LjIgLCB4LnggLSAxMjQuNSAsIHgueSArIDk5LjQgKSk7CiAgICByZXR1cm4gdmVjMyggcyAsIHMxICwgczIgKTsKfQoKdmVjMyBzbm9pc2UzKCB2ZWM0IHggKXsKICAgIGZsb2F0IHMgID0gc25vaXNlKHZlYzQoIHggKSk7CiAgICBmbG9hdCBzMSA9IHNub2lzZSh2ZWM0KCB4LnkgLSAxOS4xICwgeC56ICsgMzMuNCAsIHgueCArIDQ3LjIsIHgudyApKTsKICAgIGZsb2F0IHMyID0gc25vaXNlKHZlYzQoIHgueiArIDc0LjIgLCB4LnggLSAxMjQuNSAsIHgueSArIDk5LjQsIHgudyApKTsKICAgIHJldHVybiB2ZWMzKCBzICwgczEgLCBzMiApOwp9CgojZW5kaWYKCgoKI2lmbmRlZiBSQU5ET01fU0NBTEUKI2lmIGRlZmluZWQoUkFORE9NX0hJR0hFUl9SQU5HRSkKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCguMTAzMSwgLjEwMzAsIC4wOTczLCAuMTA5OSkKI2Vsc2UKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCg0NDMuODk3LCA0NDEuNDIzLCAuMDk3MywgLjEwOTkpCiNlbmRpZgojZW5kaWYKCiNpZm5kZWYgRk5DX1JBTkRPTQojZGVmaW5lIEZOQ19SQU5ET00KZmxvYXQgcmFuZG9tKGluIGZsb2F0IHgpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICB4ID0gZnJhY3QoeCAqIFJBTkRPTV9TQ0FMRS54KTsKICAgIHggKj0geCArIDMzLjMzOwogICAgeCAqPSB4ICsgeDsKICAgIHJldHVybiBmcmFjdCh4KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oeCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMyIHN0KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgdmVjMyBwMyAgPSBmcmFjdCh2ZWMzKHN0Lnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwMy54ICsgcDMueSkgKiBwMy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHN0Lnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzMgcG9zKSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgcG9zICA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy56eXggKyAzMS4zMik7CiAgICByZXR1cm4gZnJhY3QoKHBvcy54ICsgcG9zLnkpICogcG9zLnopOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbihkb3QocG9zLnh5eiwgdmVjMyg3MC45ODk4LCA3OC4yMzMsIDMyLjQzNTUpKSkgKiA0Mzc1OC41NDUzMTIzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWM0IHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwb3MgKz0gZG90KHBvcywgcG9zLnd6eHkrMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIChwb3MueiArIHBvcy53KSk7CiNlbHNlCiAgICBmbG9hdCBkb3RfcHJvZHVjdCA9IGRvdChwb3MsIHZlYzQoMTIuOTg5OCw3OC4yMzMsNDUuMTY0LDk0LjY3MykpOwogICAgcmV0dXJuIGZyYWN0KHNpbihkb3RfcHJvZHVjdCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCnZlYzIgcmFuZG9tMihmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMyIHJhbmRvbTIodmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QocC54eXggKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzMgcDMpIHsKICAgIHAzID0gZnJhY3QocDMgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMyByYW5kb20zKGZsb2F0IHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHApICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7IAp9Cgp2ZWMzIHJhbmRvbTModmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwLnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eHkgKyBwMy55enopICogcDMuenl4KTsKfQoKdmVjMyByYW5kb20zKHZlYzMgcCkgewogICAgcCA9IGZyYWN0KHAgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAgKz0gZG90KHAsIHAueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwLnh4eSArIHAueXp6KSAqIHAuenl4KTsKfQoKdmVjNCByYW5kb200KGZsb2F0IHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7ICAgCn0KCnZlYzQgcmFuZG9tNCh2ZWMyIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5eHkgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzMgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAueHl6eCAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzQgcDQpIHsKICAgIHA0ID0gZnJhY3QocDQgICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfU1JBTkRPTQojZGVmaW5lIEZOQ19TUkFORE9NCgpmbG9hdCBzcmFuZG9tKGluIGZsb2F0IHgpIHsKICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oeCkgKiA0Mzc1OC41NDUzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWMyIHN0KSB7CiAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWMzIHBvcykgewogIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3QocG9zLnh5eiwgdmVjMyg3MC45ODk4LCA3OC4yMzMsIDMyLjQzNTUpKSkgKiA0Mzc1OC41NDUzMTIzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWM0IHBvcykgewogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3RfcHJvZHVjdCkgKiA0Mzc1OC41NDUzKTsKfQoKdmVjMiBzcmFuZG9tMihpbiB2ZWMyIHN0KSB7CiAgICBjb25zdCB2ZWMyIGsgPSB2ZWMyKC4zMTgzMDk5LCAuMzY3ODc5NCk7CiAgICBzdCA9IHN0ICogayArIGsueXg7CiAgICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdCgxNi4gKiBrICogZnJhY3Qoc3QueCAqIHN0LnkgKiAoc3QueCArIHN0LnkpKSk7Cn0KCnZlYzMgc3JhbmRvbTMoaW4gdmVjMyBwKSB7CiAgICBwID0gdmVjMyggZG90KHAsIHZlYzMoMTI3LjEsIDMxMS43LCA3NC43KSksCiAgICAgICAgICAgIGRvdChwLCB2ZWMzKDI2OS41LCAxODMuMywgMjQ2LjEpKSwKICAgICAgICAgICAgZG90KHAsIHZlYzMoMTEzLjUsIDI3MS45LCAxMjQuNikpKTsKICAgIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihwKSAqIDQzNzU4LjU0NTMxMjMpOwp9Cgp2ZWMyIHNyYW5kb20yKGluIHZlYzIgcCwgY29uc3QgaW4gZmxvYXQgdGlsZUxlbmd0aCkgewogICAgcCA9IG1vZChwLCB2ZWMyKHRpbGVMZW5ndGgpKTsKICAgIHJldHVybiBzcmFuZG9tMihwKTsKfQoKdmVjMyBzcmFuZG9tMyhpbiB2ZWMzIHAsIGNvbnN0IGluIGZsb2F0IHRpbGVMZW5ndGgpIHsKICAgIHAgPSBtb2QocCwgdmVjMyh0aWxlTGVuZ3RoKSk7CiAgICByZXR1cm4gc3JhbmRvbTMocCk7Cn0KCiNlbmRpZgoKCiNpZm5kZWYgRk5DX0NVQklDCiNkZWZpbmUgRk5DX0NVQklDIApmbG9hdCBjdWJpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KdmVjMiAgY3ViaWMoY29uc3QgaW4gdmVjMiB2KSAgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CnZlYzMgIGN1YmljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQp2ZWM0ICBjdWJpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KCmZsb2F0IGN1YmljKGNvbnN0IGluIGZsb2F0IHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIGZsb2F0IHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICBmbG9hdCB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQoKdmVjMiBjdWJpYyhjb25zdCBpbiB2ZWMyIHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIHZlYzIgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIHZlYzIgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KCnZlYzMgY3ViaWMoY29uc3QgaW4gdmVjMyB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICB2ZWMzIHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICB2ZWMzIHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9Cgp2ZWM0IGN1YmljKGNvbnN0IGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgdmVjNCB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgdmVjNCB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQojZW5kaWYKCgojaWZuZGVmIEZOQ19RVUlOVElDCiNkZWZpbmUgRk5DX1FVSU5USUMgCgpmbG9hdCBxdWludGljKGNvbnN0IGluIGZsb2F0IHYpIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMyICBxdWludGljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMzICBxdWludGljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWM0ICBxdWludGljKGNvbnN0IGluIHZlYzQgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX0dOT0lTRQojZGVmaW5lIEZOQ19HTk9JU0UKCmZsb2F0IGdub2lzZShmbG9hdCB4KSB7CiAgICBmbG9hdCBpID0gZmxvb3IoeCk7ICAKICAgIGZsb2F0IGYgPSBmcmFjdCh4KTsgIAogICAgcmV0dXJuIG1peChyYW5kb20oaSksIHJhbmRvbShpICsgMS4wKSwgc21vb3Roc3RlcCgwLiwxLixmKSk7IAp9CgpmbG9hdCBnbm9pc2UodmVjMiBzdCkgewogICAgdmVjMiBpID0gZmxvb3Ioc3QpOwogICAgdmVjMiBmID0gZnJhY3Qoc3QpOwogICAgZmxvYXQgYSA9IHJhbmRvbShpKTsKICAgIGZsb2F0IGIgPSByYW5kb20oaSArIHZlYzIoMS4wLCAwLjApKTsKICAgIGZsb2F0IGMgPSByYW5kb20oaSArIHZlYzIoMC4wLCAxLjApKTsKICAgIGZsb2F0IGQgPSByYW5kb20oaSArIHZlYzIoMS4wLCAxLjApKTsKICAgIHZlYzIgdSA9IGN1YmljKGYpOwogICAgcmV0dXJuIG1peCggYSwgYiwgdS54KSArCiAgICAgICAgICAgICAgICAoYyAtIGEpKiB1LnkgKiAoMS4wIC0gdS54KSArCiAgICAgICAgICAgICAgICAoZCAtIGIpICogdS54ICogdS55Owp9CgpmbG9hdCBnbm9pc2UodmVjMyBwKSB7CiAgICB2ZWMzIGkgPSBmbG9vcihwKTsKICAgIHZlYzMgZiA9IGZyYWN0KHApOwogICAgdmVjMyB1ID0gcXVpbnRpYyhmKTsKICAgIHJldHVybiAtMS4wICsgMi4wICogbWl4KCBtaXgoIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwwLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwwLjAsMC4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDEuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDEuMCwwLjApKSwgdS54KSwgdS55KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1peCggbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDAuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDAuMCwxLjApKSwgdS54KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMS4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMS4wLDEuMCkpLCB1LngpLCB1LnkpLCB1LnogKTsKfQoKZmxvYXQgZ25vaXNlKHZlYzMgcCwgZmxvYXQgdGlsZUxlbmd0aCkgewogICAgdmVjMyBpID0gZmxvb3IocCk7CiAgICB2ZWMzIGYgPSBmcmFjdChwKTsKICAgICAgICAgICAgCiAgICB2ZWMzIHUgPSBxdWludGljKGYpOwogICAgICAgIAogICAgcmV0dXJuIG1peCggbWl4KCBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDAuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDAuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwwLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwwLjAsMC4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwxLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwxLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMS4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMS4wLDAuMCkpLCB1LngpLCB1LnkpLAogICAgICAgICAgICAgICAgbWl4KCBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDAuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDAuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwwLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwwLjAsMS4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwxLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwxLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMS4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMS4wLDEuMCkpLCB1LngpLCB1LnkpLCB1LnogKTsKfQoKdmVjMyBnbm9pc2UzKHZlYzMgeCkgewogICAgcmV0dXJuIHZlYzMoZ25vaXNlKHgrdmVjMygxMjMuNDU2LCAwLjU2NywgMC4zNykpLAogICAgICAgICAgICAgICAgZ25vaXNlKHgrdmVjMygwLjExLCA0Ny40MywgMTkuMTcpKSwKICAgICAgICAgICAgICAgIGdub2lzZSh4KSApOwp9CgojZW5kaWYKCgoKCiNpZm5kZWYgRkJNX09DVEFWRVMKI2RlZmluZSBGQk1fT0NUQVZFUyA0CiNlbmRpZgoKI2lmbmRlZiBGQk1fTk9JU0VfRk5DCiNkZWZpbmUgRkJNX05PSVNFX0ZOQyhVVikgc25vaXNlKFVWKQojZW5kaWYKCiNpZm5kZWYgRkJNX05PSVNFMl9GTkMKI2RlZmluZSBGQk1fTk9JU0UyX0ZOQyhVVikgRkJNX05PSVNFX0ZOQyhVVikKI2VuZGlmCgojaWZuZGVmIEZCTV9OT0lTRTNfRk5DCiNkZWZpbmUgRkJNX05PSVNFM19GTkMoVVYpIEZCTV9OT0lTRV9GTkMoVVYpCiNlbmRpZgoKI2lmbmRlZiBGQk1fTk9JU0VfVElMQUJMRV9GTkMKI2RlZmluZSBGQk1fTk9JU0VfVElMQUJMRV9GTkMoVVYsIFRJTEUpIGdub2lzZShVViwgVElMRSkKI2VuZGlmCgojaWZuZGVmIEZCTV9OT0lTRTNfVElMQUJMRV9GTkMKI2RlZmluZSBGQk1fTk9JU0UzX1RJTEFCTEVfRk5DKFVWLCBUSUxFKSBGQk1fTk9JU0VfVElMQUJMRV9GTkMoVVYsIFRJTEUpCiNlbmRpZgoKI2lmbmRlZiBGQk1fTk9JU0VfVFlQRQojZGVmaW5lIEZCTV9OT0lTRV9UWVBFIGZsb2F0CiNlbmRpZgoKI2lmbmRlZiBGQk1fVkFMVUVfSU5JVElBTAojZGVmaW5lIEZCTV9WQUxVRV9JTklUSUFMIDAuMAojZW5kaWYKCiNpZm5kZWYgRkJNX1NDQUxFX1NDQUxBUgojZGVmaW5lIEZCTV9TQ0FMRV9TQ0FMQVIgMi4wCiNlbmRpZgoKI2lmbmRlZiBGQk1fQU1QTElUVURfSU5JVElBTAojZGVmaW5lIEZCTV9BTVBMSVRVRF9JTklUSUFMIDAuNQojZW5kaWYKCiNpZm5kZWYgRkJNX0FNUExJVFVEX1NDQUxBUgojZGVmaW5lIEZCTV9BTVBMSVRVRF9TQ0FMQVIgMC41CiNlbmRpZgoKI2lmbmRlZiBGTkNfRkJNCiNkZWZpbmUgRk5DX0ZCTQpGQk1fTk9JU0VfVFlQRSBmYm0oaW4gdmVjMiBzdCkgewogICAgCiAgICBGQk1fTk9JU0VfVFlQRSB2YWx1ZSA9IEZCTV9OT0lTRV9UWVBFKEZCTV9WQUxVRV9JTklUSUFMKTsKICAgIGZsb2F0IGFtcGxpdHVkID0gRkJNX0FNUExJVFVEX0lOSVRJQUw7CgogICAgCiAgICBmb3IgKGludCBpID0gMDsgaSA8IEZCTV9PQ1RBVkVTOyBpKyspIHsKICAgICAgICB2YWx1ZSArPSBhbXBsaXR1ZCAqIEZCTV9OT0lTRTJfRk5DKHN0KTsKICAgICAgICBzdCAqPSBGQk1fU0NBTEVfU0NBTEFSOwogICAgICAgIGFtcGxpdHVkICo9IEZCTV9BTVBMSVRVRF9TQ0FMQVI7CiAgICB9CiAgICByZXR1cm4gdmFsdWU7Cn0KCkZCTV9OT0lTRV9UWVBFIGZibShpbiB2ZWMzIHBvcykgewogICAgCiAgICBGQk1fTk9JU0VfVFlQRSB2YWx1ZSA9IEZCTV9OT0lTRV9UWVBFKEZCTV9WQUxVRV9JTklUSUFMKTsKICAgIGZsb2F0IGFtcGxpdHVkID0gRkJNX0FNUExJVFVEX0lOSVRJQUw7CgogICAgCiAgICBmb3IgKGludCBpID0gMDsgaSA8IEZCTV9PQ1RBVkVTOyBpKyspIHsKICAgICAgICB2YWx1ZSArPSBhbXBsaXR1ZCAqIEZCTV9OT0lTRTNfRk5DKHBvcyk7CiAgICAgICAgcG9zICo9IEZCTV9TQ0FMRV9TQ0FMQVI7CiAgICAgICAgYW1wbGl0dWQgKj0gRkJNX0FNUExJVFVEX1NDQUxBUjsKICAgIH0KICAgIHJldHVybiB2YWx1ZTsKfQoKRkJNX05PSVNFX1RZUEUgZmJtKHZlYzMgcCwgZmxvYXQgdGlsZUxlbmd0aCkgewogICAgY29uc3QgZmxvYXQgcGVyc2lzdGVuY2UgPSAwLjU7CiAgICBjb25zdCBmbG9hdCBsYWN1bmFyaXR5ID0gMi4wOwoKICAgIGZsb2F0IGFtcGxpdHVkZSA9IDAuNTsKICAgIEZCTV9OT0lTRV9UWVBFIHRvdGFsID0gRkJNX05PSVNFX1RZUEUoMC4wKTsKICAgIGZsb2F0IG5vcm1hbGl6YXRpb24gPSAwLjA7CgogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBGQk1fT0NUQVZFUzsgKytpKSB7CiAgICAgICAgZmxvYXQgbm9pc2VWYWx1ZSA9IEZCTV9OT0lTRTNfVElMQUJMRV9GTkMocCwgdGlsZUxlbmd0aCAqIGxhY3VuYXJpdHkgKiAwLjUpICogMC41ICsgMC41OwogICAgICAgIHRvdGFsICs9IG5vaXNlVmFsdWUgKiBhbXBsaXR1ZGU7CiAgICAgICAgbm9ybWFsaXphdGlvbiArPSBhbXBsaXR1ZGU7CiAgICAgICAgYW1wbGl0dWRlICo9IHBlcnNpc3RlbmNlOwogICAgICAgIHAgPSBwICogbGFjdW5hcml0eTsKICAgIH0KCiAgICByZXR1cm4gdG90YWwgLyBub3JtYWxpemF0aW9uOwp9CiNlbmRpZgoKCgoKCgp2b2lkIG1haW4oKSB7CgogIHZVdiA9IHV2OwoKICAKCiAgdkRpc3BsYWNlbWVudCA9IGZibShwb3NpdGlvbiooMC4wICsgMS4wL3Vfc2NhbGUpICsgdmVjMyh1X3RpbWUqdV9zcGVlZC80LikpOwoKICAKCgoKICB2ZWMzIG5ld1Bvc2l0aW9uID0gcG9zaXRpb24gKyBub3JtYWwgKiB2RGlzcGxhY2VtZW50KnVfaW50ZW5zaXR5OwoKICAKCiAgZmxvYXQgZnJlcXVlbmN5ID0gNDAwLjA7CgogIGZsb2F0IHN0cmlwZXMgPSBmcmVxdWVuY3kgKiBwb3NpdGlvbi55OwoKICBmbG9hdCByb3VuZGVkID0gZmxvb3Ioc3RyaXBlcyk7CgogIHZEaXNwbGFjZW1lbnQgKj0gMy4yOwoKICAKCiAgCgogIHZlYzQgbW9kZWxQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogdmVjNChuZXdQb3NpdGlvbiwgMS4wKTsKCiAgdmVjNCB2aWV3UG9zaXRpb24gPSB2aWV3TWF0cml4ICogbW9kZWxQb3NpdGlvbjsKCiAgdmVjNCBwcm9qZWN0ZWRQb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3UG9zaXRpb247CgoKCiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0ZWRQb3NpdGlvbjsgIAoKfQoKYCwKICAgICAgICAgICAgICAgIHVuaWZvcm1zOiB7dV9pbnRlbnNpdHk6IHt2YWx1ZTogMC4wNjJ9LHVfY29sb3JzOiB7dmFsdWU6IFtuZXcgVEhSRUUuVmVjdG9yNCgwLjg0NzA1ODgyMzUyOTQxMTgsMC4yMjc0NTA5ODAzOTIxNTY4NiwwLjIzNTI5NDExNzY0NzA1ODgyLDApLG5ldyBUSFJFRS5WZWN0b3I0KDAuODQ3MDU4ODIzNTI5NDExOCwwLjIyNzQ1MDk4MDM5MjE1Njg2LDAuMjM1Mjk0MTE3NjQ3MDU4ODIsMSldfSx1X3NwZWVkOiB7dmFsdWU6IDAuMDgyfSx1X3NjYWxlOiB7dmFsdWU6IDAuMn0sdV90aW1lOiB7dmFsdWU6IDB9LHVfbW91c2U6IHt2YWx1ZTogWzAsMF19LHVfcmVzb2x1dGlvbjoge3ZhbHVlOiBbMjQwLDU4MF19fSwKICAgICAgICAgICAgICAgIHdpcmVmcmFtZTogZmFsc2UsIAogICAgICAgICAgICAgICAgd2lyZWZyYW1lTGluZXdpZHRoOiAwLAogICAgICAgICAgICAgICAgZGl0aGVyaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgIGZsYXRTaGFkaW5nOiB0cnVlLAogICAgICAgICAgICAgICAgZG91YmxlU2lkZWQ6IHRydWUsCiAgICAgICAgICAgICAgICBnbHNsVmVyc2lvbjogIjEwMCIKICAgICAgICAgICAgfSkKICAgICAgICApOyAgCiAgICB9CgogICAgUmVhY3RET00ucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLHsKICAgICAgICAgICAgZ2w6IHsKICAgICAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSwKICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogZmFsc2UsCiAgICAgICAgICAgICAgICBhbHBoYTogdHJ1ZSwKICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLAogICAgICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLAogICAgICAgICAgICAgICAgcHJlY2lzaW9uOiAiaGlnaHAiLAogICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiAiaGlnaC1wZXJmb3JtYW5jZSIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVzaXplOnsKICAgICAgICAgICAgICAgIGRlYm91bmNlOiAwLAogICAgICAgICAgICAgICAgc2Nyb2xsOiBmYWxzZSwKICAgICAgICAgICAgICAgIG9mZnNldFNpemU6IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZHByOiAxLAogICAgICAgICAgICBjYW1lcmE6IHsKICAgICAgICAgICAgICAgIGZvdjogOTAsCiAgICAgICAgICAgICAgICBuZWFyOiAwLjAxLAogICAgICAgICAgICAgICAgZmFyOiAyMDAwLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsMl0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3R5bGU6eyBoZWlnaHQ6ICIxMDAlIiwgd2lkdGg6ICIxMDAlIiB9CiAgICAgICAgfSwKICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHR1cmVNZXNoKSAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgKSwgZW1iZWRSb290KTsKPC9zY3JpcHQ+CiAgICAgICAgPC9oZWFkPgogICAgICAgIDxib2R5Pgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvYm9vay41ZmIxMWI4ZC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvbHlnaWEuZjc0OTA1OTQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL292ZXJmbG93LjhkNTA0MTVkLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy90cmFzaC41MjRkYmNkMy5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvdmVydGljYWwuOTA2MTA4NDkuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2hvcml6b250YWwuNDRmNzcxZjguc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2FkZC5hNTUyNDBkZC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvc2lnLjg1MGE4NWU3LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9taW51cy4xZTFhMGFiZC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvZWZmZWN0LjQ1NTcyNDNmLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy92aXNpYmxlLmM2ZDRlMWMwLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9oaWRkZW4uNWE0ZmMyNTQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3dvcmtlci5iNzYxZmIxMS5qcyAtLT4KPC9ib2R5PgogICAgICAgIDwvaHRtbD4=" class="opacity-30 border-none w-full h-full absolute top-0 left-0">
                    </iframe>
                </div>
                <div class="aspect-video p-4 bg-neutral-800 relative overflow-hidden">
                    <h3 class="font-wide uppercase text-lg z-10 relative">Audio</h3>
                    <p class="font-mono lowercase text-sm z-10 relative">
                        Simple audio apis that mimic WebAudio make it easy to build powerful audio systems
                    </p>
                    <iframe src="data:text/html;base64,PGh0bWw+CiAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgIGh0bWwsIGJvZHl7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAgICAgPHNjcmlwdCB0eXBlPSJpbXBvcnRtYXAiPgp7CiAgICAiaW1wb3J0cyI6IHsKICAgICAgICAicmVhY3QiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvcmVhY3RAMTguMC4yIiwKICAgICAgICAicmVhY3QtZG9tIjogImh0dHBzOi8vY2RuLnNreXBhY2suZGV2L3JlYWN0LWRvbUAxOC4wLjIiLAogICAgICAgICJ0aHJlZSI6ICJodHRwczovL2Nkbi5za3lwYWNrLmRldi90aHJlZUAwLjE0OC4wIiwKICAgICAgICAicmVhY3QtdGhyZWUvZmliZXIiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvQHJlYWN0LXRocmVlL2ZpYmVyQDcuMC4yNCIKICAgIH0KfQo8L3NjcmlwdD4KPHN0eWxlPgogICAgaHRtbCwgYm9keXsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgcGFkZGluZzogMDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYm9yZGVyOiAwOwogICAgfQogICAgLm50LWVtYmVkewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgIH0KICAgIC5udC1lbWJlZCBjYW52YXN7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQo8L3N0eWxlPgo8c2NyaXB0IHR5cGU9Im1vZHVsZSI+CiAgICBpbXBvcnQgUmVhY3QsIHt1c2VSZWYsdXNlTWVtb30gZnJvbSAncmVhY3QnOwogICAgaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7CiAgICBpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7CiAgICBpbXBvcnQge0NhbnZhcywgdXNlRnJhbWUsIHVzZVRocmVlfSBmcm9tICdyZWFjdC10aHJlZS9maWJlcic7CgogICAgbGV0IGVtYmVkUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZW1iZWRSb290LmNsYXNzTmFtZSA9ICJudC1lbWJlZCI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVtYmVkUm9vdCk7CgogICAgY29uc3QgVGV4dHVyZU1lc2ggPSAoKSA9PiB7CiAgICAgICAgY29uc3QgbWVzaCA9IHVzZVJlZihudWxsKQogICAgICAgIHVzZUZyYW1lKHN0YXRlID0+IHsKICAgICAgICAgICAgY29uc3QgeyBjbG9jaywgbW91c2UsIGdsLCBzY2VuZSwgY2FtZXJhIH0gPSBzdGF0ZQogICAgICAgICAgICBpZihtZXNoLmN1cnJlbnQpewogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfbW91c2UudmFsdWUgPSBbbW91c2UueCAvIDIgKyAwLjUsIG1vdXNlLnkgLyAyICsgMC41XQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA9IGNsb2NrLmdldEVsYXBzZWRUaW1lKCkKICAgICAgICAgICAgICAgIGxldCBjID0gZ2wuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZSA9IFtjLndpZHRoLGMuaGVpZ2h0XQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAKICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnbWVzaCcsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlZjptZXNoLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsMF0sCiAgICAgICAgICAgICAgICBzY2FsZTogMSwKICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBbMCwwLDBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3BsYW5lR2VvbWV0cnknLHthcmdzOlsyNDAsNTgwXX0pLCAKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnc2hhZGVyTWF0ZXJpYWwnLHsKICAgICAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyOiBgdW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjsKCnVuaWZvcm0gZmxvYXQgdV90aW1lOwoKdW5pZm9ybSB2ZWMzIHVfY29sb3I7Cgp1bmlmb3JtIHZlYzQgdV9iYWNrZ3JvdW5kOwoKdW5pZm9ybSBmbG9hdCB1X3NwZWVkOwoKdW5pZm9ybSBmbG9hdCB1X2RldGFpbDsKCgoKLyoKCiogQGF1dGhvciBIYXpzaSAoa2luZGEpCgoqLwoKbWF0MiBtKGZsb2F0IGEpIHsKCiAgICBmbG9hdCBjPWNvcyhhKSwgcz1zaW4oYSk7CgogICAgcmV0dXJuIG1hdDIoYywtcyxzLGMpOwoKfQoKCgoKCgojaWZuZGVmIEZOQ19SR0IyTFVNQQojZGVmaW5lIEZOQ19SR0IyTFVNQQpmbG9hdCByZ2IybHVtYShpbiB2ZWMzIGNvbG9yKSB7CiAgICByZXR1cm4gZG90KGNvbG9yLCB2ZWMzKDAuMjk5LCAwLjU4NywgMC4xMTQpKTsKfQpmbG9hdCByZ2IybHVtYShpbiB2ZWM0IGNvbG9yKSB7CiAgICByZXR1cm4gcmdiMmx1bWEoY29sb3IucmdiKTsKfQojZW5kaWYKCgojaWZuZGVmIEZOQ19MVU1BCiNkZWZpbmUgRk5DX0xVTUEKZmxvYXQgbHVtYShmbG9hdCB2KSB7IHJldHVybiB2OyB9CmZsb2F0IGx1bWEoaW4gdmVjMyB2KSB7IHJldHVybiByZ2IybHVtYSh2KTsgfQpmbG9hdCBsdW1hKGluIHZlYzQgdikgeyByZXR1cm4gcmdiMmx1bWEodi5yZ2IpOyB9CiNlbmRpZgoKCgpmbG9hdCBtYXAodmVjMyBwKSB7CgogICAgZmxvYXQgdCA9IHVfdGltZSAqIHVfc3BlZWQ7CgogICAgcC54eiAqPSBtKHQgKiAwLjQpO3AueHkqPSBtKHQgKiAwLjEpOwoKICAgIHZlYzMgcSA9IHAgKiAyLjAgKyB0OwoKICAgIHJldHVybiBsZW5ndGgocCt2ZWMzKHNpbigodCp1X3NwZWVkKSAqIDAuMSkpKSAqIGxvZyhsZW5ndGgocCkgKyAwLjkpICsgY29zKHEueCArIHNpbihxLnogKyBjb3MocS55KSkpICogMC41IC0gMS4wOwoKfQoKCgp2b2lkIG1haW4oKSB7CgogICAgdmVjMiBhID0gZ2xfRnJhZ0Nvb3JkLnh5IC8gdV9yZXNvbHV0aW9uLnggLSB2ZWMyKDAuNSwgMC41KTsKCiAgICB2ZWMzIGNsID0gdmVjMygwLjApOwoKICAgIGZsb2F0IGQgPSAyLjU7CgoKCiAgICBmb3IgKGZsb2F0IGkgPSAwLjsgaSA8PSAoMS4gKyAyMC4gKiB1X2RldGFpbCk7IGkrKykgewoKICAgICAgICB2ZWMzIHAgPSB2ZWMzKDAsIDAsIDQuMCkgKyBub3JtYWxpemUodmVjMyhhLCAtMS4wKSkgKiBkOwoKICAgICAgICBmbG9hdCByeiA9IG1hcChwKTsKCiAgICAgICAgZmxvYXQgZiA9ICBjbGFtcCgocnogLSBtYXAocCArIDAuMSkpICogMC41LCAtMC4xLCAxLjApOwoKICAgICAgICB2ZWMzIGwgPSB2ZWMzKDAuMSwgMC4zLCAwLjQpICsgdmVjMyg1LjAsIDIuNSwgMy4wKSAqIGY7CgogICAgICAgIGNsID0gY2wgKiBsICsgc21vb3Roc3RlcCgyLjUsIDAuMCwgcnopICogMC42ICogbDsKCiAgICAgICAgZCArPSBtaW4ocnosIDEuMCk7CgogICAgfQoKICAgIAoKICAgIHZlYzQgY29sb3IgPSB2ZWM0KG1pbih1X2NvbG9yLCBjbCksMS4wKTsKCiAgICAvL2NvbG9yID0gbWluKHVfYmFja2dyb3VuZCwgdV9jb2xvcik7CgogICAgY29sb3IuciA9IG1heCh1X2JhY2tncm91bmQucixjb2xvci5yKTsKCiAgICBjb2xvci5nID0gbWF4KHVfYmFja2dyb3VuZC5nLGNvbG9yLmcpOwoKICAgIGNvbG9yLmIgPSBtYXgodV9iYWNrZ3JvdW5kLmIsY29sb3IuYik7CgogICAgCgoKCiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjsKCn0KCmAsCiAgICAgICAgICAgICAgICB2ZXJ0ZXhTaGFkZXI6IGAKICAgICAgICAgICAgdm9pZCBtYWluKCkgewogICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTsKICAgICAgICB9YCwKICAgICAgICAgICAgICAgIHVuaWZvcm1zOiB7dV9jb2xvcjoge3ZhbHVlOiBbMC44NDcwNTg4MjM1Mjk0MTE4LDAuMjI3NDUwOTgwMzkyMTU2ODYsMC4yMzUyOTQxMTc2NDcwNTg4Ml19LHVfYmFja2dyb3VuZDoge3ZhbHVlOiBbMC4xMzMzMzMzMzMzMzMzMzMzMywwLjEyNTQ5MDE5NjA3ODQzMTM3LDAuMTI1NDkwMTk2MDc4NDMxMzcsMV19LHVfc3BlZWQ6IHt2YWx1ZTogMC4xfSx1X2RldGFpbDoge3ZhbHVlOiAwLjR9LHVfdGltZToge3ZhbHVlOiAwfSx1X21vdXNlOiB7dmFsdWU6IFswLDBdfSx1X3Jlc29sdXRpb246IHt2YWx1ZTogWzI0MCw1ODBdfX0sCiAgICAgICAgICAgICAgICB3aXJlZnJhbWU6IGZhbHNlLCAKICAgICAgICAgICAgICAgIHdpcmVmcmFtZUxpbmV3aWR0aDogMCwKICAgICAgICAgICAgICAgIGRpdGhlcmluZzogZmFsc2UsCiAgICAgICAgICAgICAgICBmbGF0U2hhZGluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIGRvdWJsZVNpZGVkOiB0cnVlLAogICAgICAgICAgICAgICAgZ2xzbFZlcnNpb246ICIxMDAiCiAgICAgICAgICAgIH0pCiAgICAgICAgKTsgIAogICAgfQoKICAgIFJlYWN0RE9NLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcyx7CiAgICAgICAgICAgIGdsOiB7CiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUsCiAgICAgICAgICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IGZhbHNlLAogICAgICAgICAgICAgICAgYWxwaGE6IHRydWUsCiAgICAgICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSwKICAgICAgICAgICAgICAgIGFudGlhbGlhczogdHJ1ZSwKICAgICAgICAgICAgICAgIHByZWNpc2lvbjogImhpZ2hwIiwKICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogImhpZ2gtcGVyZm9ybWFuY2UiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlc2l6ZTp7CiAgICAgICAgICAgICAgICBkZWJvdW5jZTogMCwKICAgICAgICAgICAgICAgIHNjcm9sbDogZmFsc2UsCiAgICAgICAgICAgICAgICBvZmZzZXRTaXplOiB0cnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRwcjogMSwKICAgICAgICAgICAgY2FtZXJhOiB7CiAgICAgICAgICAgICAgICBmb3Y6IDc1LAogICAgICAgICAgICAgICAgbmVhcjogMC4xLAogICAgICAgICAgICAgICAgZmFyOiAxMDAwLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsNV0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3R5bGU6eyBoZWlnaHQ6ICIxMDAlIiwgd2lkdGg6ICIxMDAlIiB9CiAgICAgICAgfSwKICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHR1cmVNZXNoKSAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgKSwgZW1iZWRSb290KTsKPC9zY3JpcHQ+CiAgICAgICAgPC9oZWFkPgogICAgICAgIDxib2R5Pgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvYm9vay41ZmIxMWI4ZC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvbHlnaWEuZjc0OTA1OTQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL292ZXJmbG93LjhkNTA0MTVkLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy90cmFzaC41MjRkYmNkMy5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvdmVydGljYWwuOTA2MTA4NDkuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2hvcml6b250YWwuNDRmNzcxZjguc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2FkZC5hNTUyNDBkZC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvc2lnLjg1MGE4NWU3LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9taW51cy4xZTFhMGFiZC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvZWZmZWN0LjQ1NTcyNDNmLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy92aXNpYmxlLmM2ZDRlMWMwLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9oaWRkZW4uNWE0ZmMyNTQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3dvcmtlci5iNzYxZmIxMS5qcyAtLT4KPC9ib2R5PgogICAgICAgIDwvaHRtbD4=" class="opacity-30 border-none w-full h-full absolute top-0 left-0">
                    </iframe>
                </div>
                <div class="aspect-video p-4 bg-neutral-800 relative overflow-hidden">
                    <h3 class="font-wide uppercase text-lg z-10 relative">Input</h3>
                    <p class="font-mono lowercase text-sm z-10 relative">
                        Rune provides robust input management APIs without the need for complex event handling
                    </p>
                    <iframe src="data:text/html;base64,PGh0bWw+CiAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgIGh0bWwsIGJvZHl7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAgICAgPHNjcmlwdCB0eXBlPSJpbXBvcnRtYXAiPgp7CiAgICAiaW1wb3J0cyI6IHsKICAgICAgICAicmVhY3QiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvcmVhY3RAMTguMC4yIiwKICAgICAgICAicmVhY3QtZG9tIjogImh0dHBzOi8vY2RuLnNreXBhY2suZGV2L3JlYWN0LWRvbUAxOC4wLjIiLAogICAgICAgICJ0aHJlZSI6ICJodHRwczovL2Nkbi5za3lwYWNrLmRldi90aHJlZUAwLjE0OC4wIiwKICAgICAgICAicmVhY3QtdGhyZWUvZmliZXIiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvQHJlYWN0LXRocmVlL2ZpYmVyQDcuMC4yNCIKICAgIH0KfQo8L3NjcmlwdD4KPHN0eWxlPgogICAgaHRtbCwgYm9keXsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgcGFkZGluZzogMDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYm9yZGVyOiAwOwogICAgfQogICAgLm50LWVtYmVkewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgIH0KICAgIC5udC1lbWJlZCBjYW52YXN7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQo8L3N0eWxlPgo8c2NyaXB0IHR5cGU9Im1vZHVsZSI+CiAgICBpbXBvcnQgUmVhY3QsIHt1c2VSZWYsdXNlTWVtb30gZnJvbSAncmVhY3QnOwogICAgaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7CiAgICBpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7CiAgICBpbXBvcnQge0NhbnZhcywgdXNlRnJhbWUsIHVzZVRocmVlfSBmcm9tICdyZWFjdC10aHJlZS9maWJlcic7CgogICAgbGV0IGVtYmVkUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZW1iZWRSb290LmNsYXNzTmFtZSA9ICJudC1lbWJlZCI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVtYmVkUm9vdCk7CgogICAgY29uc3QgVGV4dHVyZU1lc2ggPSAoKSA9PiB7CiAgICAgICAgY29uc3QgbWVzaCA9IHVzZVJlZihudWxsKQogICAgICAgIHVzZUZyYW1lKHN0YXRlID0+IHsKICAgICAgICAgICAgY29uc3QgeyBjbG9jaywgbW91c2UsIGdsLCBzY2VuZSwgY2FtZXJhIH0gPSBzdGF0ZQogICAgICAgICAgICBpZihtZXNoLmN1cnJlbnQpewogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfbW91c2UudmFsdWUgPSBbbW91c2UueCAvIDIgKyAwLjUsIG1vdXNlLnkgLyAyICsgMC41XQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA9IGNsb2NrLmdldEVsYXBzZWRUaW1lKCkKICAgICAgICAgICAgICAgIGxldCBjID0gZ2wuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZSA9IFtjLndpZHRoLGMuaGVpZ2h0XQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAKICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnbWVzaCcsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlZjptZXNoLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsMF0sCiAgICAgICAgICAgICAgICBzY2FsZTogMSwKICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBbMCwwLDBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3BsYW5lR2VvbWV0cnknLHthcmdzOlsyNDAsNTgwXX0pLCAKICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnc2hhZGVyTWF0ZXJpYWwnLHsKICAgICAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyOiBgLy8gRnJhZ21lbnQgc2hhZGVyCgovKiAKQ3JlZGl0OiAKQXV0aG9yOltGYWJpbyBPdHRhdmlhbmldKGh0dHBzOi8vdHdpdHRlci5jb20vc3VwYWhmdW5rKSwKSW5zcGlyYXRpb246IFtEaXNjb3RlcSAyXShodHRwczovL3d3dy5zaGFkZXJ0b3kuY29tL3ZpZXcvRHRYZkRyKQoqLwoKLy9DcmVkaXQ6IENvZGUgJiBNb2RzOiBbUm9naWVdKGh0dHBzOi8vdHdpdHRlci5jb20vcm9naWUpCgovLyBVbmlmb3Jtcwp1bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uOwp1bmlmb3JtIHZlYzIgdV9tb3VzZTsKdW5pZm9ybSBmbG9hdCB1X3RpbWU7CnVuaWZvcm0gdmVjMyB1X2NvbG9yc1s0XTsKdW5pZm9ybSB2ZWM0IHVfYmFja2dyb3VuZDsKdW5pZm9ybSBmbG9hdCB1X3NjYWxlOyAvL3VuaXRzOiUKdW5pZm9ybSBpbnQgdV93YXZlczsgLy9taW46MSwgbWF4OiAzMgp1bmlmb3JtIGZsb2F0IHVfdGhpY2tuZXNzOyAvL3VuaXRzOiUsbWluOjAuMDEsbWF4OjAuMjUKdW5pZm9ybSBmbG9hdCB1X3N0cmV0Y2hfeDsvL3VuaXRzOiUKdW5pZm9ybSBmbG9hdCB1X3N0cmV0Y2hfeTsvL3VuaXRzOiUKdW5pZm9ybSBmbG9hdCB1X2JsdXI7IC8vdW5pdHM6JSxtaW46MCxtYXg6MC4yCnVuaWZvcm0gZmxvYXQgdV9zcGVlZDsgLy91bml0czolCnVuaWZvcm0gZmxvYXQgdV9jb2lsOyAvL3VuaXRzOiUsbWluOjAsbWF4OjgKCnZlYzQgd2F2ZSh2ZWMyIHV2LCBmbG9hdCBzcGVlZCwgZmxvYXQgaGVpZ2h0LCB2ZWMzIGNvbCkgewogICAgZmxvYXQgdGFwZXIgPSBhYnModXYueCkgKiAxLjsKCiAgICB1di55ICs9IHNtb290aHN0ZXAoMS4sIDAuLCB0YXBlcikgKiBzaW4odV90aW1lICogc3BlZWQgKyB1di54ICogaGVpZ2h0KSAqIC4yOwoKICAgIHJldHVybiB2ZWM0KAogICAgICBzbW9vdGhzdGVwKHVfYmx1ciAqIHNtb290aHN0ZXAoLjEsIC45LCB0YXBlciksCiAgICAgIDAuLAogICAgICBhYnModXYueSkqKDEuLXVfYmx1cikgLSAuMip1X3RoaWNrbmVzcykgKiBjb2wsIDEuKQogICAgICAqIHNtb290aHN0ZXAoMS4sIC41LCBhYnModXYueCkpOwp9CgojaWZuZGVmIFJFTkRFUiAKICB2ZWM0IHJlbmRlcih2ZWMyIHV2KSB7CiAgICB2ZWM0IGNvbG9yID0gdmVjNCgwLik7CiAgICAKICAgIC8vc2NhbGluZwogICAgdXYgKj0gKDEuLXVfc2NhbGUpOwogICAgCiAgICAvL2xpbmVzCiAgICBmb3IgKGludCBpID0gMTsgaSA8PSB1X3dhdmVzOyBpICs9IDEpIHsKICAgICAgICAvL2NvbG9yCiAgICAgICAgdmVjMyBjID0gdV9jb2xvcnNbaW50KG1vZChmbG9hdChpKSxmbG9hdCh1X2NvbG9ycy5sZW5ndGgoKSkpKV07CgogICAgICAgIGZsb2F0IHQgPSBmbG9hdChpKSAvIGZsb2F0KHVfd2F2ZXMpOwoKICAgICAgICB2ZWM0IGwgPSB3YXZlKAogICAgICAgICAgdXYgKiB2ZWMyKDEuNSAtIDEuNSp1X3N0cmV0Y2hfeCw0Li00Lip1X3N0cmV0Y2hfeSksIC8vdXYKICAgICAgICAgIDEuICsgdCp1X3NwZWVkKjguMCwgLy9zcGVlZAogICAgICAgICAgdV9jb2lsICogdCwgLy9oZWlnaHQKICAgICAgICAgIGMgKiB2ZWMzKC4yICsgdCAqIC43LCAuMiArIHQgKiAuNCwgMS4wICogdCkKICAgICAgICApOwoKICAgICAgICBjb2xvciArPSB2ZWM0KGwucmdiLGNsYW1wKGwucitsLmcrbC5iLDAuLDEuKSk7CiAgICB9CiAgICAKICAgIHJldHVybiBjb2xvcjsKICB9CiAgI2RlZmluZSBSRU5ERVIoVVYpIHJlbmRlcihVVikKI2VuZGlmCgp2b2lkIG1haW4oKSB7CiAgICB2ZWMyIHV2ID0gKGdsX0ZyYWdDb29yZC54eSAtIC41ICogdV9yZXNvbHV0aW9uLnh5KSAvIHVfcmVzb2x1dGlvbi55OwogICAgCiAgICB2ZWM0IGNvbG9yID0gUkVOREVSKHV2KTsKICAgIAogICAgLy8gQmFja2dyb3VuZCBjb2xvcgogICAgY29sb3IgPSAoY29sb3IgKiBjb2xvci5hKSArICh1X2JhY2tncm91bmQgKiAoMS4gLSBjb2xvci5hKSk7CgogICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7CiAgICAKfWAsCiAgICAgICAgICAgICAgICB2ZXJ0ZXhTaGFkZXI6IGAvLyBWZXJ0ZXggc2hhZGVyCgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTsKfWAsCiAgICAgICAgICAgICAgICB1bmlmb3Jtczoge3VfY29sb3JzOiB7dmFsdWU6IFtuZXcgVEhSRUUuVmVjdG9yNCgwLjg1MDk4MDM5MjE1Njg2MjcsMC4yMzEzNzI1NDkwMTk2MDc4NSwwLjIzOTIxNTY4NjI3NDUwOTgxLDAuMjEpLG5ldyBUSFJFRS5WZWN0b3I0KDAuODUwOTgwMzkyMTU2ODYyNywwLjIzMTM3MjU0OTAxOTYwNzg1LDAuMjM5MjE1Njg2Mjc0NTA5ODEsMC4xNCksbmV3IFRIUkVFLlZlY3RvcjQoMC44NTA5ODAzOTIxNTY4NjI3LDAuMjMxMzcyNTQ5MDE5NjA3ODUsMC4yMzkyMTU2ODYyNzQ1MDk4MSwwLjE4KSxuZXcgVEhSRUUuVmVjdG9yNCgwLjg1MDk4MDM5MjE1Njg2MjcsMC4yMzEzNzI1NDkwMTk2MDc4NSwwLjIzOTIxNTY4NjI3NDUwOTgxLDAuMDYpXX0sdV9iYWNrZ3JvdW5kOiB7dmFsdWU6IFswLjEzMzMzMzMzMzMzMzMzMzMzLDAuMTI1NDkwMTk2MDc4NDMxMzcsMC4xMjU0OTAxOTYwNzg0MzEzNywxXX0sdV9zY2FsZToge3ZhbHVlOiAwLjM2OH0sdV93YXZlczoge3ZhbHVlOiAxfSx1X3RoaWNrbmVzczoge3ZhbHVlOiAwLjI1fSx1X3N0cmV0Y2hfeDoge3ZhbHVlOiAwfSx1X3N0cmV0Y2hfeToge3ZhbHVlOiAwLjgwNn0sdV9ibHVyOiB7dmFsdWU6IDAuMTg4fSx1X3NwZWVkOiB7dmFsdWU6IDAuMDEzfSx1X2NvaWw6IHt2YWx1ZTogNi4wODR9LHVfcGl4ZWxfc2l6ZToge3ZhbHVlOiAwLjMzN30sdV90aW1lOiB7dmFsdWU6IDB9LHVfbW91c2U6IHt2YWx1ZTogWzAsMF19LHVfcmVzb2x1dGlvbjoge3ZhbHVlOiBbMjQwLDU4MF19fSwKICAgICAgICAgICAgICAgIHdpcmVmcmFtZTogZmFsc2UsIAogICAgICAgICAgICAgICAgd2lyZWZyYW1lTGluZXdpZHRoOiAwLAogICAgICAgICAgICAgICAgZGl0aGVyaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgIGZsYXRTaGFkaW5nOiB0cnVlLAogICAgICAgICAgICAgICAgZG91YmxlU2lkZWQ6IHRydWUsCiAgICAgICAgICAgICAgICBnbHNsVmVyc2lvbjogIjEwMCIKICAgICAgICAgICAgfSkKICAgICAgICApOyAgCiAgICB9CgogICAgUmVhY3RET00ucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLHsKICAgICAgICAgICAgZ2w6IHsKICAgICAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSwKICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogZmFsc2UsCiAgICAgICAgICAgICAgICBhbHBoYTogdHJ1ZSwKICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLAogICAgICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLAogICAgICAgICAgICAgICAgcHJlY2lzaW9uOiAiaGlnaHAiLAogICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiAiaGlnaC1wZXJmb3JtYW5jZSIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVzaXplOnsKICAgICAgICAgICAgICAgIGRlYm91bmNlOiAwLAogICAgICAgICAgICAgICAgc2Nyb2xsOiBmYWxzZSwKICAgICAgICAgICAgICAgIG9mZnNldFNpemU6IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZHByOiAxLAogICAgICAgICAgICBjYW1lcmE6IHsKICAgICAgICAgICAgICAgIGZvdjogNzUsCiAgICAgICAgICAgICAgICBuZWFyOiAwLjEsCiAgICAgICAgICAgICAgICBmYXI6IDEwMDAsCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsMCw1XQogICAgICAgICAgICB9LAogICAgICAgICAgICBzdHlsZTp7IGhlaWdodDogIjEwMCUiLCB3aWR0aDogIjEwMCUiIH0KICAgICAgICB9LAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dHVyZU1lc2gpICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICApLCBlbWJlZFJvb3QpOwo8L3NjcmlwdD4KICAgICAgICA8L2hlYWQ+CiAgICAgICAgPGJvZHk+CjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9ib29rLjVmYjExYjhkLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9seWdpYS5mNzQ5MDU5NC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvb3ZlcmZsb3cuOGQ1MDQxNWQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3RyYXNoLjUyNGRiY2QzLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy92ZXJ0aWNhbC45MDYxMDg0OS5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvaG9yaXpvbnRhbC40NGY3NzFmOC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvYWRkLmE1NTI0MGRkLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9zaWcuODUwYTg1ZTcuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL21pbnVzLjFlMWEwYWJkLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9lZmZlY3QuNDU1NzI0M2Yuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3Zpc2libGUuYzZkNGUxYzAuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2hpZGRlbi41YTRmYzI1NC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvd29ya2VyLmI3NjFmYjExLmpzIC0tPgo8L2JvZHk+CiAgICAgICAgPC9odG1sPg==" class="opacity-30 border-none w-full h-full absolute top-0 left-0">
                    </iframe>
                </div>
                <div class="aspect-video p-4 bg-neutral-800 relative overflow-hidden">
                    <h3 class="font-wide uppercase text-lg z-10 relative">Networking</h3>
                    <p class="font-mono lowercase text-sm z-10 relative">
                        High performance reliable &amp; unreliable network transports are available on every platform
                    </p>
                    <iframe src="data:text/html;base64,PGh0bWw+CiAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgIGh0bWwsIGJvZHl7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAgICAgPHNjcmlwdCB0eXBlPSJpbXBvcnRtYXAiPgp7CiAgICAiaW1wb3J0cyI6IHsKICAgICAgICAicmVhY3QiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvcmVhY3RAMTguMC4yIiwKICAgICAgICAicmVhY3QtZG9tIjogImh0dHBzOi8vY2RuLnNreXBhY2suZGV2L3JlYWN0LWRvbUAxOC4wLjIiLAogICAgICAgICJ0aHJlZSI6ICJodHRwczovL2Nkbi5za3lwYWNrLmRldi90aHJlZUAwLjE0OC4wIiwKICAgICAgICAicmVhY3QtdGhyZWUvZmliZXIiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvQHJlYWN0LXRocmVlL2ZpYmVyQDcuMC4yNCIKICAgIH0KfQo8L3NjcmlwdD4KPHN0eWxlPgogICAgaHRtbCwgYm9keXsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgcGFkZGluZzogMDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYm9yZGVyOiAwOwogICAgfQogICAgLm50LWVtYmVkewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgIH0KICAgIC5udC1lbWJlZCBjYW52YXN7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQo8L3N0eWxlPgo8c2NyaXB0IHR5cGU9Im1vZHVsZSI+CiAgICBpbXBvcnQgUmVhY3QsIHt1c2VSZWYsdXNlTWVtb30gZnJvbSAncmVhY3QnOwogICAgaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7CiAgICBpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7CiAgICBpbXBvcnQge0NhbnZhcywgdXNlRnJhbWUsIHVzZVRocmVlfSBmcm9tICdyZWFjdC10aHJlZS9maWJlcic7CgogICAgbGV0IGVtYmVkUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZW1iZWRSb290LmNsYXNzTmFtZSA9ICJudC1lbWJlZCI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVtYmVkUm9vdCk7CgogICAgY29uc3QgVGV4dHVyZU1lc2ggPSAoKSA9PiB7CiAgICAgICAgY29uc3QgbWVzaCA9IHVzZVJlZihudWxsKQogICAgICAgIHVzZUZyYW1lKHN0YXRlID0+IHsKICAgICAgICAgICAgY29uc3QgeyBjbG9jaywgbW91c2UsIGdsLCBzY2VuZSwgY2FtZXJhIH0gPSBzdGF0ZQogICAgICAgICAgICBpZihtZXNoLmN1cnJlbnQpewogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfbW91c2UudmFsdWUgPSBbbW91c2UueCAvIDIgKyAwLjUsIG1vdXNlLnkgLyAyICsgMC41XQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA9IGNsb2NrLmdldEVsYXBzZWRUaW1lKCkKICAgICAgICAgICAgICAgIGxldCBjID0gZ2wuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZSA9IFtjLndpZHRoLGMuaGVpZ2h0XQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAKICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnbWVzaCcsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlZjptZXNoLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsMF0sCiAgICAgICAgICAgICAgICBzY2FsZTogMS41LAogICAgICAgICAgICAgICAgcm90YXRpb246IFstMC43NSwwLjI1LC0wLjI1XQogICAgICAgICAgICB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdwbGFuZUdlb21ldHJ5Jyx7YXJnczpbMywxLDIwNDhdfSksIAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdzaGFkZXJNYXRlcmlhbCcsewogICAgICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGAvLyBGcmFnbWVudCBzaGFkZXIKCgoKLy8gVW5pZm9ybXMKCnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247Cgp1bmlmb3JtIHZlYzIgdV9tb3VzZTsKCnVuaWZvcm0gZmxvYXQgdV90aW1lOwoKdW5pZm9ybSBmbG9hdCB1X2ludGVuc2l0eTsKCnVuaWZvcm0gdmVjNCB1X2NvbG9yc1syXTsKCnVuaWZvcm0gZmxvYXQgdV9zcGVlZDsKCnVuaWZvcm0gZmxvYXQgdV9zY2FsZTsKCgoKdmFyeWluZyB2ZWMyIHZVdjsKCnZhcnlpbmcgZmxvYXQgdkRpc3BsYWNlbWVudDsKCnZhcnlpbmcgdmVjMyBwb3M7CgoKCgoKCgojaWZuZGVmIEZOQ19NT0QyODkKI2RlZmluZSBGTkNfTU9EMjg5CgpmbG9hdCBtb2QyODkoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzIgbW9kMjg5KGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzMgbW9kMjg5KGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzQgbW9kMjg5KGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19QRVJNVVRFCiNkZWZpbmUgRk5DX1BFUk1VVEUKCmZsb2F0IHBlcm11dGUoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzIgcGVybXV0ZShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMzIHBlcm11dGUoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjNCBwZXJtdXRlKGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfVEFZTE9SSU5WU1FSVAojZGVmaW5lIEZOQ19UQVlMT1JJTlZTUVJUCmZsb2F0IHRheWxvckludlNxcnQoaW4gZmxvYXQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzIgdGF5bG9ySW52U3FydChpbiB2ZWMyIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMzIHRheWxvckludlNxcnQoaW4gdmVjMyByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjNCB0YXlsb3JJbnZTcXJ0KGluIHZlYzQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CiNlbmRpZgoKCiNpZm5kZWYgRk5DX1FVSU5USUMKI2RlZmluZSBGTkNfUVVJTlRJQyAKCmZsb2F0IHF1aW50aWMoY29uc3QgaW4gZmxvYXQgdikgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzIgIHF1aW50aWMoY29uc3QgaW4gdmVjMiB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzMgIHF1aW50aWMoY29uc3QgaW4gdmVjMyB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzQgIHF1aW50aWMoY29uc3QgaW4gdmVjNCB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfUE5PSVNFCiNkZWZpbmUgRk5DX1BOT0lTRQoKZmxvYXQgcG5vaXNlKGluIHZlYzIgUCwgaW4gdmVjMiByZXApIHsKICAgIHZlYzQgUGkgPSBmbG9vcihQLnh5eHkpICsgdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApOwogICAgdmVjNCBQZiA9IGZyYWN0KFAueHl4eSkgLSB2ZWM0KDAuMCwgMC4wLCAxLjAsIDEuMCk7CiAgICBQaSA9IG1vZChQaSwgcmVwLnh5eHkpOyAKICAgIFBpID0gbW9kMjg5KFBpKTsgICAgICAgIAogICAgdmVjNCBpeCA9IFBpLnh6eHo7CiAgICB2ZWM0IGl5ID0gUGkueXl3dzsKICAgIHZlYzQgZnggPSBQZi54enh6OwogICAgdmVjNCBmeSA9IFBmLnl5d3c7CgogICAgdmVjNCBpID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTsKCiAgICB2ZWM0IGd4ID0gZnJhY3QoaSAqICgxLjAgLyA0MS4wKSkgKiAyLjAgLSAxLjAgOwogICAgdmVjNCBneSA9IGFicyhneCkgLSAwLjUgOwogICAgdmVjNCB0eCA9IGZsb29yKGd4ICsgMC41KTsKICAgIGd4ID0gZ3ggLSB0eDsKCiAgICB2ZWMyIGcwMCA9IHZlYzIoZ3gueCxneS54KTsKICAgIHZlYzIgZzEwID0gdmVjMihneC55LGd5LnkpOwogICAgdmVjMiBnMDEgPSB2ZWMyKGd4LnosZ3kueik7CiAgICB2ZWMyIGcxMSA9IHZlYzIoZ3gudyxneS53KTsKCiAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMCwgZzAwKSwgZG90KGcwMSwgZzAxKSwgZG90KGcxMCwgZzEwKSwgZG90KGcxMSwgZzExKSkpOwogICAgZzAwICo9IG5vcm0ueDsKICAgIGcwMSAqPSBub3JtLnk7CiAgICBnMTAgKj0gbm9ybS56OwogICAgZzExICo9IG5vcm0udzsKCiAgICBmbG9hdCBuMDAgPSBkb3QoZzAwLCB2ZWMyKGZ4LngsIGZ5LngpKTsKICAgIGZsb2F0IG4xMCA9IGRvdChnMTAsIHZlYzIoZngueSwgZnkueSkpOwogICAgZmxvYXQgbjAxID0gZG90KGcwMSwgdmVjMihmeC56LCBmeS56KSk7CiAgICBmbG9hdCBuMTEgPSBkb3QoZzExLCB2ZWMyKGZ4LncsIGZ5LncpKTsKCiAgICB2ZWMyIGZhZGVfeHkgPSBxdWludGljKFBmLnh5KTsKICAgIHZlYzIgbl94ID0gbWl4KHZlYzIobjAwLCBuMDEpLCB2ZWMyKG4xMCwgbjExKSwgZmFkZV94eS54KTsKICAgIGZsb2F0IG5feHkgPSBtaXgobl94LngsIG5feC55LCBmYWRlX3h5LnkpOwogICAgcmV0dXJuIDIuMyAqIG5feHk7Cn0KCmZsb2F0IHBub2lzZShpbiB2ZWMzIFAsIGluIHZlYzMgcmVwKSB7CiAgICB2ZWMzIFBpMCA9IG1vZChmbG9vcihQKSwgcmVwKTsgCiAgICB2ZWMzIFBpMSA9IG1vZChQaTAgKyB2ZWMzKDEuMCksIHJlcCk7IAogICAgUGkwID0gbW9kMjg5KFBpMCk7CiAgICBQaTEgPSBtb2QyODkoUGkxKTsKICAgIHZlYzMgUGYwID0gZnJhY3QoUCk7IAogICAgdmVjMyBQZjEgPSBQZjAgLSB2ZWMzKDEuMCk7IAogICAgdmVjNCBpeCA9IHZlYzQoUGkwLngsIFBpMS54LCBQaTAueCwgUGkxLngpOwogICAgdmVjNCBpeSA9IHZlYzQoUGkwLnl5LCBQaTEueXkpOwogICAgdmVjNCBpejAgPSBQaTAuenp6ejsKICAgIHZlYzQgaXoxID0gUGkxLnp6eno7CgogICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpOwogICAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApOwogICAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpOwoKICAgIHZlYzQgZ3gwID0gaXh5MCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAgPSBmcmFjdChmbG9vcihneDApICogKDEuMCAvIDcuMCkpIC0gMC41OwogICAgZ3gwID0gZnJhY3QoZ3gwKTsKICAgIHZlYzQgZ3owID0gdmVjNCgwLjUpIC0gYWJzKGd4MCkgLSBhYnMoZ3kwKTsKICAgIHZlYzQgc3owID0gc3RlcChnejAsIHZlYzQoMC4wKSk7CiAgICBneDAgLT0gc3owICogKHN0ZXAoMC4wLCBneDApIC0gMC41KTsKICAgIGd5MCAtPSBzejAgKiAoc3RlcCgwLjAsIGd5MCkgLSAwLjUpOwoKICAgIHZlYzQgZ3gxID0gaXh5MSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTEgPSBmcmFjdChmbG9vcihneDEpICogKDEuMCAvIDcuMCkpIC0gMC41OwogICAgZ3gxID0gZnJhY3QoZ3gxKTsKICAgIHZlYzQgZ3oxID0gdmVjNCgwLjUpIC0gYWJzKGd4MSkgLSBhYnMoZ3kxKTsKICAgIHZlYzQgc3oxID0gc3RlcChnejEsIHZlYzQoMC4wKSk7CiAgICBneDEgLT0gc3oxICogKHN0ZXAoMC4wLCBneDEpIC0gMC41KTsKICAgIGd5MSAtPSBzejEgKiAoc3RlcCgwLjAsIGd5MSkgLSAwLjUpOwoKICAgIHZlYzMgZzAwMCA9IHZlYzMoZ3gwLngsZ3kwLngsZ3owLngpOwogICAgdmVjMyBnMTAwID0gdmVjMyhneDAueSxneTAueSxnejAueSk7CiAgICB2ZWMzIGcwMTAgPSB2ZWMzKGd4MC56LGd5MC56LGd6MC56KTsKICAgIHZlYzMgZzExMCA9IHZlYzMoZ3gwLncsZ3kwLncsZ3owLncpOwogICAgdmVjMyBnMDAxID0gdmVjMyhneDEueCxneTEueCxnejEueCk7CiAgICB2ZWMzIGcxMDEgPSB2ZWMzKGd4MS55LGd5MS55LGd6MS55KTsKICAgIHZlYzMgZzAxMSA9IHZlYzMoZ3gxLnosZ3kxLnosZ3oxLnopOwogICAgdmVjMyBnMTExID0gdmVjMyhneDEudyxneTEudyxnejEudyk7CgogICAgdmVjNCBub3JtMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMCwgZzAwMCksIGRvdChnMDEwLCBnMDEwKSwgZG90KGcxMDAsIGcxMDApLCBkb3QoZzExMCwgZzExMCkpKTsKICAgIGcwMDAgKj0gbm9ybTAueDsKICAgIGcwMTAgKj0gbm9ybTAueTsKICAgIGcxMDAgKj0gbm9ybTAuejsKICAgIGcxMTAgKj0gbm9ybTAudzsKICAgIHZlYzQgbm9ybTEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDEsIGcwMDEpLCBkb3QoZzAxMSwgZzAxMSksIGRvdChnMTAxLCBnMTAxKSwgZG90KGcxMTEsIGcxMTEpKSk7CiAgICBnMDAxICo9IG5vcm0xLng7CiAgICBnMDExICo9IG5vcm0xLnk7CiAgICBnMTAxICo9IG5vcm0xLno7CiAgICBnMTExICo9IG5vcm0xLnc7CgogICAgZmxvYXQgbjAwMCA9IGRvdChnMDAwLCBQZjApOwogICAgZmxvYXQgbjEwMCA9IGRvdChnMTAwLCB2ZWMzKFBmMS54LCBQZjAueXopKTsKICAgIGZsb2F0IG4wMTAgPSBkb3QoZzAxMCwgdmVjMyhQZjAueCwgUGYxLnksIFBmMC56KSk7CiAgICBmbG9hdCBuMTEwID0gZG90KGcxMTAsIHZlYzMoUGYxLnh5LCBQZjAueikpOwogICAgZmxvYXQgbjAwMSA9IGRvdChnMDAxLCB2ZWMzKFBmMC54eSwgUGYxLnopKTsKICAgIGZsb2F0IG4xMDEgPSBkb3QoZzEwMSwgdmVjMyhQZjEueCwgUGYwLnksIFBmMS56KSk7CiAgICBmbG9hdCBuMDExID0gZG90KGcwMTEsIHZlYzMoUGYwLngsIFBmMS55eikpOwogICAgZmxvYXQgbjExMSA9IGRvdChnMTExLCBQZjEpOwoKICAgIHZlYzMgZmFkZV94eXogPSBxdWludGljKFBmMCk7CiAgICB2ZWM0IG5feiA9IG1peCh2ZWM0KG4wMDAsIG4xMDAsIG4wMTAsIG4xMTApLCB2ZWM0KG4wMDEsIG4xMDEsIG4wMTEsIG4xMTEpLCBmYWRlX3h5ei56KTsKICAgIHZlYzIgbl95eiA9IG1peChuX3oueHksIG5fei56dywgZmFkZV94eXoueSk7CiAgICBmbG9hdCBuX3h5eiA9IG1peChuX3l6LngsIG5feXoueSwgZmFkZV94eXoueCk7CiAgICByZXR1cm4gMi4yICogbl94eXo7Cn0KCmZsb2F0IHBub2lzZShpbiB2ZWM0IFAsIGluIHZlYzQgcmVwKSB7CiAgICB2ZWM0IFBpMCA9IG1vZChmbG9vcihQKSwgcmVwKTsgCiAgICB2ZWM0IFBpMSA9IG1vZChQaTAgKyAxLjAsIHJlcCk7IAogICAgUGkwID0gbW9kMjg5KFBpMCk7CiAgICBQaTEgPSBtb2QyODkoUGkxKTsKICAgIHZlYzQgUGYwID0gZnJhY3QoUCk7IAogICAgdmVjNCBQZjEgPSBQZjAgLSAxLjA7IAogICAgdmVjNCBpeCA9IHZlYzQoUGkwLngsIFBpMS54LCBQaTAueCwgUGkxLngpOwogICAgdmVjNCBpeSA9IHZlYzQoUGkwLnl5LCBQaTEueXkpOwogICAgdmVjNCBpejAgPSB2ZWM0KFBpMC56enp6KTsKICAgIHZlYzQgaXoxID0gdmVjNChQaTEuenp6eik7CiAgICB2ZWM0IGl3MCA9IHZlYzQoUGkwLnd3d3cpOwogICAgdmVjNCBpdzEgPSB2ZWM0KFBpMS53d3d3KTsKCiAgICB2ZWM0IGl4eSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7CiAgICB2ZWM0IGl4eTAgPSBwZXJtdXRlKGl4eSArIGl6MCk7CiAgICB2ZWM0IGl4eTEgPSBwZXJtdXRlKGl4eSArIGl6MSk7CiAgICB2ZWM0IGl4eTAwID0gcGVybXV0ZShpeHkwICsgaXcwKTsKICAgIHZlYzQgaXh5MDEgPSBwZXJtdXRlKGl4eTAgKyBpdzEpOwogICAgdmVjNCBpeHkxMCA9IHBlcm11dGUoaXh5MSArIGl3MCk7CiAgICB2ZWM0IGl4eTExID0gcGVybXV0ZShpeHkxICsgaXcxKTsKCiAgICB2ZWM0IGd4MDAgPSBpeHkwMCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAwID0gZmxvb3IoZ3gwMCkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3owMCA9IGZsb29yKGd5MDApICogKDEuMCAvIDYuMCk7CiAgICBneDAwID0gZnJhY3QoZ3gwMCkgLSAwLjU7CiAgICBneTAwID0gZnJhY3QoZ3kwMCkgLSAwLjU7CiAgICBnejAwID0gZnJhY3QoZ3owMCkgLSAwLjU7CiAgICB2ZWM0IGd3MDAgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MDApIC0gYWJzKGd5MDApIC0gYWJzKGd6MDApOwogICAgdmVjNCBzdzAwID0gc3RlcChndzAwLCB2ZWM0KDAuMCkpOwogICAgZ3gwMCAtPSBzdzAwICogKHN0ZXAoMC4wLCBneDAwKSAtIDAuNSk7CiAgICBneTAwIC09IHN3MDAgKiAoc3RlcCgwLjAsIGd5MDApIC0gMC41KTsKCiAgICB2ZWM0IGd4MDEgPSBpeHkwMSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAxID0gZmxvb3IoZ3gwMSkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3owMSA9IGZsb29yKGd5MDEpICogKDEuMCAvIDYuMCk7CiAgICBneDAxID0gZnJhY3QoZ3gwMSkgLSAwLjU7CiAgICBneTAxID0gZnJhY3QoZ3kwMSkgLSAwLjU7CiAgICBnejAxID0gZnJhY3QoZ3owMSkgLSAwLjU7CiAgICB2ZWM0IGd3MDEgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MDEpIC0gYWJzKGd5MDEpIC0gYWJzKGd6MDEpOwogICAgdmVjNCBzdzAxID0gc3RlcChndzAxLCB2ZWM0KDAuMCkpOwogICAgZ3gwMSAtPSBzdzAxICogKHN0ZXAoMC4wLCBneDAxKSAtIDAuNSk7CiAgICBneTAxIC09IHN3MDEgKiAoc3RlcCgwLjAsIGd5MDEpIC0gMC41KTsKCiAgICB2ZWM0IGd4MTAgPSBpeHkxMCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTEwID0gZmxvb3IoZ3gxMCkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3oxMCA9IGZsb29yKGd5MTApICogKDEuMCAvIDYuMCk7CiAgICBneDEwID0gZnJhY3QoZ3gxMCkgLSAwLjU7CiAgICBneTEwID0gZnJhY3QoZ3kxMCkgLSAwLjU7CiAgICBnejEwID0gZnJhY3QoZ3oxMCkgLSAwLjU7CiAgICB2ZWM0IGd3MTAgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MTApIC0gYWJzKGd5MTApIC0gYWJzKGd6MTApOwogICAgdmVjNCBzdzEwID0gc3RlcChndzEwLCB2ZWM0KDAuMCkpOwogICAgZ3gxMCAtPSBzdzEwICogKHN0ZXAoMC4wLCBneDEwKSAtIDAuNSk7CiAgICBneTEwIC09IHN3MTAgKiAoc3RlcCgwLjAsIGd5MTApIC0gMC41KTsKCiAgICB2ZWM0IGd4MTEgPSBpeHkxMSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTExID0gZmxvb3IoZ3gxMSkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3oxMSA9IGZsb29yKGd5MTEpICogKDEuMCAvIDYuMCk7CiAgICBneDExID0gZnJhY3QoZ3gxMSkgLSAwLjU7CiAgICBneTExID0gZnJhY3QoZ3kxMSkgLSAwLjU7CiAgICBnejExID0gZnJhY3QoZ3oxMSkgLSAwLjU7CiAgICB2ZWM0IGd3MTEgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MTEpIC0gYWJzKGd5MTEpIC0gYWJzKGd6MTEpOwogICAgdmVjNCBzdzExID0gc3RlcChndzExLCB2ZWM0KDAuMCkpOwogICAgZ3gxMSAtPSBzdzExICogKHN0ZXAoMC4wLCBneDExKSAtIDAuNSk7CiAgICBneTExIC09IHN3MTEgKiAoc3RlcCgwLjAsIGd5MTEpIC0gMC41KTsKCiAgICB2ZWM0IGcwMDAwID0gdmVjNChneDAwLngsZ3kwMC54LGd6MDAueCxndzAwLngpOwogICAgdmVjNCBnMTAwMCA9IHZlYzQoZ3gwMC55LGd5MDAueSxnejAwLnksZ3cwMC55KTsKICAgIHZlYzQgZzAxMDAgPSB2ZWM0KGd4MDAueixneTAwLnosZ3owMC56LGd3MDAueik7CiAgICB2ZWM0IGcxMTAwID0gdmVjNChneDAwLncsZ3kwMC53LGd6MDAudyxndzAwLncpOwogICAgdmVjNCBnMDAxMCA9IHZlYzQoZ3gxMC54LGd5MTAueCxnejEwLngsZ3cxMC54KTsKICAgIHZlYzQgZzEwMTAgPSB2ZWM0KGd4MTAueSxneTEwLnksZ3oxMC55LGd3MTAueSk7CiAgICB2ZWM0IGcwMTEwID0gdmVjNChneDEwLnosZ3kxMC56LGd6MTAueixndzEwLnopOwogICAgdmVjNCBnMTExMCA9IHZlYzQoZ3gxMC53LGd5MTAudyxnejEwLncsZ3cxMC53KTsKICAgIHZlYzQgZzAwMDEgPSB2ZWM0KGd4MDEueCxneTAxLngsZ3owMS54LGd3MDEueCk7CiAgICB2ZWM0IGcxMDAxID0gdmVjNChneDAxLnksZ3kwMS55LGd6MDEueSxndzAxLnkpOwogICAgdmVjNCBnMDEwMSA9IHZlYzQoZ3gwMS56LGd5MDEueixnejAxLnosZ3cwMS56KTsKICAgIHZlYzQgZzExMDEgPSB2ZWM0KGd4MDEudyxneTAxLncsZ3owMS53LGd3MDEudyk7CiAgICB2ZWM0IGcwMDExID0gdmVjNChneDExLngsZ3kxMS54LGd6MTEueCxndzExLngpOwogICAgdmVjNCBnMTAxMSA9IHZlYzQoZ3gxMS55LGd5MTEueSxnejExLnksZ3cxMS55KTsKICAgIHZlYzQgZzAxMTEgPSB2ZWM0KGd4MTEueixneTExLnosZ3oxMS56LGd3MTEueik7CiAgICB2ZWM0IGcxMTExID0gdmVjNChneDExLncsZ3kxMS53LGd6MTEudyxndzExLncpOwoKICAgIHZlYzQgbm9ybTAwID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAwMCwgZzAwMDApLCBkb3QoZzAxMDAsIGcwMTAwKSwgZG90KGcxMDAwLCBnMTAwMCksIGRvdChnMTEwMCwgZzExMDApKSk7CiAgICBnMDAwMCAqPSBub3JtMDAueDsKICAgIGcwMTAwICo9IG5vcm0wMC55OwogICAgZzEwMDAgKj0gbm9ybTAwLno7CiAgICBnMTEwMCAqPSBub3JtMDAudzsKCiAgICB2ZWM0IG5vcm0wMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDEsIGcwMDAxKSwgZG90KGcwMTAxLCBnMDEwMSksIGRvdChnMTAwMSwgZzEwMDEpLCBkb3QoZzExMDEsIGcxMTAxKSkpOwogICAgZzAwMDEgKj0gbm9ybTAxLng7CiAgICBnMDEwMSAqPSBub3JtMDEueTsKICAgIGcxMDAxICo9IG5vcm0wMS56OwogICAgZzExMDEgKj0gbm9ybTAxLnc7CgogICAgdmVjNCBub3JtMTAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDEwLCBnMDAxMCksIGRvdChnMDExMCwgZzAxMTApLCBkb3QoZzEwMTAsIGcxMDEwKSwgZG90KGcxMTEwLCBnMTExMCkpKTsKICAgIGcwMDEwICo9IG5vcm0xMC54OwogICAgZzAxMTAgKj0gbm9ybTEwLnk7CiAgICBnMTAxMCAqPSBub3JtMTAuejsKICAgIGcxMTEwICo9IG5vcm0xMC53OwoKICAgIHZlYzQgbm9ybTExID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxMSwgZzAwMTEpLCBkb3QoZzAxMTEsIGcwMTExKSwgZG90KGcxMDExLCBnMTAxMSksIGRvdChnMTExMSwgZzExMTEpKSk7CiAgICBnMDAxMSAqPSBub3JtMTEueDsKICAgIGcwMTExICo9IG5vcm0xMS55OwogICAgZzEwMTEgKj0gbm9ybTExLno7CiAgICBnMTExMSAqPSBub3JtMTEudzsKCiAgICBmbG9hdCBuMDAwMCA9IGRvdChnMDAwMCwgUGYwKTsKICAgIGZsb2F0IG4xMDAwID0gZG90KGcxMDAwLCB2ZWM0KFBmMS54LCBQZjAueXp3KSk7CiAgICBmbG9hdCBuMDEwMCA9IGRvdChnMDEwMCwgdmVjNChQZjAueCwgUGYxLnksIFBmMC56dykpOwogICAgZmxvYXQgbjExMDAgPSBkb3QoZzExMDAsIHZlYzQoUGYxLnh5LCBQZjAuencpKTsKICAgIGZsb2F0IG4wMDEwID0gZG90KGcwMDEwLCB2ZWM0KFBmMC54eSwgUGYxLnosIFBmMC53KSk7CiAgICBmbG9hdCBuMTAxMCA9IGRvdChnMTAxMCwgdmVjNChQZjEueCwgUGYwLnksIFBmMS56LCBQZjAudykpOwogICAgZmxvYXQgbjAxMTAgPSBkb3QoZzAxMTAsIHZlYzQoUGYwLngsIFBmMS55eiwgUGYwLncpKTsKICAgIGZsb2F0IG4xMTEwID0gZG90KGcxMTEwLCB2ZWM0KFBmMS54eXosIFBmMC53KSk7CiAgICBmbG9hdCBuMDAwMSA9IGRvdChnMDAwMSwgdmVjNChQZjAueHl6LCBQZjEudykpOwogICAgZmxvYXQgbjEwMDEgPSBkb3QoZzEwMDEsIHZlYzQoUGYxLngsIFBmMC55eiwgUGYxLncpKTsKICAgIGZsb2F0IG4wMTAxID0gZG90KGcwMTAxLCB2ZWM0KFBmMC54LCBQZjEueSwgUGYwLnosIFBmMS53KSk7CiAgICBmbG9hdCBuMTEwMSA9IGRvdChnMTEwMSwgdmVjNChQZjEueHksIFBmMC56LCBQZjEudykpOwogICAgZmxvYXQgbjAwMTEgPSBkb3QoZzAwMTEsIHZlYzQoUGYwLnh5LCBQZjEuencpKTsKICAgIGZsb2F0IG4xMDExID0gZG90KGcxMDExLCB2ZWM0KFBmMS54LCBQZjAueSwgUGYxLnp3KSk7CiAgICBmbG9hdCBuMDExMSA9IGRvdChnMDExMSwgdmVjNChQZjAueCwgUGYxLnl6dykpOwogICAgZmxvYXQgbjExMTEgPSBkb3QoZzExMTEsIFBmMSk7CgogICAgdmVjNCBmYWRlX3h5encgPSBxdWludGljKFBmMCk7CiAgICB2ZWM0IG5fMHcgPSBtaXgodmVjNChuMDAwMCwgbjEwMDAsIG4wMTAwLCBuMTEwMCksIHZlYzQobjAwMDEsIG4xMDAxLCBuMDEwMSwgbjExMDEpLCBmYWRlX3h5encudyk7CiAgICB2ZWM0IG5fMXcgPSBtaXgodmVjNChuMDAxMCwgbjEwMTAsIG4wMTEwLCBuMTExMCksIHZlYzQobjAwMTEsIG4xMDExLCBuMDExMSwgbjExMTEpLCBmYWRlX3h5encudyk7CiAgICB2ZWM0IG5fencgPSBtaXgobl8wdywgbl8xdywgZmFkZV94eXp3LnopOwogICAgdmVjMiBuX3l6dyA9IG1peChuX3p3Lnh5LCBuX3p3Lnp3LCBmYWRlX3h5encueSk7CiAgICBmbG9hdCBuX3h5encgPSBtaXgobl95encueCwgbl95encueSwgZmFkZV94eXp3LngpOwogICAgcmV0dXJuIDIuMiAqIG5feHl6dzsKfQojZW5kaWYKCgoKCgoKI2lmbmRlZiBTUkdCX0VQU0lMT04gCiNkZWZpbmUgU1JHQl9FUFNJTE9OIDAuMDAwMDAwMDEKI2VuZGlmCgojaWZuZGVmIEZOQ19TUkdCMlJHQgojZGVmaW5lIEZOQ19TUkdCMlJHQgoKCgoKZmxvYXQgc3JnYjJyZ2IoZmxvYXQgY2hhbm5lbCkgewogICAgcmV0dXJuIChjaGFubmVsIDwgMC4wNDA0NSkgPyBjaGFubmVsICogMC4wNzczOTkzODA4IDogcG93KChjaGFubmVsICsgMC4wNTUpICogMC45NDc4NjcyOTg1NzgxOTksIDIuNCk7Cn0KCnZlYzMgc3JnYjJyZ2IodmVjMyBzcmdiKSB7CiAgICByZXR1cm4gdmVjMyhzcmdiMnJnYihzcmdiLnIgKyBTUkdCX0VQU0lMT04pLCAKICAgICAgICAgICAgICAgIHNyZ2IycmdiKHNyZ2IuZyArIFNSR0JfRVBTSUxPTiksICAgICAgICAgICAgICAgICBzcmdiMnJnYihzcmdiLmIgKyBTUkdCX0VQU0lMT04pKTsKfQoKdmVjNCBzcmdiMnJnYih2ZWM0IHNyZ2IpIHsKICAgIHJldHVybiB2ZWM0KHNyZ2IycmdiKHNyZ2IucmdiKSwgc3JnYi5hKTsKfQoKI2VuZGlmCgoKI2lmICFkZWZpbmVkKEZOQ19TQVRVUkFURSkgJiYgIWRlZmluZWQoc2F0dXJhdGUpCiNkZWZpbmUgRk5DX1NBVFVSQVRFCiNkZWZpbmUgc2F0dXJhdGUoeCkgY2xhbXAoeCwgMC4wLCAxLjApCiNlbmRpZgoKCgojaWZuZGVmIFNSR0JfRVBTSUxPTiAKI2RlZmluZSBTUkdCX0VQU0lMT04gMC4wMDAwMDAwMQojZW5kaWYKCiNpZm5kZWYgRk5DX1JHQjJTUkdCCiNkZWZpbmUgRk5DX1JHQjJTUkdCCgoKZmxvYXQgcmdiMnNyZ2IoZmxvYXQgY2hhbm5lbCkgewogICAgcmV0dXJuIChjaGFubmVsIDwgMC4wMDMxMzA4KSA/IGNoYW5uZWwgKiAxMi45MiA6IDEuMDU1ICogcG93KGNoYW5uZWwsIDAuNDE2NjY2NjY2NjY2NjY2NykgLSAwLjA1NTsKfQoKdmVjMyByZ2Iyc3JnYih2ZWMzIHJnYikgewogICAgcmV0dXJuIHNhdHVyYXRlKHZlYzMocmdiMnNyZ2IocmdiLnIgLSBTUkdCX0VQU0lMT04pLCByZ2Iyc3JnYihyZ2IuZyAtIFNSR0JfRVBTSUxPTiksIHJnYjJzcmdiKHJnYi5iIC0gU1JHQl9FUFNJTE9OKSkpOwp9Cgp2ZWM0IHJnYjJzcmdiKHZlYzQgcmdiKSB7CiAgICByZXR1cm4gdmVjNChyZ2Iyc3JnYihyZ2IucmdiKSwgcmdiLmEpOwp9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfTUlYT0tMQUIKI2RlZmluZSBGTkNfTUlYT0tMQUIKdmVjMyBtaXhPa2xhYiggdmVjMyBjb2xBLCB2ZWMzIGNvbEIsIGZsb2F0IGggKSB7CgogICAgI2lmZGVmIE1JWE9LTEFCX0NPTE9SU1BBQ0VfU1JHQgogICAgY29sQSA9IHNyZ2IycmdiKGNvbEEpOwogICAgY29sQiA9IHNyZ2IycmdiKGNvbEIpOwogICAgI2VuZGlmCgogICAgCiAgICBjb25zdCBtYXQzIGtDT05FdG9MTVMgPSBtYXQzKCAgICAgICAgICAgICAgICAKICAgICAgICAgMC40MTIxNjU2MTIwLCAgMC4yMTE4NTkxMDcwLCAgMC4wODgzMDk3OTQ3LAogICAgICAgICAwLjUzNjI3NTIwODAsICAwLjY4MDcxODk1ODQsICAwLjI4MTg0NzQxNzQsCiAgICAgICAgIDAuMDUxNDU3NTY1MywgIDAuMTA3NDA2NTc5MCwgIDAuNjMwMjYxMzYxNik7CiAgICBjb25zdCBtYXQzIGtMTVN0b0NPTkUgPSBtYXQzKAogICAgICAgICA0LjA3NjcyNDUyOTMsIC0xLjI2ODE0Mzc3MzEsIC0wLjAwNDExMTk4ODUsCiAgICAgICAgLTMuMzA3MjE2ODgyNywgIDIuNjA5MzMyMzIzMSwgLTAuNzAzNDc2MzA5OCwKICAgICAgICAgMC4yMzA3NTkwNTQ0LCAtMC4zNDExMzQ0MjkwLCAgMS43MDY4NjI1Njg5KTsKICAgICAgICAgICAgICAgICAgICAKICAgIAogICAgdmVjMyBsbXNBID0gcG93KCBrQ09ORXRvTE1TICogY29sQSwgdmVjMygxLjAvMy4wKSApOwogICAgdmVjMyBsbXNCID0gcG93KCBrQ09ORXRvTE1TICogY29sQiwgdmVjMygxLjAvMy4wKSApOwogICAgCiAgICB2ZWMzIGxtcyA9IG1peCggbG1zQSwgbG1zQiwgaCApOwogICAgCiAgICAKICAgIHZlYzMgcmdiID0ga0xNU3RvQ09ORSoobG1zKmxtcypsbXMpOwoKICAgICNpZmRlZiBNSVhPS0xBQl9DT0xPUlNQQUNFX1NSR0IKICAgIHJldHVybiByZ2Iyc3JnYihyZ2IpOwogICAgI2Vsc2UKICAgIHJldHVybiByZ2I7CiAgICAjZW5kaWYKfQoKdmVjNCBtaXhPa2xhYiggdmVjNCBjb2xBLCB2ZWM0IGNvbEIsIGZsb2F0IGggKSB7CiAgICByZXR1cm4gdmVjNCggbWl4T2tsYWIoY29sQS5yZ2IsIGNvbEIucmdiLCBoKSwgbWl4KGNvbEEuYSwgY29sQi5hLCBoKSApOwp9CiNlbmRpZgoKCgp2b2lkIG1haW4oKSB7CgogIHZlYzIgcGl4ZWwgPSAxLjAvdV9yZXNvbHV0aW9uLnh5OwoKICB2ZWMyIHN0ID0gZ2xfRnJhZ0Nvb3JkLnh5ICogcGl4ZWw7CgogICAgCgogIGZsb2F0IGRpc3RvcnQgPSB2RGlzcGxhY2VtZW50ICogdV9pbnRlbnNpdHk7CgogIHZlYzIgdmFsID0gYWJzKHZVdiAtIDAuNSkgKiAzLjAgICogKDEuMCAtIGRpc3RvcnQpOwoKICAKCiAgdmVjNCBjb2xvciA9IHZlYzQodmVjMyh2YWwsdV9jb2xvcnNbMF0uYiksMS4wKTsKCiAgY29sb3IgPSBtaXhPa2xhYih1X2NvbG9yc1swXSwgdV9jb2xvcnNbMV0sIHZEaXNwbGFjZW1lbnQpOwoKICAKCiAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7Cgp9CgpgLAogICAgICAgICAgICAgICAgdmVydGV4U2hhZGVyOiBgLy9HZW9tZXRyeTogcGxhbmUKCi8vT3JiaXRDb250cm9sczogZmFsc2UKCi8vR2VvbWV0cnktYXJnczogWzMsMSwyMDQ4XQoKLy9NZXNoLXNjYWxlOiAxLjUKCi8vTWVzaC1yb3RhdGlvbjogWy0wLjc1LDAuMjUsLTAuMjVdCgovL2NhbWVyYS1wb3NpdGlvbjogWzAuMCwgMC4wLCAyLjBdCgovL3NoYWRlci13aXJlZnJhbWU6IGZhbHNlIAoKCgp1bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5OwoKdW5pZm9ybSBmbG9hdCB1X3RpbWU7Cgp1bmlmb3JtIGZsb2F0IHVfc3BlZWQ7Cgp1bmlmb3JtIGJvb2wgdV9yb3RhdGU7Cgp1bmlmb3JtIGZsb2F0IHVfc2NhbGU7CgoKCnZhcnlpbmcgdmVjMiB2VXY7Cgp2YXJ5aW5nIGZsb2F0IHZEaXNwbGFjZW1lbnQ7Cgp2YXJ5aW5nIHZlYzMgcG9zOwoKCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19RVUlOVElDCiNkZWZpbmUgRk5DX1FVSU5USUMgCgpmbG9hdCBxdWludGljKGNvbnN0IGluIGZsb2F0IHYpIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMyICBxdWludGljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMzICBxdWludGljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWM0ICBxdWludGljKGNvbnN0IGluIHZlYzQgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX0NOT0lTRQojZGVmaW5lIEZOQ19DTk9JU0UKCmZsb2F0IGNub2lzZShpbiB2ZWMyIFApIHsKICAgIHZlYzQgUGkgPSBmbG9vcihQLnh5eHkpICsgdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApOwogICAgdmVjNCBQZiA9IGZyYWN0KFAueHl4eSkgLSB2ZWM0KDAuMCwgMC4wLCAxLjAsIDEuMCk7CiAgICBQaSA9IG1vZDI4OShQaSk7IAogICAgdmVjNCBpeCA9IFBpLnh6eHo7CiAgICB2ZWM0IGl5ID0gUGkueXl3dzsKICAgIHZlYzQgZnggPSBQZi54enh6OwogICAgdmVjNCBmeSA9IFBmLnl5d3c7CgogICAgdmVjNCBpID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTsKCiAgICB2ZWM0IGd4ID0gZnJhY3QoaSAqICgxLjAgLyA0MS4wKSkgKiAyLjAgLSAxLjAgOwogICAgdmVjNCBneSA9IGFicyhneCkgLSAwLjUgOwogICAgdmVjNCB0eCA9IGZsb29yKGd4ICsgMC41KTsKICAgIGd4ID0gZ3ggLSB0eDsKCiAgICB2ZWMyIGcwMCA9IHZlYzIoZ3gueCxneS54KTsKICAgIHZlYzIgZzEwID0gdmVjMihneC55LGd5LnkpOwogICAgdmVjMiBnMDEgPSB2ZWMyKGd4LnosZ3kueik7CiAgICB2ZWMyIGcxMSA9IHZlYzIoZ3gudyxneS53KTsKCiAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMCwgZzAwKSwgZG90KGcwMSwgZzAxKSwgZG90KGcxMCwgZzEwKSwgZG90KGcxMSwgZzExKSkpOwogICAgZzAwICo9IG5vcm0ueDsKICAgIGcwMSAqPSBub3JtLnk7CiAgICBnMTAgKj0gbm9ybS56OwogICAgZzExICo9IG5vcm0udzsKCiAgICBmbG9hdCBuMDAgPSBkb3QoZzAwLCB2ZWMyKGZ4LngsIGZ5LngpKTsKICAgIGZsb2F0IG4xMCA9IGRvdChnMTAsIHZlYzIoZngueSwgZnkueSkpOwogICAgZmxvYXQgbjAxID0gZG90KGcwMSwgdmVjMihmeC56LCBmeS56KSk7CiAgICBmbG9hdCBuMTEgPSBkb3QoZzExLCB2ZWMyKGZ4LncsIGZ5LncpKTsKCiAgICB2ZWMyIGZhZGVfeHkgPSBxdWludGljKFBmLnh5KTsKICAgIHZlYzIgbl94ID0gbWl4KHZlYzIobjAwLCBuMDEpLCB2ZWMyKG4xMCwgbjExKSwgZmFkZV94eS54KTsKICAgIGZsb2F0IG5feHkgPSBtaXgobl94LngsIG5feC55LCBmYWRlX3h5LnkpOwogICAgcmV0dXJuIDIuMyAqIG5feHk7Cn0KCmZsb2F0IGNub2lzZShpbiB2ZWMzIFApIHsKICAgIHZlYzMgUGkwID0gZmxvb3IoUCk7IAogICAgdmVjMyBQaTEgPSBQaTAgKyB2ZWMzKDEuMCk7IAogICAgUGkwID0gbW9kMjg5KFBpMCk7CiAgICBQaTEgPSBtb2QyODkoUGkxKTsKICAgIHZlYzMgUGYwID0gZnJhY3QoUCk7IAogICAgdmVjMyBQZjEgPSBQZjAgLSB2ZWMzKDEuMCk7IAogICAgdmVjNCBpeCA9IHZlYzQoUGkwLngsIFBpMS54LCBQaTAueCwgUGkxLngpOwogICAgdmVjNCBpeSA9IHZlYzQoUGkwLnl5LCBQaTEueXkpOwogICAgdmVjNCBpejAgPSBQaTAuenp6ejsKICAgIHZlYzQgaXoxID0gUGkxLnp6eno7CgogICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpOwogICAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApOwogICAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpOwoKICAgIHZlYzQgZ3gwID0gaXh5MCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAgPSBmcmFjdChmbG9vcihneDApICogKDEuMCAvIDcuMCkpIC0gMC41OwogICAgZ3gwID0gZnJhY3QoZ3gwKTsKICAgIHZlYzQgZ3owID0gdmVjNCgwLjUpIC0gYWJzKGd4MCkgLSBhYnMoZ3kwKTsKICAgIHZlYzQgc3owID0gc3RlcChnejAsIHZlYzQoMC4wKSk7CiAgICBneDAgLT0gc3owICogKHN0ZXAoMC4wLCBneDApIC0gMC41KTsKICAgIGd5MCAtPSBzejAgKiAoc3RlcCgwLjAsIGd5MCkgLSAwLjUpOwoKICAgIHZlYzQgZ3gxID0gaXh5MSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTEgPSBmcmFjdChmbG9vcihneDEpICogKDEuMCAvIDcuMCkpIC0gMC41OwogICAgZ3gxID0gZnJhY3QoZ3gxKTsKICAgIHZlYzQgZ3oxID0gdmVjNCgwLjUpIC0gYWJzKGd4MSkgLSBhYnMoZ3kxKTsKICAgIHZlYzQgc3oxID0gc3RlcChnejEsIHZlYzQoMC4wKSk7CiAgICBneDEgLT0gc3oxICogKHN0ZXAoMC4wLCBneDEpIC0gMC41KTsKICAgIGd5MSAtPSBzejEgKiAoc3RlcCgwLjAsIGd5MSkgLSAwLjUpOwoKICAgIHZlYzMgZzAwMCA9IHZlYzMoZ3gwLngsZ3kwLngsZ3owLngpOwogICAgdmVjMyBnMTAwID0gdmVjMyhneDAueSxneTAueSxnejAueSk7CiAgICB2ZWMzIGcwMTAgPSB2ZWMzKGd4MC56LGd5MC56LGd6MC56KTsKICAgIHZlYzMgZzExMCA9IHZlYzMoZ3gwLncsZ3kwLncsZ3owLncpOwogICAgdmVjMyBnMDAxID0gdmVjMyhneDEueCxneTEueCxnejEueCk7CiAgICB2ZWMzIGcxMDEgPSB2ZWMzKGd4MS55LGd5MS55LGd6MS55KTsKICAgIHZlYzMgZzAxMSA9IHZlYzMoZ3gxLnosZ3kxLnosZ3oxLnopOwogICAgdmVjMyBnMTExID0gdmVjMyhneDEudyxneTEudyxnejEudyk7CgogICAgdmVjNCBub3JtMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMCwgZzAwMCksIGRvdChnMDEwLCBnMDEwKSwgZG90KGcxMDAsIGcxMDApLCBkb3QoZzExMCwgZzExMCkpKTsKICAgIGcwMDAgKj0gbm9ybTAueDsKICAgIGcwMTAgKj0gbm9ybTAueTsKICAgIGcxMDAgKj0gbm9ybTAuejsKICAgIGcxMTAgKj0gbm9ybTAudzsKICAgIHZlYzQgbm9ybTEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDEsIGcwMDEpLCBkb3QoZzAxMSwgZzAxMSksIGRvdChnMTAxLCBnMTAxKSwgZG90KGcxMTEsIGcxMTEpKSk7CiAgICBnMDAxICo9IG5vcm0xLng7CiAgICBnMDExICo9IG5vcm0xLnk7CiAgICBnMTAxICo9IG5vcm0xLno7CiAgICBnMTExICo9IG5vcm0xLnc7CgogICAgZmxvYXQgbjAwMCA9IGRvdChnMDAwLCBQZjApOwogICAgZmxvYXQgbjEwMCA9IGRvdChnMTAwLCB2ZWMzKFBmMS54LCBQZjAueXopKTsKICAgIGZsb2F0IG4wMTAgPSBkb3QoZzAxMCwgdmVjMyhQZjAueCwgUGYxLnksIFBmMC56KSk7CiAgICBmbG9hdCBuMTEwID0gZG90KGcxMTAsIHZlYzMoUGYxLnh5LCBQZjAueikpOwogICAgZmxvYXQgbjAwMSA9IGRvdChnMDAxLCB2ZWMzKFBmMC54eSwgUGYxLnopKTsKICAgIGZsb2F0IG4xMDEgPSBkb3QoZzEwMSwgdmVjMyhQZjEueCwgUGYwLnksIFBmMS56KSk7CiAgICBmbG9hdCBuMDExID0gZG90KGcwMTEsIHZlYzMoUGYwLngsIFBmMS55eikpOwogICAgZmxvYXQgbjExMSA9IGRvdChnMTExLCBQZjEpOwoKICAgIHZlYzMgZmFkZV94eXogPSBxdWludGljKFBmMCk7CiAgICB2ZWM0IG5feiA9IG1peCh2ZWM0KG4wMDAsIG4xMDAsIG4wMTAsIG4xMTApLCB2ZWM0KG4wMDEsIG4xMDEsIG4wMTEsIG4xMTEpLCBmYWRlX3h5ei56KTsKICAgIHZlYzIgbl95eiA9IG1peChuX3oueHksIG5fei56dywgZmFkZV94eXoueSk7CiAgICBmbG9hdCBuX3h5eiA9IG1peChuX3l6LngsIG5feXoueSwgZmFkZV94eXoueCk7CiAgICByZXR1cm4gMi4yICogbl94eXo7Cn0KCmZsb2F0IGNub2lzZShpbiB2ZWM0IFApIHsKICAgIHZlYzQgUGkwID0gZmxvb3IoUCk7IAogICAgdmVjNCBQaTEgPSBQaTAgKyAxLjA7IAogICAgUGkwID0gbW9kMjg5KFBpMCk7CiAgICBQaTEgPSBtb2QyODkoUGkxKTsKICAgIHZlYzQgUGYwID0gZnJhY3QoUCk7IAogICAgdmVjNCBQZjEgPSBQZjAgLSAxLjA7IAogICAgdmVjNCBpeCA9IHZlYzQoUGkwLngsIFBpMS54LCBQaTAueCwgUGkxLngpOwogICAgdmVjNCBpeSA9IHZlYzQoUGkwLnl5LCBQaTEueXkpOwogICAgdmVjNCBpejAgPSB2ZWM0KFBpMC56enp6KTsKICAgIHZlYzQgaXoxID0gdmVjNChQaTEuenp6eik7CiAgICB2ZWM0IGl3MCA9IHZlYzQoUGkwLnd3d3cpOwogICAgdmVjNCBpdzEgPSB2ZWM0KFBpMS53d3d3KTsKCiAgICB2ZWM0IGl4eSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7CiAgICB2ZWM0IGl4eTAgPSBwZXJtdXRlKGl4eSArIGl6MCk7CiAgICB2ZWM0IGl4eTEgPSBwZXJtdXRlKGl4eSArIGl6MSk7CiAgICB2ZWM0IGl4eTAwID0gcGVybXV0ZShpeHkwICsgaXcwKTsKICAgIHZlYzQgaXh5MDEgPSBwZXJtdXRlKGl4eTAgKyBpdzEpOwogICAgdmVjNCBpeHkxMCA9IHBlcm11dGUoaXh5MSArIGl3MCk7CiAgICB2ZWM0IGl4eTExID0gcGVybXV0ZShpeHkxICsgaXcxKTsKCiAgICB2ZWM0IGd4MDAgPSBpeHkwMCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAwID0gZmxvb3IoZ3gwMCkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3owMCA9IGZsb29yKGd5MDApICogKDEuMCAvIDYuMCk7CiAgICBneDAwID0gZnJhY3QoZ3gwMCkgLSAwLjU7CiAgICBneTAwID0gZnJhY3QoZ3kwMCkgLSAwLjU7CiAgICBnejAwID0gZnJhY3QoZ3owMCkgLSAwLjU7CiAgICB2ZWM0IGd3MDAgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MDApIC0gYWJzKGd5MDApIC0gYWJzKGd6MDApOwogICAgdmVjNCBzdzAwID0gc3RlcChndzAwLCB2ZWM0KDAuMCkpOwogICAgZ3gwMCAtPSBzdzAwICogKHN0ZXAoMC4wLCBneDAwKSAtIDAuNSk7CiAgICBneTAwIC09IHN3MDAgKiAoc3RlcCgwLjAsIGd5MDApIC0gMC41KTsKCiAgICB2ZWM0IGd4MDEgPSBpeHkwMSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAxID0gZmxvb3IoZ3gwMSkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3owMSA9IGZsb29yKGd5MDEpICogKDEuMCAvIDYuMCk7CiAgICBneDAxID0gZnJhY3QoZ3gwMSkgLSAwLjU7CiAgICBneTAxID0gZnJhY3QoZ3kwMSkgLSAwLjU7CiAgICBnejAxID0gZnJhY3QoZ3owMSkgLSAwLjU7CiAgICB2ZWM0IGd3MDEgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MDEpIC0gYWJzKGd5MDEpIC0gYWJzKGd6MDEpOwogICAgdmVjNCBzdzAxID0gc3RlcChndzAxLCB2ZWM0KDAuMCkpOwogICAgZ3gwMSAtPSBzdzAxICogKHN0ZXAoMC4wLCBneDAxKSAtIDAuNSk7CiAgICBneTAxIC09IHN3MDEgKiAoc3RlcCgwLjAsIGd5MDEpIC0gMC41KTsKCiAgICB2ZWM0IGd4MTAgPSBpeHkxMCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTEwID0gZmxvb3IoZ3gxMCkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3oxMCA9IGZsb29yKGd5MTApICogKDEuMCAvIDYuMCk7CiAgICBneDEwID0gZnJhY3QoZ3gxMCkgLSAwLjU7CiAgICBneTEwID0gZnJhY3QoZ3kxMCkgLSAwLjU7CiAgICBnejEwID0gZnJhY3QoZ3oxMCkgLSAwLjU7CiAgICB2ZWM0IGd3MTAgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MTApIC0gYWJzKGd5MTApIC0gYWJzKGd6MTApOwogICAgdmVjNCBzdzEwID0gc3RlcChndzEwLCB2ZWM0KDAuMCkpOwogICAgZ3gxMCAtPSBzdzEwICogKHN0ZXAoMC4wLCBneDEwKSAtIDAuNSk7CiAgICBneTEwIC09IHN3MTAgKiAoc3RlcCgwLjAsIGd5MTApIC0gMC41KTsKCiAgICB2ZWM0IGd4MTEgPSBpeHkxMSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTExID0gZmxvb3IoZ3gxMSkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3oxMSA9IGZsb29yKGd5MTEpICogKDEuMCAvIDYuMCk7CiAgICBneDExID0gZnJhY3QoZ3gxMSkgLSAwLjU7CiAgICBneTExID0gZnJhY3QoZ3kxMSkgLSAwLjU7CiAgICBnejExID0gZnJhY3QoZ3oxMSkgLSAwLjU7CiAgICB2ZWM0IGd3MTEgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MTEpIC0gYWJzKGd5MTEpIC0gYWJzKGd6MTEpOwogICAgdmVjNCBzdzExID0gc3RlcChndzExLCB2ZWM0KDAuMCkpOwogICAgZ3gxMSAtPSBzdzExICogKHN0ZXAoMC4wLCBneDExKSAtIDAuNSk7CiAgICBneTExIC09IHN3MTEgKiAoc3RlcCgwLjAsIGd5MTEpIC0gMC41KTsKCiAgICB2ZWM0IGcwMDAwID0gdmVjNChneDAwLngsZ3kwMC54LGd6MDAueCxndzAwLngpOwogICAgdmVjNCBnMTAwMCA9IHZlYzQoZ3gwMC55LGd5MDAueSxnejAwLnksZ3cwMC55KTsKICAgIHZlYzQgZzAxMDAgPSB2ZWM0KGd4MDAueixneTAwLnosZ3owMC56LGd3MDAueik7CiAgICB2ZWM0IGcxMTAwID0gdmVjNChneDAwLncsZ3kwMC53LGd6MDAudyxndzAwLncpOwogICAgdmVjNCBnMDAxMCA9IHZlYzQoZ3gxMC54LGd5MTAueCxnejEwLngsZ3cxMC54KTsKICAgIHZlYzQgZzEwMTAgPSB2ZWM0KGd4MTAueSxneTEwLnksZ3oxMC55LGd3MTAueSk7CiAgICB2ZWM0IGcwMTEwID0gdmVjNChneDEwLnosZ3kxMC56LGd6MTAueixndzEwLnopOwogICAgdmVjNCBnMTExMCA9IHZlYzQoZ3gxMC53LGd5MTAudyxnejEwLncsZ3cxMC53KTsKICAgIHZlYzQgZzAwMDEgPSB2ZWM0KGd4MDEueCxneTAxLngsZ3owMS54LGd3MDEueCk7CiAgICB2ZWM0IGcxMDAxID0gdmVjNChneDAxLnksZ3kwMS55LGd6MDEueSxndzAxLnkpOwogICAgdmVjNCBnMDEwMSA9IHZlYzQoZ3gwMS56LGd5MDEueixnejAxLnosZ3cwMS56KTsKICAgIHZlYzQgZzExMDEgPSB2ZWM0KGd4MDEudyxneTAxLncsZ3owMS53LGd3MDEudyk7CiAgICB2ZWM0IGcwMDExID0gdmVjNChneDExLngsZ3kxMS54LGd6MTEueCxndzExLngpOwogICAgdmVjNCBnMTAxMSA9IHZlYzQoZ3gxMS55LGd5MTEueSxnejExLnksZ3cxMS55KTsKICAgIHZlYzQgZzAxMTEgPSB2ZWM0KGd4MTEueixneTExLnosZ3oxMS56LGd3MTEueik7CiAgICB2ZWM0IGcxMTExID0gdmVjNChneDExLncsZ3kxMS53LGd6MTEudyxndzExLncpOwoKICAgIHZlYzQgbm9ybTAwID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAwMCwgZzAwMDApLCBkb3QoZzAxMDAsIGcwMTAwKSwgZG90KGcxMDAwLCBnMTAwMCksIGRvdChnMTEwMCwgZzExMDApKSk7CiAgICBnMDAwMCAqPSBub3JtMDAueDsKICAgIGcwMTAwICo9IG5vcm0wMC55OwogICAgZzEwMDAgKj0gbm9ybTAwLno7CiAgICBnMTEwMCAqPSBub3JtMDAudzsKCiAgICB2ZWM0IG5vcm0wMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDEsIGcwMDAxKSwgZG90KGcwMTAxLCBnMDEwMSksIGRvdChnMTAwMSwgZzEwMDEpLCBkb3QoZzExMDEsIGcxMTAxKSkpOwogICAgZzAwMDEgKj0gbm9ybTAxLng7CiAgICBnMDEwMSAqPSBub3JtMDEueTsKICAgIGcxMDAxICo9IG5vcm0wMS56OwogICAgZzExMDEgKj0gbm9ybTAxLnc7CgogICAgdmVjNCBub3JtMTAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDEwLCBnMDAxMCksIGRvdChnMDExMCwgZzAxMTApLCBkb3QoZzEwMTAsIGcxMDEwKSwgZG90KGcxMTEwLCBnMTExMCkpKTsKICAgIGcwMDEwICo9IG5vcm0xMC54OwogICAgZzAxMTAgKj0gbm9ybTEwLnk7CiAgICBnMTAxMCAqPSBub3JtMTAuejsKICAgIGcxMTEwICo9IG5vcm0xMC53OwoKICAgIHZlYzQgbm9ybTExID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxMSwgZzAwMTEpLCBkb3QoZzAxMTEsIGcwMTExKSwgZG90KGcxMDExLCBnMTAxMSksIGRvdChnMTExMSwgZzExMTEpKSk7CiAgICBnMDAxMSAqPSBub3JtMTEueDsKICAgIGcwMTExICo9IG5vcm0xMS55OwogICAgZzEwMTEgKj0gbm9ybTExLno7CiAgICBnMTExMSAqPSBub3JtMTEudzsKCiAgICBmbG9hdCBuMDAwMCA9IGRvdChnMDAwMCwgUGYwKTsKICAgIGZsb2F0IG4xMDAwID0gZG90KGcxMDAwLCB2ZWM0KFBmMS54LCBQZjAueXp3KSk7CiAgICBmbG9hdCBuMDEwMCA9IGRvdChnMDEwMCwgdmVjNChQZjAueCwgUGYxLnksIFBmMC56dykpOwogICAgZmxvYXQgbjExMDAgPSBkb3QoZzExMDAsIHZlYzQoUGYxLnh5LCBQZjAuencpKTsKICAgIGZsb2F0IG4wMDEwID0gZG90KGcwMDEwLCB2ZWM0KFBmMC54eSwgUGYxLnosIFBmMC53KSk7CiAgICBmbG9hdCBuMTAxMCA9IGRvdChnMTAxMCwgdmVjNChQZjEueCwgUGYwLnksIFBmMS56LCBQZjAudykpOwogICAgZmxvYXQgbjAxMTAgPSBkb3QoZzAxMTAsIHZlYzQoUGYwLngsIFBmMS55eiwgUGYwLncpKTsKICAgIGZsb2F0IG4xMTEwID0gZG90KGcxMTEwLCB2ZWM0KFBmMS54eXosIFBmMC53KSk7CiAgICBmbG9hdCBuMDAwMSA9IGRvdChnMDAwMSwgdmVjNChQZjAueHl6LCBQZjEudykpOwogICAgZmxvYXQgbjEwMDEgPSBkb3QoZzEwMDEsIHZlYzQoUGYxLngsIFBmMC55eiwgUGYxLncpKTsKICAgIGZsb2F0IG4wMTAxID0gZG90KGcwMTAxLCB2ZWM0KFBmMC54LCBQZjEueSwgUGYwLnosIFBmMS53KSk7CiAgICBmbG9hdCBuMTEwMSA9IGRvdChnMTEwMSwgdmVjNChQZjEueHksIFBmMC56LCBQZjEudykpOwogICAgZmxvYXQgbjAwMTEgPSBkb3QoZzAwMTEsIHZlYzQoUGYwLnh5LCBQZjEuencpKTsKICAgIGZsb2F0IG4xMDExID0gZG90KGcxMDExLCB2ZWM0KFBmMS54LCBQZjAueSwgUGYxLnp3KSk7CiAgICBmbG9hdCBuMDExMSA9IGRvdChnMDExMSwgdmVjNChQZjAueCwgUGYxLnl6dykpOwogICAgZmxvYXQgbjExMTEgPSBkb3QoZzExMTEsIFBmMSk7CgogICAgdmVjNCBmYWRlX3h5encgPSBxdWludGljKFBmMCk7CiAgICB2ZWM0IG5fMHcgPSBtaXgodmVjNChuMDAwMCwgbjEwMDAsIG4wMTAwLCBuMTEwMCksIHZlYzQobjAwMDEsIG4xMDAxLCBuMDEwMSwgbjExMDEpLCBmYWRlX3h5encudyk7CiAgICB2ZWM0IG5fMXcgPSBtaXgodmVjNChuMDAxMCwgbjEwMTAsIG4wMTEwLCBuMTExMCksIHZlYzQobjAwMTEsIG4xMDExLCBuMDExMSwgbjExMTEpLCBmYWRlX3h5encudyk7CiAgICB2ZWM0IG5fencgPSBtaXgobl8wdywgbl8xdywgZmFkZV94eXp3LnopOwogICAgdmVjMiBuX3l6dyA9IG1peChuX3p3Lnh5LCBuX3p3Lnp3LCBmYWRlX3h5encueSk7CiAgICBmbG9hdCBuX3h5encgPSBtaXgobl95encueCwgbl95encueSwgZmFkZV94eXp3LngpOwogICAgcmV0dXJuIDIuMiAqIG5feHl6dzsKfQojZW5kaWYKCgoKCgoKI2lmbmRlZiBSQU5ET01fU0NBTEUKI2lmIGRlZmluZWQoUkFORE9NX0hJR0hFUl9SQU5HRSkKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCguMTAzMSwgLjEwMzAsIC4wOTczLCAuMTA5OSkKI2Vsc2UKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCg0NDMuODk3LCA0NDEuNDIzLCAuMDk3MywgLjEwOTkpCiNlbmRpZgojZW5kaWYKCiNpZm5kZWYgRk5DX1JBTkRPTQojZGVmaW5lIEZOQ19SQU5ET00KZmxvYXQgcmFuZG9tKGluIGZsb2F0IHgpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICB4ID0gZnJhY3QoeCAqIFJBTkRPTV9TQ0FMRS54KTsKICAgIHggKj0geCArIDMzLjMzOwogICAgeCAqPSB4ICsgeDsKICAgIHJldHVybiBmcmFjdCh4KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oeCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMyIHN0KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgdmVjMyBwMyAgPSBmcmFjdCh2ZWMzKHN0Lnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwMy54ICsgcDMueSkgKiBwMy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHN0Lnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzMgcG9zKSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgcG9zICA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy56eXggKyAzMS4zMik7CiAgICByZXR1cm4gZnJhY3QoKHBvcy54ICsgcG9zLnkpICogcG9zLnopOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbihkb3QocG9zLnh5eiwgdmVjMyg3MC45ODk4LCA3OC4yMzMsIDMyLjQzNTUpKSkgKiA0Mzc1OC41NDUzMTIzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWM0IHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwb3MgKz0gZG90KHBvcywgcG9zLnd6eHkrMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIChwb3MueiArIHBvcy53KSk7CiNlbHNlCiAgICBmbG9hdCBkb3RfcHJvZHVjdCA9IGRvdChwb3MsIHZlYzQoMTIuOTg5OCw3OC4yMzMsNDUuMTY0LDk0LjY3MykpOwogICAgcmV0dXJuIGZyYWN0KHNpbihkb3RfcHJvZHVjdCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCnZlYzIgcmFuZG9tMihmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMyIHJhbmRvbTIodmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QocC54eXggKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzMgcDMpIHsKICAgIHAzID0gZnJhY3QocDMgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMyByYW5kb20zKGZsb2F0IHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHApICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7IAp9Cgp2ZWMzIHJhbmRvbTModmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwLnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eHkgKyBwMy55enopICogcDMuenl4KTsKfQoKdmVjMyByYW5kb20zKHZlYzMgcCkgewogICAgcCA9IGZyYWN0KHAgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAgKz0gZG90KHAsIHAueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwLnh4eSArIHAueXp6KSAqIHAuenl4KTsKfQoKdmVjNCByYW5kb200KGZsb2F0IHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7ICAgCn0KCnZlYzQgcmFuZG9tNCh2ZWMyIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5eHkgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzMgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAueHl6eCAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzQgcDQpIHsKICAgIHA0ID0gZnJhY3QocDQgICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfU1JBTkRPTQojZGVmaW5lIEZOQ19TUkFORE9NCgpmbG9hdCBzcmFuZG9tKGluIGZsb2F0IHgpIHsKICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oeCkgKiA0Mzc1OC41NDUzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWMyIHN0KSB7CiAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWMzIHBvcykgewogIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3QocG9zLnh5eiwgdmVjMyg3MC45ODk4LCA3OC4yMzMsIDMyLjQzNTUpKSkgKiA0Mzc1OC41NDUzMTIzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWM0IHBvcykgewogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3RfcHJvZHVjdCkgKiA0Mzc1OC41NDUzKTsKfQoKdmVjMiBzcmFuZG9tMihpbiB2ZWMyIHN0KSB7CiAgICBjb25zdCB2ZWMyIGsgPSB2ZWMyKC4zMTgzMDk5LCAuMzY3ODc5NCk7CiAgICBzdCA9IHN0ICogayArIGsueXg7CiAgICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdCgxNi4gKiBrICogZnJhY3Qoc3QueCAqIHN0LnkgKiAoc3QueCArIHN0LnkpKSk7Cn0KCnZlYzMgc3JhbmRvbTMoaW4gdmVjMyBwKSB7CiAgICBwID0gdmVjMyggZG90KHAsIHZlYzMoMTI3LjEsIDMxMS43LCA3NC43KSksCiAgICAgICAgICAgIGRvdChwLCB2ZWMzKDI2OS41LCAxODMuMywgMjQ2LjEpKSwKICAgICAgICAgICAgZG90KHAsIHZlYzMoMTEzLjUsIDI3MS45LCAxMjQuNikpKTsKICAgIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihwKSAqIDQzNzU4LjU0NTMxMjMpOwp9Cgp2ZWMyIHNyYW5kb20yKGluIHZlYzIgcCwgY29uc3QgaW4gZmxvYXQgdGlsZUxlbmd0aCkgewogICAgcCA9IG1vZChwLCB2ZWMyKHRpbGVMZW5ndGgpKTsKICAgIHJldHVybiBzcmFuZG9tMihwKTsKfQoKdmVjMyBzcmFuZG9tMyhpbiB2ZWMzIHAsIGNvbnN0IGluIGZsb2F0IHRpbGVMZW5ndGgpIHsKICAgIHAgPSBtb2QocCwgdmVjMyh0aWxlTGVuZ3RoKSk7CiAgICByZXR1cm4gc3JhbmRvbTMocCk7Cn0KCiNlbmRpZgoKCiNpZm5kZWYgRk5DX0NVQklDCiNkZWZpbmUgRk5DX0NVQklDIApmbG9hdCBjdWJpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KdmVjMiAgY3ViaWMoY29uc3QgaW4gdmVjMiB2KSAgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CnZlYzMgIGN1YmljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQp2ZWM0ICBjdWJpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KCmZsb2F0IGN1YmljKGNvbnN0IGluIGZsb2F0IHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIGZsb2F0IHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICBmbG9hdCB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQoKdmVjMiBjdWJpYyhjb25zdCBpbiB2ZWMyIHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIHZlYzIgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIHZlYzIgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KCnZlYzMgY3ViaWMoY29uc3QgaW4gdmVjMyB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICB2ZWMzIHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICB2ZWMzIHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9Cgp2ZWM0IGN1YmljKGNvbnN0IGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgdmVjNCB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgdmVjNCB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQojZW5kaWYKCgojaWZuZGVmIEZOQ19RVUlOVElDCiNkZWZpbmUgRk5DX1FVSU5USUMgCgpmbG9hdCBxdWludGljKGNvbnN0IGluIGZsb2F0IHYpIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMyICBxdWludGljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMzICBxdWludGljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWM0ICBxdWludGljKGNvbnN0IGluIHZlYzQgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX0dOT0lTRQojZGVmaW5lIEZOQ19HTk9JU0UKCmZsb2F0IGdub2lzZShmbG9hdCB4KSB7CiAgICBmbG9hdCBpID0gZmxvb3IoeCk7ICAKICAgIGZsb2F0IGYgPSBmcmFjdCh4KTsgIAogICAgcmV0dXJuIG1peChyYW5kb20oaSksIHJhbmRvbShpICsgMS4wKSwgc21vb3Roc3RlcCgwLiwxLixmKSk7IAp9CgpmbG9hdCBnbm9pc2UodmVjMiBzdCkgewogICAgdmVjMiBpID0gZmxvb3Ioc3QpOwogICAgdmVjMiBmID0gZnJhY3Qoc3QpOwogICAgZmxvYXQgYSA9IHJhbmRvbShpKTsKICAgIGZsb2F0IGIgPSByYW5kb20oaSArIHZlYzIoMS4wLCAwLjApKTsKICAgIGZsb2F0IGMgPSByYW5kb20oaSArIHZlYzIoMC4wLCAxLjApKTsKICAgIGZsb2F0IGQgPSByYW5kb20oaSArIHZlYzIoMS4wLCAxLjApKTsKICAgIHZlYzIgdSA9IGN1YmljKGYpOwogICAgcmV0dXJuIG1peCggYSwgYiwgdS54KSArCiAgICAgICAgICAgICAgICAoYyAtIGEpKiB1LnkgKiAoMS4wIC0gdS54KSArCiAgICAgICAgICAgICAgICAoZCAtIGIpICogdS54ICogdS55Owp9CgpmbG9hdCBnbm9pc2UodmVjMyBwKSB7CiAgICB2ZWMzIGkgPSBmbG9vcihwKTsKICAgIHZlYzMgZiA9IGZyYWN0KHApOwogICAgdmVjMyB1ID0gcXVpbnRpYyhmKTsKICAgIHJldHVybiAtMS4wICsgMi4wICogbWl4KCBtaXgoIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwwLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwwLjAsMC4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDEuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDEuMCwwLjApKSwgdS54KSwgdS55KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1peCggbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDAuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDAuMCwxLjApKSwgdS54KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMS4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMS4wLDEuMCkpLCB1LngpLCB1LnkpLCB1LnogKTsKfQoKZmxvYXQgZ25vaXNlKHZlYzMgcCwgZmxvYXQgdGlsZUxlbmd0aCkgewogICAgdmVjMyBpID0gZmxvb3IocCk7CiAgICB2ZWMzIGYgPSBmcmFjdChwKTsKICAgICAgICAgICAgCiAgICB2ZWMzIHUgPSBxdWludGljKGYpOwogICAgICAgIAogICAgcmV0dXJuIG1peCggbWl4KCBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDAuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDAuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwwLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwwLjAsMC4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwxLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwxLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMS4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMS4wLDAuMCkpLCB1LngpLCB1LnkpLAogICAgICAgICAgICAgICAgbWl4KCBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDAuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDAuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwwLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwwLjAsMS4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwxLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwxLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMS4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMS4wLDEuMCkpLCB1LngpLCB1LnkpLCB1LnogKTsKfQoKdmVjMyBnbm9pc2UzKHZlYzMgeCkgewogICAgcmV0dXJuIHZlYzMoZ25vaXNlKHgrdmVjMygxMjMuNDU2LCAwLjU2NywgMC4zNykpLAogICAgICAgICAgICAgICAgZ25vaXNlKHgrdmVjMygwLjExLCA0Ny40MywgMTkuMTcpKSwKICAgICAgICAgICAgICAgIGdub2lzZSh4KSApOwp9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19NT0QyODkKI2RlZmluZSBGTkNfTU9EMjg5CgpmbG9hdCBtb2QyODkoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzIgbW9kMjg5KGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzMgbW9kMjg5KGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzQgbW9kMjg5KGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19QRVJNVVRFCiNkZWZpbmUgRk5DX1BFUk1VVEUKCmZsb2F0IHBlcm11dGUoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzIgcGVybXV0ZShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMzIHBlcm11dGUoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjNCBwZXJtdXRlKGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfVEFZTE9SSU5WU1FSVAojZGVmaW5lIEZOQ19UQVlMT1JJTlZTUVJUCmZsb2F0IHRheWxvckludlNxcnQoaW4gZmxvYXQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzIgdGF5bG9ySW52U3FydChpbiB2ZWMyIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMzIHRheWxvckludlNxcnQoaW4gdmVjMyByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjNCB0YXlsb3JJbnZTcXJ0KGluIHZlYzQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CiNlbmRpZgoKCiNpZm5kZWYgRk5DX0dSQUQ0CiNkZWZpbmUgRk5DX0dSQUQ0CnZlYzQgZ3JhZDQoZmxvYXQgaiwgdmVjNCBpcCkgewogICAgY29uc3QgdmVjNCBvbmVzID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAtMS4wKTsKICAgIHZlYzQgcCxzOwoKICAgIHAueHl6ID0gZmxvb3IoIGZyYWN0ICh2ZWMzKGopICogaXAueHl6KSAqIDcuMCkgKiBpcC56IC0gMS4wOwogICAgcC53ID0gMS41IC0gZG90KGFicyhwLnh5eiksIG9uZXMueHl6KTsKICAgIHMgPSB2ZWM0KGxlc3NUaGFuKHAsIHZlYzQoMC4wKSkpOwogICAgcC54eXogPSBwLnh5eiArIChzLnh5eioyLjAgLSAxLjApICogcy53d3c7CgogICAgcmV0dXJuIHA7Cn0KI2VuZGlmCgoKCgojaWZuZGVmIEZOQ19QU1JGTk9JU0UKI2RlZmluZSBGTkNfUFNSRk5PSVNFCgpmbG9hdCBwc3Jkbm9pc2UodmVjMiB4LCB2ZWMyIHBlcmlvZCwgZmxvYXQgYWxwaGEsIG91dCB2ZWMyIGdyYWRpZW50KSB7CgoJCgl2ZWMyIHV2ID0gdmVjMih4LnggKyB4LnkqMC41LCB4LnkpOwoKCQoJdmVjMiBpMCA9IGZsb29yKHV2KTsKCXZlYzIgZjAgPSBmcmFjdCh1dik7CgkKCWZsb2F0IGNtcCA9IHN0ZXAoZjAueSwgZjAueCk7Cgl2ZWMyIG8xID0gdmVjMihjbXAsIDEuMC1jbXApOwoKCQoJdmVjMiBpMSA9IGkwICsgbzE7Cgl2ZWMyIGkyID0gaTAgKyB2ZWMyKDEuMCwgMS4wKTsKCgkKCXZlYzIgdjAgPSB2ZWMyKGkwLnggLSBpMC55ICogMC41LCBpMC55KTsKCXZlYzIgdjEgPSB2ZWMyKHYwLnggKyBvMS54IC0gbzEueSAqIDAuNSwgdjAueSArIG8xLnkpOwoJdmVjMiB2MiA9IHZlYzIodjAueCArIDAuNSwgdjAueSArIDEuMCk7CgoJCgl2ZWMyIHgwID0geCAtIHYwOwoJdmVjMiB4MSA9IHggLSB2MTsKCXZlYzIgeDIgPSB4IC0gdjI7CgoJdmVjMyBpdSA9IHZlYzMoMC4wKTsKICAgIHZlYzMgaXYgPSB2ZWMzKDAuMCk7Cgl2ZWMzIHh3ID0gdmVjMygwLjApOwogICAgdmVjMyB5dyA9IHZlYzMoMC4wKTsKCgkKCWlmKGFueShncmVhdGVyVGhhbihwZXJpb2QsIHZlYzIoMC4wKSkpKSB7CgkJeHcgPSB2ZWMzKHYwLngsIHYxLngsIHYyLngpOwoJCXl3ID0gdmVjMyh2MC55LCB2MS55LCB2Mi55KTsKCQlpZihwZXJpb2QueCA+IDAuMCkKCQkJeHcgPSBtb2QodmVjMyh2MC54LCB2MS54LCB2Mi54KSwgcGVyaW9kLngpOwoJCWlmKHBlcmlvZC55ID4gMC4wKQoJCQl5dyA9IG1vZCh2ZWMzKHYwLnksIHYxLnksIHYyLnkpLCBwZXJpb2QueSk7CgkJCgkJaXUgPSBmbG9vcih4dyArIDAuNSp5dyArIDAuNSk7CgkJaXYgPSBmbG9vcih5dyArIDAuNSk7Cgl9IGVsc2UgeyAKCQlpdSA9IHZlYzMoaTAueCwgaTEueCwgaTIueCk7CgkJaXYgPSB2ZWMzKGkwLnksIGkxLnksIGkyLnkpOwoJfQoKCQoJdmVjMyBoYXNoID0gbW9kKGl1LCAyODkuMCk7CgloYXNoID0gbW9kKChoYXNoKjUxLjAgKyAyLjApKmhhc2ggKyBpdiwgMjg5LjApOwoJaGFzaCA9IG1vZCgoaGFzaCozNC4wICsgMTAuMCkqaGFzaCwgMjg5LjApOwoKCQoJdmVjMyBwc2kgPSBoYXNoICogMC4wNzQ4MiArIGFscGhhOwoJdmVjMyBneCA9IGNvcyhwc2kpOwoJdmVjMyBneSA9IHNpbihwc2kpOwoKCQoJdmVjMiBnMCA9IHZlYzIoZ3gueCxneS54KTsKCXZlYzIgZzEgPSB2ZWMyKGd4LnksZ3kueSk7Cgl2ZWMyIGcyID0gdmVjMihneC56LGd5LnopOwoKCQoJdmVjMyB3ID0gMC44IC0gdmVjMyhkb3QoeDAsIHgwKSwgZG90KHgxLCB4MSksIGRvdCh4MiwgeDIpKTsKCXcgPSBtYXgodywgMC4wKTsKCXZlYzMgdzIgPSB3ICogdzsKCXZlYzMgdzQgPSB3MiAqIHcyOwoKCQoJdmVjMyBnZG90eCA9IHZlYzMoZG90KGcwLCB4MCksIGRvdChnMSwgeDEpLCBkb3QoZzIsIHgyKSk7CgoJCglmbG9hdCBuID0gZG90KHc0LCBnZG90eCk7CgoJCgl2ZWMzIHczID0gdzIgKiB3OwoJdmVjMyBkdyA9IC04LjAgKiB3MyAqIGdkb3R4OwoJdmVjMiBkbjAgPSB3NC54ICogZzAgKyBkdy54ICogeDA7Cgl2ZWMyIGRuMSA9IHc0LnkgKiBnMSArIGR3LnkgKiB4MTsKCXZlYzIgZG4yID0gdzQueiAqIGcyICsgZHcueiAqIHgyOwoJZ3JhZGllbnQgPSAxMC45ICogKGRuMCArIGRuMSArIGRuMik7CgoJCglyZXR1cm4gMTAuOSAqIG47Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMyIHgsIHZlYzIgcGVyaW9kLCBmbG9hdCBhbHBoYSwgb3V0IHZlYzIgZ3JhZGllbnQsIG91dCB2ZWMzIGRnKSB7CgoJCgl2ZWMyIHV2ID0gdmVjMih4LnggKyB4LnkqMC41LCB4LnkpOwoKCQoJdmVjMiBpMCA9IGZsb29yKHV2KTsKCXZlYzIgZjAgPSBmcmFjdCh1dik7CgkKCWZsb2F0IGNtcCA9IHN0ZXAoZjAueSwgZjAueCk7Cgl2ZWMyIG8xID0gdmVjMihjbXAsIDEuMC1jbXApOwoKCQoJdmVjMiBpMSA9IGkwICsgbzE7Cgl2ZWMyIGkyID0gaTAgKyB2ZWMyKDEuMCwgMS4wKTsKCgkKCXZlYzIgdjAgPSB2ZWMyKGkwLnggLSBpMC55ICogMC41LCBpMC55KTsKCXZlYzIgdjEgPSB2ZWMyKHYwLnggKyBvMS54IC0gbzEueSAqIDAuNSwgdjAueSArIG8xLnkpOwoJdmVjMiB2MiA9IHZlYzIodjAueCArIDAuNSwgdjAueSArIDEuMCk7CgoJCgl2ZWMyIHgwID0geCAtIHYwOwoJdmVjMiB4MSA9IHggLSB2MTsKCXZlYzIgeDIgPSB4IC0gdjI7CgoJdmVjMyBpdSwgaXY7Cgl2ZWMzIHh3LCB5dzsKCgkKCWlmKGFueShncmVhdGVyVGhhbihwZXJpb2QsIHZlYzIoMC4wKSkpKSB7CgkJeHcgPSB2ZWMzKHYwLngsIHYxLngsIHYyLngpOwoJCXl3ID0gdmVjMyh2MC55LCB2MS55LCB2Mi55KTsKCQlpZihwZXJpb2QueCA+IDAuMCkKCQkJeHcgPSBtb2QodmVjMyh2MC54LCB2MS54LCB2Mi54KSwgcGVyaW9kLngpOwoJCWlmKHBlcmlvZC55ID4gMC4wKQoJCQl5dyA9IG1vZCh2ZWMzKHYwLnksIHYxLnksIHYyLnkpLCBwZXJpb2QueSk7CgkJCgkJaXUgPSBmbG9vcih4dyArIDAuNSp5dyArIDAuNSk7CgkJaXYgPSBmbG9vcih5dyArIDAuNSk7Cgl9IGVsc2UgeyAKCQlpdSA9IHZlYzMoaTAueCwgaTEueCwgaTIueCk7CgkJaXYgPSB2ZWMzKGkwLnksIGkxLnksIGkyLnkpOwoJfQoKCQoJdmVjMyBoYXNoID0gbW9kKGl1LCAyODkuMCk7CgloYXNoID0gbW9kKChoYXNoKjUxLjAgKyAyLjApKmhhc2ggKyBpdiwgMjg5LjApOwoJaGFzaCA9IG1vZCgoaGFzaCozNC4wICsgMTAuMCkqaGFzaCwgMjg5LjApOwoKCQoJdmVjMyBwc2kgPSBoYXNoICogMC4wNzQ4MiArIGFscGhhOwoJdmVjMyBneCA9IGNvcyhwc2kpOwoJdmVjMyBneSA9IHNpbihwc2kpOwoKCQoJdmVjMiBnMCA9IHZlYzIoZ3gueCxneS54KTsKCXZlYzIgZzEgPSB2ZWMyKGd4LnksZ3kueSk7Cgl2ZWMyIGcyID0gdmVjMihneC56LGd5LnopOwoKCQoJdmVjMyB3ID0gMC44IC0gdmVjMyhkb3QoeDAsIHgwKSwgZG90KHgxLCB4MSksIGRvdCh4MiwgeDIpKTsKCXcgPSBtYXgodywgMC4wKTsKCXZlYzMgdzIgPSB3ICogdzsKCXZlYzMgdzQgPSB3MiAqIHcyOwoKCQoJdmVjMyBnZG90eCA9IHZlYzMoZG90KGcwLCB4MCksIGRvdChnMSwgeDEpLCBkb3QoZzIsIHgyKSk7CgoJCglmbG9hdCBuID0gZG90KHc0LCBnZG90eCk7CgoJCgl2ZWMzIHczID0gdzIgKiB3OwoJdmVjMyBkdyA9IC04LjAgKiB3MyAqIGdkb3R4OwoJdmVjMiBkbjAgPSB3NC54ICogZzAgKyBkdy54ICogeDA7Cgl2ZWMyIGRuMSA9IHc0LnkgKiBnMSArIGR3LnkgKiB4MTsKCXZlYzIgZG4yID0gdzQueiAqIGcyICsgZHcueiAqIHgyOwoJZ3JhZGllbnQgPSAxMC45ICogKGRuMCArIGRuMSArIGRuMik7CgoJCgl2ZWMzIGRnMCwgZGcxLCBkZzI7Cgl2ZWMzIGR3MiA9IDQ4LjAgKiB3MiAqIGdkb3R4OwoJCglkZzAueHkgPSBkdzIueCAqIHgwICogeDAgLSA4LjAgKiB3My54ICogKDIuMCAqIGcwICogeDAgKyBnZG90eC54KTsKCWRnMS54eSA9IGR3Mi55ICogeDEgKiB4MSAtIDguMCAqIHczLnkgKiAoMi4wICogZzEgKiB4MSArIGdkb3R4LnkpOwoJZGcyLnh5ID0gZHcyLnogKiB4MiAqIHgyIC0gOC4wICogdzMueiAqICgyLjAgKiBnMiAqIHgyICsgZ2RvdHgueik7CgkKCWRnMC56ID0gZHcyLnggKiB4MC54ICogeDAueSAtIDguMCAqIHczLnggKiBkb3QoZzAsIHgwLnl4KTsKCWRnMS56ID0gZHcyLnkgKiB4MS54ICogeDEueSAtIDguMCAqIHczLnkgKiBkb3QoZzEsIHgxLnl4KTsKCWRnMi56ID0gZHcyLnogKiB4Mi54ICogeDIueSAtIDguMCAqIHczLnogKiBkb3QoZzIsIHgyLnl4KTsKCWRnID0gMTAuOSAqIChkZzAgKyBkZzEgKyBkZzIpOwoKCQoJcmV0dXJuIDEwLjkgKiBuOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMiB4LCB2ZWMyIHBlcmlvZCwgZmxvYXQgYWxwaGEpIHsKICAgIHZlYzIgZyA9IHZlYzIoMC4wKTsKICAgIHJldHVybiBwc3Jkbm9pc2UoeCwgcGVyaW9kLCBhbHBoYSwgZyk7Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMyIHgsIHZlYzIgcGVyaW9kKSB7CiAgICByZXR1cm4gcHNyZG5vaXNlKHgsIHBlcmlvZCwgMC4wKTsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzIgeCkgewogICAgcmV0dXJuIHBzcmRub2lzZSh4LCB2ZWMyKDAuMCkpOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMyB4LCB2ZWMzIHBlcmlvZCwgZmxvYXQgYWxwaGEsIG91dCB2ZWMzIGdyYWRpZW50KSB7CgojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgCiAgICBjb25zdCBtYXQzIE0gPSBtYXQzKDAuMCwgMS4wLCAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgIDEuMCwgMC4wLCAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgIDEuMCwgMS4wLCAwLjApOwoKICAgIGNvbnN0IG1hdDMgTWkgPSBtYXQzKC0wLjUsIDAuNSwgMC41LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41LC0wLjUsIDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuNSwgMC41LC0wLjUpOwojZW5kaWYKCiAgICB2ZWMzIHV2dyA9IHZlYzMoMC4wKTsKCiAgICAKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIAogICAgdXZ3ID0gTSAqIHg7CiAjZWxzZQogICAgCiAgICAKICAgIHV2dyA9IHggKyBkb3QoeCwgdmVjMygwLjMzMzMzMzMzKSk7CiAjZW5kaWYKCiAgICAKICAgIHZlYzMgaTAgPSBmbG9vcih1dncpOwogICAgdmVjMyBmMCA9IGZyYWN0KHV2dyk7IAoKICAgIAogICAgCiAgICAKICAgIAogICAgdmVjMyBnXyA9IHN0ZXAoZjAueHl4LCBmMC55enopOyAKICAgIHZlYzMgbF8gPSAxLjAgLSBnXzsgICAgICAgICAgICAgCiAgICB2ZWMzIGcgPSB2ZWMzKGxfLnosIGdfLnh5KTsKICAgIHZlYzMgbCA9IHZlYzMobF8ueHksIGdfLnopOwogICAgdmVjMyBvMSA9IG1pbiggZywgbCApOwogICAgdmVjMyBvMiA9IG1heCggZywgbCApOwoKICAgIAogICAgdmVjMyBpMSA9IGkwICsgbzE7CiAgICB2ZWMzIGkyID0gaTAgKyBvMjsKICAgIHZlYzMgaTMgPSBpMCArIHZlYzMoMS4wKTsKCiAgICB2ZWMzIHYwID0gdmVjMygwLjApOwogICAgdmVjMyB2MSA9IHZlYzMoMC4wKTsKICAgIHZlYzMgdjIgPSB2ZWMzKDAuMCk7CiAgICB2ZWMzIHYzID0gdmVjMygwLjApOwoKICAgIAojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgdjAgPSBNaSAqIGkwOwogICAgdjEgPSBNaSAqIGkxOwogICAgdjIgPSBNaSAqIGkyOwogICAgdjMgPSBNaSAqIGkzOwojZWxzZQogICAgCiAgICB2MCA9IGkwIC0gZG90KGkwLCB2ZWMzKDEuMC82LjApKTsKICAgIHYxID0gaTEgLSBkb3QoaTEsIHZlYzMoMS4wLzYuMCkpOwogICAgdjIgPSBpMiAtIGRvdChpMiwgdmVjMygxLjAvNi4wKSk7CiAgICB2MyA9IGkzIC0gZG90KGkzLCB2ZWMzKDEuMC82LjApKTsKI2VuZGlmCgogICAgCiAgICB2ZWMzIHgwID0geCAtIHYwOwogICAgdmVjMyB4MSA9IHggLSB2MTsKICAgIHZlYzMgeDIgPSB4IC0gdjI7CiAgICB2ZWMzIHgzID0geCAtIHYzOwoKICAgIGlmKGFueShncmVhdGVyVGhhbihwZXJpb2QsIHZlYzMoMC4wKSkpKSB7CiAgICAgICAgCiAgICAgICAgdmVjNCB2eCA9IHZlYzQodjAueCwgdjEueCwgdjIueCwgdjMueCk7CiAgICAgICAgdmVjNCB2eSA9IHZlYzQodjAueSwgdjEueSwgdjIueSwgdjMueSk7CiAgICAgICAgdmVjNCB2eiA9IHZlYzQodjAueiwgdjEueiwgdjIueiwgdjMueik7CiAgICAgICAgCiAgICAgICAgaWYocGVyaW9kLnggPiAwLjApIHZ4ID0gbW9kKHZ4LCBwZXJpb2QueCk7CiAgICAgICAgaWYocGVyaW9kLnkgPiAwLjApIHZ5ID0gbW9kKHZ5LCBwZXJpb2QueSk7CiAgICAgICAgaWYocGVyaW9kLnogPiAwLjApIHZ6ID0gbW9kKHZ6LCBwZXJpb2Queik7CiAgICAgICAgCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICAgICAgaTAgPSBNICogdmVjMyh2eC54LCB2eS54LCB2ei54KTsKICAgICAgICBpMSA9IE0gKiB2ZWMzKHZ4LnksIHZ5LnksIHZ6LnkpOwogICAgICAgIGkyID0gTSAqIHZlYzModngueiwgdnkueiwgdnoueik7CiAgICAgICAgaTMgPSBNICogdmVjMyh2eC53LCB2eS53LCB2ei53KTsKI2Vsc2UKICAgICAgICB2MCA9IHZlYzModngueCwgdnkueCwgdnoueCk7CiAgICAgICAgdjEgPSB2ZWMzKHZ4LnksIHZ5LnksIHZ6LnkpOwogICAgICAgIHYyID0gdmVjMyh2eC56LCB2eS56LCB2ei56KTsKICAgICAgICB2MyA9IHZlYzModngudywgdnkudywgdnoudyk7CiAgICAgICAgCiAgICAgICAgaTAgPSB2MCArIGRvdCh2MCwgdmVjMygxLjAvMy4wKSk7CiAgICAgICAgaTEgPSB2MSArIGRvdCh2MSwgdmVjMygxLjAvMy4wKSk7CiAgICAgICAgaTIgPSB2MiArIGRvdCh2MiwgdmVjMygxLjAvMy4wKSk7CiAgICAgICAgaTMgPSB2MyArIGRvdCh2MywgdmVjMygxLjAvMy4wKSk7CiNlbmRpZgogICAgICAgIAogICAgICAgIGkwID0gZmxvb3IoaTAgKyAwLjUpOwogICAgICAgIGkxID0gZmxvb3IoaTEgKyAwLjUpOwogICAgICAgIGkyID0gZmxvb3IoaTIgKyAwLjUpOwogICAgICAgIGkzID0gZmxvb3IoaTMgKyAwLjUpOwogICAgfQoKICAgIAogICAgdmVjNCBoYXNoID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSggCiAgICAgICAgICAgICAgICB2ZWM0KGkwLnosIGkxLnosIGkyLnosIGkzLnogKSkKICAgICAgICAgICAgICAgICsgdmVjNChpMC55LCBpMS55LCBpMi55LCBpMy55ICkpCiAgICAgICAgICAgICAgICArIHZlYzQoaTAueCwgaTEueCwgaTIueCwgaTMueCApKTsKCiAgICAKICAgIHZlYzQgdGhldGEgPSBoYXNoICogMy44ODMyMjIwNzc7ICAKICAgIHZlYzQgc3ogICAgPSBoYXNoICogLTAuMDA2OTIwNDE1ICsgMC45OTY1Mzk3OTI7IAogICAgdmVjNCBwc2kgICA9IGhhc2ggKiAwLjEwODcwNTYyOCA7IAoKICAgIHZlYzQgQ3QgPSBjb3ModGhldGEpOwogICAgdmVjNCBTdCA9IHNpbih0aGV0YSk7CiAgICB2ZWM0IHN6X3ByaW1lID0gc3FydCggMS4wIC0gc3oqc3ogKTsgCgogICAgdmVjNCBneCA9IHZlYzQoMC4wKTsKICAgIHZlYzQgZ3kgPSB2ZWM0KDAuMCk7CiAgICB2ZWM0IGd6ID0gdmVjNCgwLjApOwoKICAgIAojaWZkZWYgUFNSRE5PSVNFX0ZBU1RfUk9UQVRJT04KICAgIAogICAgdmVjNCBxeCA9IFN0OyAgICAgICAgIAogICAgdmVjNCBxeSA9IC1DdDsgCiAgICB2ZWM0IHF6ID0gdmVjNCgwLjApOwoKICAgIHZlYzQgcHggPSAgc3ogKiBxeTsgICAKICAgIHZlYzQgcHkgPSAtc3ogKiBxeDsKICAgIHZlYzQgcHogPSBzel9wcmltZTsKCiAgICBwc2kgKz0gYWxwaGE7ICAgICAgICAgCiAgICB2ZWM0IFNhID0gc2luKHBzaSk7CiAgICB2ZWM0IENhID0gY29zKHBzaSk7CgogICAgZ3ggPSBDYSAqIHB4ICsgU2EgKiBxeDsKICAgIGd5ID0gQ2EgKiBweSArIFNhICogcXk7CiAgICBneiA9IENhICogcHogKyBTYSAqIHF6OwojZWxzZQogICAgCiAgICAKICAgIGlmKGFscGhhICE9IDAuMCkgewogICAgICAgIHZlYzQgU3AgPSBzaW4ocHNpKTsgICAgICAgICAgCiAgICAgICAgdmVjNCBDcCA9IGNvcyhwc2kpOwoKICAgICAgICB2ZWM0IHB4ID0gQ3QgKiBzel9wcmltZTsgICAgIAogICAgICAgIHZlYzQgcHkgPSBTdCAqIHN6X3ByaW1lOyAgICAgCiAgICAgICAgdmVjNCBweiA9IHN6OwoKICAgICAgICB2ZWM0IEN0cCA9IFN0KlNwIC0gQ3QqQ3A7ICAgIAogICAgICAgIHZlYzQgcXggPSBtaXgoIEN0cCpTdCwgU3AsIHN6KTsKICAgICAgICB2ZWM0IHF5ID0gbWl4KC1DdHAqQ3QsIENwLCBzeik7CiAgICAgICAgdmVjNCBxeiA9IC0ocHkqQ3AgKyBweCpTcCk7CgogICAgICAgIHZlYzQgU2EgPSB2ZWM0KHNpbihhbHBoYSkpOyAgICAgICAKICAgICAgICB2ZWM0IENhID0gdmVjNChjb3MoYWxwaGEpKTsKCiAgICAgICAgZ3ggPSBDYSAqIHB4ICsgU2EgKiBxeDsKICAgICAgICBneSA9IENhICogcHkgKyBTYSAqIHF5OwogICAgICAgIGd6ID0gQ2EgKiBweiArIFNhICogcXo7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBneCA9IEN0ICogc3pfcHJpbWU7ICAKICAgICAgICBneSA9IFN0ICogc3pfcHJpbWU7CiAgICAgICAgZ3ogPSBzejsgIAogICAgfQojZW5kaWYKCiAgICAKICAgIHZlYzMgZzAgPSB2ZWMzKGd4LngsIGd5LngsIGd6LngpOwogICAgdmVjMyBnMSA9IHZlYzMoZ3gueSwgZ3kueSwgZ3oueSk7CiAgICB2ZWMzIGcyID0gdmVjMyhneC56LCBneS56LCBnei56KTsKICAgIHZlYzMgZzMgPSB2ZWMzKGd4LncsIGd5LncsIGd6LncpOwoKICAgIAogICAgdmVjNCB3ID0gMC41IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKTsKICAgIHcgPSBtYXgodywgMC4wKTsKICAgIHZlYzQgdzIgPSB3ICogdzsKICAgIHZlYzQgdzMgPSB3MiAqIHc7CgogICAgCiAgICB2ZWM0IGdkb3R4ID0gdmVjNChkb3QoZzAseDApLCBkb3QoZzEseDEpLCBkb3QoZzIseDIpLCBkb3QoZzMseDMpKTsKCiAgICAKICAgIGZsb2F0IG4gPSBkb3QodzMsIGdkb3R4KTsKCiAgICAKICAgIHZlYzQgZHcgPSAtNi4wICogdzIgKiBnZG90eDsKICAgIHZlYzMgZG4wID0gdzMueCAqIGcwICsgZHcueCAqIHgwOwogICAgdmVjMyBkbjEgPSB3My55ICogZzEgKyBkdy55ICogeDE7CiAgICB2ZWMzIGRuMiA9IHczLnogKiBnMiArIGR3LnogKiB4MjsKICAgIHZlYzMgZG4zID0gdzMudyAqIGczICsgZHcudyAqIHgzOwogICAgZ3JhZGllbnQgPSAzOS41ICogKGRuMCArIGRuMSArIGRuMiArIGRuMyk7CgogICAgCiAgICByZXR1cm4gMzkuNSAqIG47CiAgCn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMzIHgsIHZlYzMgcGVyaW9kLCBmbG9hdCBhbHBoYSwgb3V0IHZlYzMgZ3JhZGllbnQsIG91dCB2ZWMzIGRnLCBvdXQgdmVjMyBkZzIpIHsKCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICAKICAgIGNvbnN0IG1hdDMgTSA9IG1hdDMoMC4wLCAxLjAsIDEuMCwKICAgICAgICAgICAgICAgICAgICAgICAgMS4wLCAwLjAsIDEuMCwKICAgICAgICAgICAgICAgICAgICAgICAgMS4wLCAxLjAsIDAuMCk7CgogICAgY29uc3QgbWF0MyBNaSA9IG1hdDMoLTAuNSwgMC41LCAwLjUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjUsLTAuNSwgMC41LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41LCAwLjUsLTAuNSk7CiNlbmRpZgoKICAgIHZlYzMgdXZ3ID0gdmVjMygwLjApOwoKICAgIAojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgCiAgICB1dncgPSBNICogeDsKI2Vsc2UKICAgIAogICAgCiAgICB1dncgPSB4ICsgZG90KHgsIHZlYzMoMC4zMzMzMzMzKSk7CiNlbmRpZgoKICAgIAogICAgdmVjMyBpMCA9IGZsb29yKHV2dyk7CiAgICB2ZWMzIGYwID0gZnJhY3QodXZ3KTsgCgogICAgCiAgICAKICAgIAogICAgCiAgICB2ZWMzIGdfID0gc3RlcChmMC54eXgsIGYwLnl6eik7IAogICAgdmVjMyBsXyA9IDEuMCAtIGdfOyAgICAgICAgICAgICAKICAgIHZlYzMgZyA9IHZlYzMobF8ueiwgZ18ueHkpOwogICAgdmVjMyBsID0gdmVjMyhsXy54eSwgZ18ueik7CiAgICB2ZWMzIG8xID0gbWluKCBnLCBsICk7CiAgICB2ZWMzIG8yID0gbWF4KCBnLCBsICk7CgogICAgCiAgICB2ZWMzIGkxID0gaTAgKyBvMTsKICAgIHZlYzMgaTIgPSBpMCArIG8yOwogICAgdmVjMyBpMyA9IGkwICsgdmVjMygxLjApOwoKICAgIHZlYzMgdjAsIHYxLCB2MiwgdjM7CgogICAgCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICB2MCA9IE1pICogaTA7CiAgICB2MSA9IE1pICogaTE7CiAgICB2MiA9IE1pICogaTI7CiAgICB2MyA9IE1pICogaTM7CiNlbHNlCiAgICAKICAgIHYwID0gaTAgLSBkb3QoaTAsIHZlYzMoMS4wLzYuMCkpOwogICAgdjEgPSBpMSAtIGRvdChpMSwgdmVjMygxLjAvNi4wKSk7CiAgICB2MiA9IGkyIC0gZG90KGkyLCB2ZWMzKDEuMC82LjApKTsKICAgIHYzID0gaTMgLSBkb3QoaTMsIHZlYzMoMS4wLzYuMCkpOwojZW5kaWYKCiAgICAKICAgIHZlYzMgeDAgPSB4IC0gdjA7CiAgICB2ZWMzIHgxID0geCAtIHYxOwogICAgdmVjMyB4MiA9IHggLSB2MjsKICAgIHZlYzMgeDMgPSB4IC0gdjM7CgogICAgaWYoYW55KGdyZWF0ZXJUaGFuKHBlcmlvZCwgdmVjMygwLjApKSkpIHsKICAgICAgICAKICAgICAgICB2ZWM0IHZ4ID0gdmVjNCh2MC54LCB2MS54LCB2Mi54LCB2My54KTsKICAgICAgICB2ZWM0IHZ5ID0gdmVjNCh2MC55LCB2MS55LCB2Mi55LCB2My55KTsKICAgICAgICB2ZWM0IHZ6ID0gdmVjNCh2MC56LCB2MS56LCB2Mi56LCB2My56KTsKICAgICAgICAKICAgICAgICBpZihwZXJpb2QueCA+IDAuMCkgdnggPSBtb2QodngsIHBlcmlvZC54KTsKICAgICAgICBpZihwZXJpb2QueSA+IDAuMCkgdnkgPSBtb2QodnksIHBlcmlvZC55KTsKICAgICAgICBpZihwZXJpb2QueiA+IDAuMCkgdnogPSBtb2QodnosIHBlcmlvZC56KTsKICAgICAgICAKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgICAgICBpMCA9IE0gKiB2ZWMzKHZ4LngsIHZ5LngsIHZ6LngpOwogICAgICAgIGkxID0gTSAqIHZlYzModngueSwgdnkueSwgdnoueSk7CiAgICAgICAgaTIgPSBNICogdmVjMyh2eC56LCB2eS56LCB2ei56KTsKICAgICAgICBpMyA9IE0gKiB2ZWMzKHZ4LncsIHZ5LncsIHZ6LncpOwojZWxzZQogICAgICAgIHYwID0gdmVjMyh2eC54LCB2eS54LCB2ei54KTsKICAgICAgICB2MSA9IHZlYzModngueSwgdnkueSwgdnoueSk7CiAgICAgICAgdjIgPSB2ZWMzKHZ4LnosIHZ5LnosIHZ6LnopOwogICAgICAgIHYzID0gdmVjMyh2eC53LCB2eS53LCB2ei53KTsKICAgICAgICAKICAgICAgICBpMCA9IHYwICsgZG90KHYwLCB2ZWMzKDAuMzMzMzMzMykpOwogICAgICAgIGkxID0gdjEgKyBkb3QodjEsIHZlYzMoMC4zMzMzMzMzKSk7CiAgICAgICAgaTIgPSB2MiArIGRvdCh2MiwgdmVjMygwLjMzMzMzMzMpKTsKICAgICAgICBpMyA9IHYzICsgZG90KHYzLCB2ZWMzKDAuMzMzMzMzMykpOwojZW5kaWYKICAgICAgICAKICAgICAgICBpMCA9IGZsb29yKGkwICsgMC41KTsKICAgICAgICBpMSA9IGZsb29yKGkxICsgMC41KTsKICAgICAgICBpMiA9IGZsb29yKGkyICsgMC41KTsKICAgICAgICBpMyA9IGZsb29yKGkzICsgMC41KTsKICAgIH0KCiAgICAKICAgIHZlYzQgaGFzaCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIAogICAgICAgICAgICAgICAgdmVjNChpMC56LCBpMS56LCBpMi56LCBpMy56ICkpCiAgICAgICAgICAgICAgICArIHZlYzQoaTAueSwgaTEueSwgaTIueSwgaTMueSApKQogICAgICAgICAgICAgICAgKyB2ZWM0KGkwLngsIGkxLngsIGkyLngsIGkzLnggKSk7CgogICAgCiAgICB2ZWM0IHRoZXRhID0gaGFzaCAqIDMuODgzMjIyMDc3OyAgCiAgICB2ZWM0IHN6ICAgID0gaGFzaCAqIC0wLjAwNjkyMDQxNSArIDAuOTk2NTM5NzkyOyAKICAgIHZlYzQgcHNpICAgPSBoYXNoICogMC4xMDg3MDU2MjggOyAKCiAgICB2ZWM0IEN0ID0gY29zKHRoZXRhKTsKICAgIHZlYzQgU3QgPSBzaW4odGhldGEpOwogICAgdmVjNCBzel9wcmltZSA9IHNxcnQoIDEuMCAtIHN6KnN6ICk7IAoKICAgIHZlYzQgZ3gsIGd5LCBnejsKCiAgICAKI2lmZGVmIFBTUkROT0lTRV9GQVNUX1JPVEFUSU9OCiAgICAKICAgIHZlYzQgcXggPSBTdDsgICAgICAgICAKICAgIHZlYzQgcXkgPSAtQ3Q7IAogICAgdmVjNCBxeiA9IHZlYzQoMC4wKTsKCiAgICB2ZWM0IHB4ID0gIHN6ICogcXk7ICAgCiAgICB2ZWM0IHB5ID0gLXN6ICogcXg7CiAgICB2ZWM0IHB6ID0gc3pfcHJpbWU7CgogICAgcHNpICs9IGFscGhhOyAgICAgICAgIAogICAgdmVjNCBTYSA9IHNpbihwc2kpOwogICAgdmVjNCBDYSA9IGNvcyhwc2kpOwoKICAgIGd4ID0gQ2EgKiBweCArIFNhICogcXg7CiAgICBneSA9IENhICogcHkgKyBTYSAqIHF5OwogICAgZ3ogPSBDYSAqIHB6ICsgU2EgKiBxejsKICAgICNlbHNlCiAgICAKICAgIAogICAgaWYoYWxwaGEgIT0gMC4wKSB7CiAgICAgICAgdmVjNCBTcCA9IHNpbihwc2kpOyAgICAgICAgICAKICAgICAgICB2ZWM0IENwID0gY29zKHBzaSk7CgogICAgICAgIHZlYzQgcHggPSBDdCAqIHN6X3ByaW1lOyAgICAgCiAgICAgICAgdmVjNCBweSA9IFN0ICogc3pfcHJpbWU7ICAgICAKICAgICAgICB2ZWM0IHB6ID0gc3o7CgogICAgICAgIHZlYzQgQ3RwID0gU3QqU3AgLSBDdCpDcDsgICAgCiAgICAgICAgdmVjNCBxeCA9IG1peCggQ3RwKlN0LCBTcCwgc3opOwogICAgICAgIHZlYzQgcXkgPSBtaXgoLUN0cCpDdCwgQ3AsIHN6KTsKICAgICAgICB2ZWM0IHF6ID0gLShweSpDcCArIHB4KlNwKTsKCiAgICAgICAgdmVjNCBTYSA9IHZlYzQoc2luKGFscGhhKSk7ICAgICAgIAogICAgICAgIHZlYzQgQ2EgPSB2ZWM0KGNvcyhhbHBoYSkpOwoKICAgICAgICBneCA9IENhICogcHggKyBTYSAqIHF4OwogICAgICAgIGd5ID0gQ2EgKiBweSArIFNhICogcXk7CiAgICAgICAgZ3ogPSBDYSAqIHB6ICsgU2EgKiBxejsKICAgIH0KICAgIGVsc2UgewogICAgICAgIGd4ID0gQ3QgKiBzel9wcmltZTsgIAogICAgICAgIGd5ID0gU3QgKiBzel9wcmltZTsKICAgICAgICBneiA9IHN6OyAgCiAgICB9CiNlbmRpZgoKICAgIAogICAgdmVjMyBnMCA9IHZlYzMoZ3gueCwgZ3kueCwgZ3oueCk7CiAgICB2ZWMzIGcxID0gdmVjMyhneC55LCBneS55LCBnei55KTsKICAgIHZlYzMgZzIgPSB2ZWMzKGd4LnosIGd5LnosIGd6LnopOwogICAgdmVjMyBnMyA9IHZlYzMoZ3gudywgZ3kudywgZ3oudyk7CgogICAgCiAgICB2ZWM0IHcgPSAwLjUgLSB2ZWM0KGRvdCh4MCx4MCksIGRvdCh4MSx4MSksIGRvdCh4Mix4MiksIGRvdCh4Myx4MykpOwogICAgdyA9IG1heCh3LCAwLjApOwogICAgdmVjNCB3MiA9IHcgKiB3OwogICAgdmVjNCB3MyA9IHcyICogdzsKCiAgICAKICAgIHZlYzQgZ2RvdHggPSB2ZWM0KGRvdChnMCx4MCksIGRvdChnMSx4MSksIGRvdChnMix4MiksIGRvdChnMyx4MykpOwoKICAgIAogICAgZmxvYXQgbiA9IGRvdCh3MywgZ2RvdHgpOwoKICAgIAogICAgdmVjNCBkdyA9IC02LjAgKiB3MiAqIGdkb3R4OwogICAgdmVjMyBkbjAgPSB3My54ICogZzAgKyBkdy54ICogeDA7CiAgICB2ZWMzIGRuMSA9IHczLnkgKiBnMSArIGR3LnkgKiB4MTsKICAgIHZlYzMgZG4yID0gdzMueiAqIGcyICsgZHcueiAqIHgyOwogICAgdmVjMyBkbjMgPSB3My53ICogZzMgKyBkdy53ICogeDM7CiAgICBncmFkaWVudCA9IDM5LjUgKiAoZG4wICsgZG4xICsgZG4yICsgZG4zKTsKCiAgICAKICAgIHZlYzQgZHcyID0gMjQuMCAqIHcgKiBnZG90eDsKICAgIHZlYzMgZGdhMCA9IGR3Mi54ICogeDAgKiB4MCAtIDYuMCAqIHcyLnggKiAoZ2RvdHgueCArIDIuMCAqIGcwICogeDApOwogICAgdmVjMyBkZ2ExID0gZHcyLnkgKiB4MSAqIHgxIC0gNi4wICogdzIueSAqIChnZG90eC55ICsgMi4wICogZzEgKiB4MSk7CiAgICB2ZWMzIGRnYTIgPSBkdzIueiAqIHgyICogeDIgLSA2LjAgKiB3Mi56ICogKGdkb3R4LnogKyAyLjAgKiBnMiAqIHgyKTsKICAgIHZlYzMgZGdhMyA9IGR3Mi53ICogeDMgKiB4MyAtIDYuMCAqIHcyLncgKiAoZ2RvdHgudyArIDIuMCAqIGczICogeDMpOwogICAgZGcgPSAzNS4wICogKGRnYTAgKyBkZ2ExICsgZGdhMiArIGRnYTMpOyAKICAgIHZlYzMgZGdiMCA9IGR3Mi54ICogeDAgKiB4MC55enggLSA2LjAgKiB3Mi54ICogKGcwICogeDAueXp4ICsgZzAueXp4ICogeDApOwogICAgdmVjMyBkZ2IxID0gZHcyLnkgKiB4MSAqIHgxLnl6eCAtIDYuMCAqIHcyLnkgKiAoZzEgKiB4MS55enggKyBnMS55enggKiB4MSk7CiAgICB2ZWMzIGRnYjIgPSBkdzIueiAqIHgyICogeDIueXp4IC0gNi4wICogdzIueiAqIChnMiAqIHgyLnl6eCArIGcyLnl6eCAqIHgyKTsKICAgIHZlYzMgZGdiMyA9IGR3Mi53ICogeDMgKiB4My55enggLSA2LjAgKiB3Mi53ICogKGczICogeDMueXp4ICsgZzMueXp4ICogeDMpOwogICAgZGcyID0gMzkuNSAqIChkZ2IwICsgZGdiMSArIGRnYjIgKyBkZ2IzKTsgCgogICAgCiAgICByZXR1cm4gMzkuNSAqIG47Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMzIHgsIHZlYzMgcGVyaW9kLCBmbG9hdCBhbHBoYSkgewogICAgdmVjMyBnID0gdmVjMygwLjApOwogICAgcmV0dXJuIHBzcmRub2lzZSh4LCBwZXJpb2QsIGFscGhhLCBnKTsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzMgeCwgdmVjMyBwZXJpb2QpIHsKICAgIHJldHVybiBwc3Jkbm9pc2UoeCwgcGVyaW9kLCAwLjApOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMyB4KSB7CiAgICByZXR1cm4gcHNyZG5vaXNlKHgsIHZlYzMoMC4wKSk7Cn0KI2VuZGlmCgoKCgoKI2lmbmRlZiBSQU5ET01fU0NBTEUKI2lmIGRlZmluZWQoUkFORE9NX0hJR0hFUl9SQU5HRSkKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCguMTAzMSwgLjEwMzAsIC4wOTczLCAuMTA5OSkKI2Vsc2UKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCg0NDMuODk3LCA0NDEuNDIzLCAuMDk3MywgLjEwOTkpCiNlbmRpZgojZW5kaWYKCiNpZm5kZWYgRk5DX1JBTkRPTQojZGVmaW5lIEZOQ19SQU5ET00KZmxvYXQgcmFuZG9tKGluIGZsb2F0IHgpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICB4ID0gZnJhY3QoeCAqIFJBTkRPTV9TQ0FMRS54KTsKICAgIHggKj0geCArIDMzLjMzOwogICAgeCAqPSB4ICsgeDsKICAgIHJldHVybiBmcmFjdCh4KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oeCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMyIHN0KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgdmVjMyBwMyAgPSBmcmFjdCh2ZWMzKHN0Lnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwMy54ICsgcDMueSkgKiBwMy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHN0Lnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzMgcG9zKSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgcG9zICA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy56eXggKyAzMS4zMik7CiAgICByZXR1cm4gZnJhY3QoKHBvcy54ICsgcG9zLnkpICogcG9zLnopOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbihkb3QocG9zLnh5eiwgdmVjMyg3MC45ODk4LCA3OC4yMzMsIDMyLjQzNTUpKSkgKiA0Mzc1OC41NDUzMTIzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWM0IHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwb3MgKz0gZG90KHBvcywgcG9zLnd6eHkrMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIChwb3MueiArIHBvcy53KSk7CiNlbHNlCiAgICBmbG9hdCBkb3RfcHJvZHVjdCA9IGRvdChwb3MsIHZlYzQoMTIuOTg5OCw3OC4yMzMsNDUuMTY0LDk0LjY3MykpOwogICAgcmV0dXJuIGZyYWN0KHNpbihkb3RfcHJvZHVjdCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCnZlYzIgcmFuZG9tMihmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMyIHJhbmRvbTIodmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QocC54eXggKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzMgcDMpIHsKICAgIHAzID0gZnJhY3QocDMgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMyByYW5kb20zKGZsb2F0IHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHApICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7IAp9Cgp2ZWMzIHJhbmRvbTModmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwLnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eHkgKyBwMy55enopICogcDMuenl4KTsKfQoKdmVjMyByYW5kb20zKHZlYzMgcCkgewogICAgcCA9IGZyYWN0KHAgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAgKz0gZG90KHAsIHAueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwLnh4eSArIHAueXp6KSAqIHAuenl4KTsKfQoKdmVjNCByYW5kb200KGZsb2F0IHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7ICAgCn0KCnZlYzQgcmFuZG9tNCh2ZWMyIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5eHkgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzMgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAueHl6eCAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzQgcDQpIHsKICAgIHA0ID0gZnJhY3QocDQgICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCgojZW5kaWYKCgoKCiNpZm5kZWYgRk5DX1dPUkxFWQojZGVmaW5lIEZOQ19XT1JMRVkKCmZsb2F0IHdvcmxleSh2ZWMyIHApewogICAgdmVjMiBuID0gZmxvb3IoIHAgKTsKICAgIHZlYzIgZiA9IGZyYWN0KCBwICk7CgogICAgZmxvYXQgZGlzID0gMS4wOwogICAgZm9yKCBpbnQgaj0gLTE7IGogPD0gMTsgaisrICkKICAgICAgICBmb3IoIGludCBpPS0xOyBpIDw9IDE7IGkrKyApIHsJCiAgICAgICAgICAgICAgICB2ZWMyICBnID0gdmVjMihpLGopOwogICAgICAgICAgICAgICAgdmVjMiAgbyA9IHJhbmRvbTIoIG4gKyBnICk7CiAgICAgICAgICAgICAgICB2ZWMyICBkZWx0YSA9IGcgKyBvIC0gZjsKICAgICAgICAgICAgICAgIGZsb2F0IGQgPSBsZW5ndGgoZGVsdGEpOwogICAgICAgICAgICAgICAgZGlzID0gbWluKGRpcyxkKTsKICAgIH0KCiAgICByZXR1cm4gMS4wLWRpczsKfQoKZmxvYXQgd29ybGV5KHZlYzMgcCkgewogICAgdmVjMyBuID0gZmxvb3IoIHAgKTsKICAgIHZlYzMgZiA9IGZyYWN0KCBwICk7CgogICAgZmxvYXQgZGlzID0gMS4wOwogICAgZm9yKCBpbnQgayA9IC0xOyBrIDw9IDE7IGsrKyApCiAgICAgICAgZm9yKCBpbnQgaj0gLTE7IGogPD0gMTsgaisrICkKICAgICAgICAgICAgZm9yKCBpbnQgaT0tMTsgaSA8PSAxOyBpKysgKSB7CQogICAgICAgICAgICAgICAgdmVjMyAgZyA9IHZlYzMoaSxqLGspOwogICAgICAgICAgICAgICAgdmVjMyAgbyA9IHJhbmRvbTMoIG4gKyBnICk7CiAgICAgICAgICAgICAgICB2ZWMzICBkZWx0YSA9IGcrby1mOwogICAgICAgICAgICAgICAgZmxvYXQgZCA9IGxlbmd0aChkZWx0YSk7CiAgICAgICAgICAgICAgICBkaXMgPSBtaW4oZGlzLGQpOwogICAgfQoKICAgIHJldHVybiAxLjAtZGlzOwp9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19NT0QyODkKI2RlZmluZSBGTkNfTU9EMjg5CgpmbG9hdCBtb2QyODkoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzIgbW9kMjg5KGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzMgbW9kMjg5KGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzQgbW9kMjg5KGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19QRVJNVVRFCiNkZWZpbmUgRk5DX1BFUk1VVEUKCmZsb2F0IHBlcm11dGUoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzIgcGVybXV0ZShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMzIHBlcm11dGUoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjNCBwZXJtdXRlKGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfVEFZTE9SSU5WU1FSVAojZGVmaW5lIEZOQ19UQVlMT1JJTlZTUVJUCmZsb2F0IHRheWxvckludlNxcnQoaW4gZmxvYXQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzIgdGF5bG9ySW52U3FydChpbiB2ZWMyIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMzIHRheWxvckludlNxcnQoaW4gdmVjMyByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjNCB0YXlsb3JJbnZTcXJ0KGluIHZlYzQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CiNlbmRpZgoKCiNpZm5kZWYgRk5DX0dSQUQ0CiNkZWZpbmUgRk5DX0dSQUQ0CnZlYzQgZ3JhZDQoZmxvYXQgaiwgdmVjNCBpcCkgewogICAgY29uc3QgdmVjNCBvbmVzID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAtMS4wKTsKICAgIHZlYzQgcCxzOwoKICAgIHAueHl6ID0gZmxvb3IoIGZyYWN0ICh2ZWMzKGopICogaXAueHl6KSAqIDcuMCkgKiBpcC56IC0gMS4wOwogICAgcC53ID0gMS41IC0gZG90KGFicyhwLnh5eiksIG9uZXMueHl6KTsKICAgIHMgPSB2ZWM0KGxlc3NUaGFuKHAsIHZlYzQoMC4wKSkpOwogICAgcC54eXogPSBwLnh5eiArIChzLnh5eioyLjAgLSAxLjApICogcy53d3c7CgogICAgcmV0dXJuIHA7Cn0KI2VuZGlmCgoKCgojaWZuZGVmIEZOQ19TTk9JU0UKI2RlZmluZSBGTkNfU05PSVNFCmZsb2F0IHNub2lzZShpbiB2ZWMyIHYpIHsKICAgIGNvbnN0IHZlYzQgQyA9IHZlYzQoMC4yMTEzMjQ4NjU0MDUxODcsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC4zNjYwMjU0MDM3ODQ0MzksICAKICAgICAgICAgICAgICAgICAgICAgICAgLTAuNTc3MzUwMjY5MTg5NjI2LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIDAuMDI0MzkwMjQzOTAyNDM5KTsgCiAgICAKICAgIHZlYzIgaSAgPSBmbG9vcih2ICsgZG90KHYsIEMueXkpICk7CiAgICB2ZWMyIHgwID0gdiAtICAgaSArIGRvdChpLCBDLnh4KTsKCiAgICAKICAgIHZlYzIgaTE7CiAgICAKICAgIAogICAgaTEgPSAoeDAueCA+IHgwLnkpID8gdmVjMigxLjAsIDAuMCkgOiB2ZWMyKDAuMCwgMS4wKTsKICAgIAogICAgCiAgICAKICAgIHZlYzQgeDEyID0geDAueHl4eSArIEMueHh6ejsKICAgIHgxMi54eSAtPSBpMTsKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7IAogICAgdmVjMyBwID0gcGVybXV0ZSggcGVybXV0ZSggaS55ICsgdmVjMygwLjAsIGkxLnksIDEuMCApKQogICAgKyBpLnggKyB2ZWMzKDAuMCwgaTEueCwgMS4wICkpOwoKICAgIHZlYzMgbSA9IG1heCgwLjUgLSB2ZWMzKGRvdCh4MCx4MCksIGRvdCh4MTIueHkseDEyLnh5KSwgZG90KHgxMi56dyx4MTIuencpKSwgMC4wKTsKICAgIG0gPSBtKm0gOwogICAgbSA9IG0qbSA7CgogICAgCiAgICAKCiAgICB2ZWMzIHggPSAyLjAgKiBmcmFjdChwICogQy53d3cpIC0gMS4wOwogICAgdmVjMyBoID0gYWJzKHgpIC0gMC41OwogICAgdmVjMyBveCA9IGZsb29yKHggKyAwLjUpOwogICAgdmVjMyBhMCA9IHggLSBveDsKCiAgICAKICAgIAogICAgbSAqPSAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqICggYTAqYTAgKyBoKmggKTsKCiAgICAKICAgIHZlYzMgZzsKICAgIGcueCAgPSBhMC54ICAqIHgwLnggICsgaC54ICAqIHgwLnk7CiAgICBnLnl6ID0gYTAueXogKiB4MTIueHogKyBoLnl6ICogeDEyLnl3OwogICAgcmV0dXJuIDEzMC4wICogZG90KG0sIGcpOwp9CgoKZmxvYXQgc25vaXNlKGluIHZlYzMgdikgewogICAgY29uc3QgdmVjMiAgQyA9IHZlYzIoMS4wLzYuMCwgMS4wLzMuMCkgOwogICAgY29uc3QgdmVjNCAgRCA9IHZlYzQoMC4wLCAwLjUsIDEuMCwgMi4wKTsKCiAgICAKICAgIHZlYzMgaSAgPSBmbG9vcih2ICsgZG90KHYsIEMueXl5KSApOwogICAgdmVjMyB4MCA9ICAgdiAtIGkgKyBkb3QoaSwgQy54eHgpIDsKCiAgICAKICAgIHZlYzMgZyA9IHN0ZXAoeDAueXp4LCB4MC54eXopOwogICAgdmVjMyBsID0gMS4wIC0gZzsKICAgIHZlYzMgaTEgPSBtaW4oIGcueHl6LCBsLnp4eSApOwogICAgdmVjMyBpMiA9IG1heCggZy54eXosIGwuenh5ICk7CgogICAgCiAgICAKICAgIAogICAgCiAgICB2ZWMzIHgxID0geDAgLSBpMSArIEMueHh4OwogICAgdmVjMyB4MiA9IHgwIC0gaTIgKyBDLnl5eTsgCiAgICB2ZWMzIHgzID0geDAgLSBELnl5eTsgICAgICAKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7CiAgICB2ZWM0IHAgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKAogICAgICAgICAgICAgICAgaS56ICsgdmVjNCgwLjAsIGkxLnosIGkyLnosIDEuMCApKQogICAgICAgICAgICArIGkueSArIHZlYzQoMC4wLCBpMS55LCBpMi55LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnggKyB2ZWM0KDAuMCwgaTEueCwgaTIueCwgMS4wICkpOwoKICAgIAogICAgCiAgICBmbG9hdCBuXyA9IDAuMTQyODU3MTQyODU3OyAKICAgIHZlYzMgIG5zID0gbl8gKiBELnd5eiAtIEQueHp4OwoKICAgIHZlYzQgaiA9IHAgLSA0OS4wICogZmxvb3IocCAqIG5zLnogKiBucy56KTsgIAoKICAgIHZlYzQgeF8gPSBmbG9vcihqICogbnMueik7CiAgICB2ZWM0IHlfID0gZmxvb3IoaiAtIDcuMCAqIHhfICk7ICAgIAoKICAgIHZlYzQgeCA9IHhfICpucy54ICsgbnMueXl5eTsKICAgIHZlYzQgeSA9IHlfICpucy54ICsgbnMueXl5eTsKICAgIHZlYzQgaCA9IDEuMCAtIGFicyh4KSAtIGFicyh5KTsKCiAgICB2ZWM0IGIwID0gdmVjNCggeC54eSwgeS54eSApOwogICAgdmVjNCBiMSA9IHZlYzQoIHguencsIHkuencgKTsKCiAgICAKICAgIAogICAgdmVjNCBzMCA9IGZsb29yKGIwKSoyLjAgKyAxLjA7CiAgICB2ZWM0IHMxID0gZmxvb3IoYjEpKjIuMCArIDEuMDsKICAgIHZlYzQgc2ggPSAtc3RlcChoLCB2ZWM0KDAuMCkpOwoKICAgIHZlYzQgYTAgPSBiMC54enl3ICsgczAueHp5dypzaC54eHl5IDsKICAgIHZlYzQgYTEgPSBiMS54enl3ICsgczEueHp5dypzaC56end3IDsKCiAgICB2ZWMzIHAwID0gdmVjMyhhMC54eSxoLngpOwogICAgdmVjMyBwMSA9IHZlYzMoYTAuencsaC55KTsKICAgIHZlYzMgcDIgPSB2ZWMzKGExLnh5LGgueik7CiAgICB2ZWMzIHAzID0gdmVjMyhhMS56dyxoLncpOwoKICAgIAogICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChwMCxwMCksIGRvdChwMSxwMSksIGRvdChwMiwgcDIpLCBkb3QocDMscDMpKSk7CiAgICBwMCAqPSBub3JtLng7CiAgICBwMSAqPSBub3JtLnk7CiAgICBwMiAqPSBub3JtLno7CiAgICBwMyAqPSBub3JtLnc7CgogICAgCiAgICB2ZWM0IG0gPSBtYXgoMC42IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKSwgMC4wKTsKICAgIG0gPSBtICogbTsKICAgIHJldHVybiA0Mi4wICogZG90KCBtKm0sIHZlYzQoIGRvdChwMCx4MCksIGRvdChwMSx4MSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHAyLHgyKSwgZG90KHAzLHgzKSApICk7Cn0KCmZsb2F0IHNub2lzZShpbiB2ZWM0IHYpIHsKICAgIGNvbnN0IHZlYzQgIEMgPSB2ZWM0KCAwLjEzODE5NjYwMTEyNTAxMSwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjI3NjM5MzIwMjI1MDAyMSwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjQxNDU4OTgwMzM3NTAzMiwgIAogICAgICAgICAgICAgICAgICAgICAgICAtMC40NDcyMTM1OTU0OTk5NTgpOyAKCiAgICAKICAgIHZlYzQgaSAgPSBmbG9vcih2ICsgZG90KHYsIHZlYzQoLjMwOTAxNjk5NDM3NDk0NzQ1MSkpICk7IAogICAgdmVjNCB4MCA9IHYgLSAgIGkgKyBkb3QoaSwgQy54eHh4KTsKCiAgICAKCiAgICAKICAgIHZlYzQgaTA7CiAgICB2ZWMzIGlzWCA9IHN0ZXAoIHgwLnl6dywgeDAueHh4ICk7CiAgICB2ZWMzIGlzWVogPSBzdGVwKCB4MC56d3csIHgwLnl5eiApOwogICAgCiAgICBpMC54ID0gaXNYLnggKyBpc1gueSArIGlzWC56OwogICAgaTAueXp3ID0gMS4wIC0gaXNYOwogICAgCiAgICBpMC55ICs9IGlzWVoueCArIGlzWVoueTsKICAgIGkwLnp3ICs9IDEuMCAtIGlzWVoueHk7CiAgICBpMC56ICs9IGlzWVouejsKICAgIGkwLncgKz0gMS4wIC0gaXNZWi56OwoKICAgIAogICAgdmVjNCBpMyA9IGNsYW1wKCBpMCwgMC4wLCAxLjAgKTsKICAgIHZlYzQgaTIgPSBjbGFtcCggaTAtMS4wLCAwLjAsIDEuMCApOwogICAgdmVjNCBpMSA9IGNsYW1wKCBpMC0yLjAsIDAuMCwgMS4wICk7CgogICAgCiAgICAKICAgIAogICAgCiAgICAKICAgIHZlYzQgeDEgPSB4MCAtIGkxICsgQy54eHh4OwogICAgdmVjNCB4MiA9IHgwIC0gaTIgKyBDLnl5eXk7CiAgICB2ZWM0IHgzID0geDAgLSBpMyArIEMuenp6ejsKICAgIHZlYzQgeDQgPSB4MCArIEMud3d3dzsKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7CiAgICBmbG9hdCBqMCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoaS53KSArIGkueikgKyBpLnkpICsgaS54KTsKICAgIHZlYzQgajEgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlICgKICAgICAgICAgICAgICAgIGkudyArIHZlYzQoaTEudywgaTIudywgaTMudywgMS4wICkpCiAgICAgICAgICAgICsgaS56ICsgdmVjNChpMS56LCBpMi56LCBpMy56LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnkgKyB2ZWM0KGkxLnksIGkyLnksIGkzLnksIDEuMCApKQogICAgICAgICAgICArIGkueCArIHZlYzQoaTEueCwgaTIueCwgaTMueCwgMS4wICkpOwoKICAgIAogICAgCiAgICB2ZWM0IGlwID0gdmVjNCgxLjAvMjk0LjAsIDEuMC80OS4wLCAxLjAvNy4wLCAwLjApIDsKCiAgICB2ZWM0IHAwID0gZ3JhZDQoajAsICAgaXApOwogICAgdmVjNCBwMSA9IGdyYWQ0KGoxLngsIGlwKTsKICAgIHZlYzQgcDIgPSBncmFkNChqMS55LCBpcCk7CiAgICB2ZWM0IHAzID0gZ3JhZDQoajEueiwgaXApOwogICAgdmVjNCBwNCA9IGdyYWQ0KGoxLncsIGlwKTsKCiAgICAKICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QocDAscDApLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpOwogICAgcDAgKj0gbm9ybS54OwogICAgcDEgKj0gbm9ybS55OwogICAgcDIgKj0gbm9ybS56OwogICAgcDMgKj0gbm9ybS53OwogICAgcDQgKj0gdGF5bG9ySW52U3FydChkb3QocDQscDQpKTsKCiAgICAKICAgIHZlYzMgbTAgPSBtYXgoMC42IC0gdmVjMyhkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpKSwgMC4wKTsKICAgIHZlYzIgbTEgPSBtYXgoMC42IC0gdmVjMihkb3QoeDMseDMpLCBkb3QoeDQseDQpICAgICAgICAgICAgKSwgMC4wKTsKICAgIG0wID0gbTAgKiBtMDsKICAgIG0xID0gbTEgKiBtMTsKICAgIHJldHVybiA0OS4wICogKCBkb3QobTAqbTAsIHZlYzMoIGRvdCggcDAsIHgwICksIGRvdCggcDEsIHgxICksIGRvdCggcDIsIHgyICkpKQogICAgICAgICAgICAgICAgKyBkb3QobTEqbTEsIHZlYzIoIGRvdCggcDMsIHgzICksIGRvdCggcDQsIHg0ICkgKSApICkgOwp9Cgp2ZWMyIHNub2lzZTIoIHZlYzIgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjMiggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzIoIHgueSAtIDE5LjEsIHgueCArIDQ3LjIgKSk7CiAgICByZXR1cm4gdmVjMiggcyAsIHMxICk7Cn0KCnZlYzMgc25vaXNlMyggdmVjMyB4ICl7CiAgICBmbG9hdCBzICA9IHNub2lzZSh2ZWMzKCB4ICkpOwogICAgZmxvYXQgczEgPSBzbm9pc2UodmVjMyggeC55IC0gMTkuMSAsIHgueiArIDMzLjQgLCB4LnggKyA0Ny4yICkpOwogICAgZmxvYXQgczIgPSBzbm9pc2UodmVjMyggeC56ICsgNzQuMiAsIHgueCAtIDEyNC41ICwgeC55ICsgOTkuNCApKTsKICAgIHJldHVybiB2ZWMzKCBzICwgczEgLCBzMiApOwp9Cgp2ZWMzIHNub2lzZTMoIHZlYzQgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjNCggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzQoIHgueSAtIDE5LjEgLCB4LnogKyAzMy40ICwgeC54ICsgNDcuMiwgeC53ICkpOwogICAgZmxvYXQgczIgPSBzbm9pc2UodmVjNCggeC56ICsgNzQuMiAsIHgueCAtIDEyNC41ICwgeC55ICsgOTkuNCwgeC53ICkpOwogICAgcmV0dXJuIHZlYzMoIHMgLCBzMSAsIHMyICk7Cn0KCiNlbmRpZgoKCgoKCgojaWZuZGVmIEZOQ19NT0QyODkKI2RlZmluZSBGTkNfTU9EMjg5CgpmbG9hdCBtb2QyODkoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzIgbW9kMjg5KGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzMgbW9kMjg5KGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzQgbW9kMjg5KGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19QRVJNVVRFCiNkZWZpbmUgRk5DX1BFUk1VVEUKCmZsb2F0IHBlcm11dGUoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzIgcGVybXV0ZShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMzIHBlcm11dGUoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjNCBwZXJtdXRlKGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfVEFZTE9SSU5WU1FSVAojZGVmaW5lIEZOQ19UQVlMT1JJTlZTUVJUCmZsb2F0IHRheWxvckludlNxcnQoaW4gZmxvYXQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzIgdGF5bG9ySW52U3FydChpbiB2ZWMyIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMzIHRheWxvckludlNxcnQoaW4gdmVjMyByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjNCB0YXlsb3JJbnZTcXJ0KGluIHZlYzQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CiNlbmRpZgoKCiNpZm5kZWYgRk5DX0dSQUQ0CiNkZWZpbmUgRk5DX0dSQUQ0CnZlYzQgZ3JhZDQoZmxvYXQgaiwgdmVjNCBpcCkgewogICAgY29uc3QgdmVjNCBvbmVzID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAtMS4wKTsKICAgIHZlYzQgcCxzOwoKICAgIHAueHl6ID0gZmxvb3IoIGZyYWN0ICh2ZWMzKGopICogaXAueHl6KSAqIDcuMCkgKiBpcC56IC0gMS4wOwogICAgcC53ID0gMS41IC0gZG90KGFicyhwLnh5eiksIG9uZXMueHl6KTsKICAgIHMgPSB2ZWM0KGxlc3NUaGFuKHAsIHZlYzQoMC4wKSkpOwogICAgcC54eXogPSBwLnh5eiArIChzLnh5eioyLjAgLSAxLjApICogcy53d3c7CgogICAgcmV0dXJuIHA7Cn0KI2VuZGlmCgoKCgojaWZuZGVmIEZOQ19TTk9JU0UKI2RlZmluZSBGTkNfU05PSVNFCmZsb2F0IHNub2lzZShpbiB2ZWMyIHYpIHsKICAgIGNvbnN0IHZlYzQgQyA9IHZlYzQoMC4yMTEzMjQ4NjU0MDUxODcsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC4zNjYwMjU0MDM3ODQ0MzksICAKICAgICAgICAgICAgICAgICAgICAgICAgLTAuNTc3MzUwMjY5MTg5NjI2LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIDAuMDI0MzkwMjQzOTAyNDM5KTsgCiAgICAKICAgIHZlYzIgaSAgPSBmbG9vcih2ICsgZG90KHYsIEMueXkpICk7CiAgICB2ZWMyIHgwID0gdiAtICAgaSArIGRvdChpLCBDLnh4KTsKCiAgICAKICAgIHZlYzIgaTE7CiAgICAKICAgIAogICAgaTEgPSAoeDAueCA+IHgwLnkpID8gdmVjMigxLjAsIDAuMCkgOiB2ZWMyKDAuMCwgMS4wKTsKICAgIAogICAgCiAgICAKICAgIHZlYzQgeDEyID0geDAueHl4eSArIEMueHh6ejsKICAgIHgxMi54eSAtPSBpMTsKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7IAogICAgdmVjMyBwID0gcGVybXV0ZSggcGVybXV0ZSggaS55ICsgdmVjMygwLjAsIGkxLnksIDEuMCApKQogICAgKyBpLnggKyB2ZWMzKDAuMCwgaTEueCwgMS4wICkpOwoKICAgIHZlYzMgbSA9IG1heCgwLjUgLSB2ZWMzKGRvdCh4MCx4MCksIGRvdCh4MTIueHkseDEyLnh5KSwgZG90KHgxMi56dyx4MTIuencpKSwgMC4wKTsKICAgIG0gPSBtKm0gOwogICAgbSA9IG0qbSA7CgogICAgCiAgICAKCiAgICB2ZWMzIHggPSAyLjAgKiBmcmFjdChwICogQy53d3cpIC0gMS4wOwogICAgdmVjMyBoID0gYWJzKHgpIC0gMC41OwogICAgdmVjMyBveCA9IGZsb29yKHggKyAwLjUpOwogICAgdmVjMyBhMCA9IHggLSBveDsKCiAgICAKICAgIAogICAgbSAqPSAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqICggYTAqYTAgKyBoKmggKTsKCiAgICAKICAgIHZlYzMgZzsKICAgIGcueCAgPSBhMC54ICAqIHgwLnggICsgaC54ICAqIHgwLnk7CiAgICBnLnl6ID0gYTAueXogKiB4MTIueHogKyBoLnl6ICogeDEyLnl3OwogICAgcmV0dXJuIDEzMC4wICogZG90KG0sIGcpOwp9CgoKZmxvYXQgc25vaXNlKGluIHZlYzMgdikgewogICAgY29uc3QgdmVjMiAgQyA9IHZlYzIoMS4wLzYuMCwgMS4wLzMuMCkgOwogICAgY29uc3QgdmVjNCAgRCA9IHZlYzQoMC4wLCAwLjUsIDEuMCwgMi4wKTsKCiAgICAKICAgIHZlYzMgaSAgPSBmbG9vcih2ICsgZG90KHYsIEMueXl5KSApOwogICAgdmVjMyB4MCA9ICAgdiAtIGkgKyBkb3QoaSwgQy54eHgpIDsKCiAgICAKICAgIHZlYzMgZyA9IHN0ZXAoeDAueXp4LCB4MC54eXopOwogICAgdmVjMyBsID0gMS4wIC0gZzsKICAgIHZlYzMgaTEgPSBtaW4oIGcueHl6LCBsLnp4eSApOwogICAgdmVjMyBpMiA9IG1heCggZy54eXosIGwuenh5ICk7CgogICAgCiAgICAKICAgIAogICAgCiAgICB2ZWMzIHgxID0geDAgLSBpMSArIEMueHh4OwogICAgdmVjMyB4MiA9IHgwIC0gaTIgKyBDLnl5eTsgCiAgICB2ZWMzIHgzID0geDAgLSBELnl5eTsgICAgICAKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7CiAgICB2ZWM0IHAgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKAogICAgICAgICAgICAgICAgaS56ICsgdmVjNCgwLjAsIGkxLnosIGkyLnosIDEuMCApKQogICAgICAgICAgICArIGkueSArIHZlYzQoMC4wLCBpMS55LCBpMi55LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnggKyB2ZWM0KDAuMCwgaTEueCwgaTIueCwgMS4wICkpOwoKICAgIAogICAgCiAgICBmbG9hdCBuXyA9IDAuMTQyODU3MTQyODU3OyAKICAgIHZlYzMgIG5zID0gbl8gKiBELnd5eiAtIEQueHp4OwoKICAgIHZlYzQgaiA9IHAgLSA0OS4wICogZmxvb3IocCAqIG5zLnogKiBucy56KTsgIAoKICAgIHZlYzQgeF8gPSBmbG9vcihqICogbnMueik7CiAgICB2ZWM0IHlfID0gZmxvb3IoaiAtIDcuMCAqIHhfICk7ICAgIAoKICAgIHZlYzQgeCA9IHhfICpucy54ICsgbnMueXl5eTsKICAgIHZlYzQgeSA9IHlfICpucy54ICsgbnMueXl5eTsKICAgIHZlYzQgaCA9IDEuMCAtIGFicyh4KSAtIGFicyh5KTsKCiAgICB2ZWM0IGIwID0gdmVjNCggeC54eSwgeS54eSApOwogICAgdmVjNCBiMSA9IHZlYzQoIHguencsIHkuencgKTsKCiAgICAKICAgIAogICAgdmVjNCBzMCA9IGZsb29yKGIwKSoyLjAgKyAxLjA7CiAgICB2ZWM0IHMxID0gZmxvb3IoYjEpKjIuMCArIDEuMDsKICAgIHZlYzQgc2ggPSAtc3RlcChoLCB2ZWM0KDAuMCkpOwoKICAgIHZlYzQgYTAgPSBiMC54enl3ICsgczAueHp5dypzaC54eHl5IDsKICAgIHZlYzQgYTEgPSBiMS54enl3ICsgczEueHp5dypzaC56end3IDsKCiAgICB2ZWMzIHAwID0gdmVjMyhhMC54eSxoLngpOwogICAgdmVjMyBwMSA9IHZlYzMoYTAuencsaC55KTsKICAgIHZlYzMgcDIgPSB2ZWMzKGExLnh5LGgueik7CiAgICB2ZWMzIHAzID0gdmVjMyhhMS56dyxoLncpOwoKICAgIAogICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChwMCxwMCksIGRvdChwMSxwMSksIGRvdChwMiwgcDIpLCBkb3QocDMscDMpKSk7CiAgICBwMCAqPSBub3JtLng7CiAgICBwMSAqPSBub3JtLnk7CiAgICBwMiAqPSBub3JtLno7CiAgICBwMyAqPSBub3JtLnc7CgogICAgCiAgICB2ZWM0IG0gPSBtYXgoMC42IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKSwgMC4wKTsKICAgIG0gPSBtICogbTsKICAgIHJldHVybiA0Mi4wICogZG90KCBtKm0sIHZlYzQoIGRvdChwMCx4MCksIGRvdChwMSx4MSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHAyLHgyKSwgZG90KHAzLHgzKSApICk7Cn0KCmZsb2F0IHNub2lzZShpbiB2ZWM0IHYpIHsKICAgIGNvbnN0IHZlYzQgIEMgPSB2ZWM0KCAwLjEzODE5NjYwMTEyNTAxMSwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjI3NjM5MzIwMjI1MDAyMSwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjQxNDU4OTgwMzM3NTAzMiwgIAogICAgICAgICAgICAgICAgICAgICAgICAtMC40NDcyMTM1OTU0OTk5NTgpOyAKCiAgICAKICAgIHZlYzQgaSAgPSBmbG9vcih2ICsgZG90KHYsIHZlYzQoLjMwOTAxNjk5NDM3NDk0NzQ1MSkpICk7IAogICAgdmVjNCB4MCA9IHYgLSAgIGkgKyBkb3QoaSwgQy54eHh4KTsKCiAgICAKCiAgICAKICAgIHZlYzQgaTA7CiAgICB2ZWMzIGlzWCA9IHN0ZXAoIHgwLnl6dywgeDAueHh4ICk7CiAgICB2ZWMzIGlzWVogPSBzdGVwKCB4MC56d3csIHgwLnl5eiApOwogICAgCiAgICBpMC54ID0gaXNYLnggKyBpc1gueSArIGlzWC56OwogICAgaTAueXp3ID0gMS4wIC0gaXNYOwogICAgCiAgICBpMC55ICs9IGlzWVoueCArIGlzWVoueTsKICAgIGkwLnp3ICs9IDEuMCAtIGlzWVoueHk7CiAgICBpMC56ICs9IGlzWVouejsKICAgIGkwLncgKz0gMS4wIC0gaXNZWi56OwoKICAgIAogICAgdmVjNCBpMyA9IGNsYW1wKCBpMCwgMC4wLCAxLjAgKTsKICAgIHZlYzQgaTIgPSBjbGFtcCggaTAtMS4wLCAwLjAsIDEuMCApOwogICAgdmVjNCBpMSA9IGNsYW1wKCBpMC0yLjAsIDAuMCwgMS4wICk7CgogICAgCiAgICAKICAgIAogICAgCiAgICAKICAgIHZlYzQgeDEgPSB4MCAtIGkxICsgQy54eHh4OwogICAgdmVjNCB4MiA9IHgwIC0gaTIgKyBDLnl5eXk7CiAgICB2ZWM0IHgzID0geDAgLSBpMyArIEMuenp6ejsKICAgIHZlYzQgeDQgPSB4MCArIEMud3d3dzsKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7CiAgICBmbG9hdCBqMCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoaS53KSArIGkueikgKyBpLnkpICsgaS54KTsKICAgIHZlYzQgajEgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlICgKICAgICAgICAgICAgICAgIGkudyArIHZlYzQoaTEudywgaTIudywgaTMudywgMS4wICkpCiAgICAgICAgICAgICsgaS56ICsgdmVjNChpMS56LCBpMi56LCBpMy56LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnkgKyB2ZWM0KGkxLnksIGkyLnksIGkzLnksIDEuMCApKQogICAgICAgICAgICArIGkueCArIHZlYzQoaTEueCwgaTIueCwgaTMueCwgMS4wICkpOwoKICAgIAogICAgCiAgICB2ZWM0IGlwID0gdmVjNCgxLjAvMjk0LjAsIDEuMC80OS4wLCAxLjAvNy4wLCAwLjApIDsKCiAgICB2ZWM0IHAwID0gZ3JhZDQoajAsICAgaXApOwogICAgdmVjNCBwMSA9IGdyYWQ0KGoxLngsIGlwKTsKICAgIHZlYzQgcDIgPSBncmFkNChqMS55LCBpcCk7CiAgICB2ZWM0IHAzID0gZ3JhZDQoajEueiwgaXApOwogICAgdmVjNCBwNCA9IGdyYWQ0KGoxLncsIGlwKTsKCiAgICAKICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QocDAscDApLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpOwogICAgcDAgKj0gbm9ybS54OwogICAgcDEgKj0gbm9ybS55OwogICAgcDIgKj0gbm9ybS56OwogICAgcDMgKj0gbm9ybS53OwogICAgcDQgKj0gdGF5bG9ySW52U3FydChkb3QocDQscDQpKTsKCiAgICAKICAgIHZlYzMgbTAgPSBtYXgoMC42IC0gdmVjMyhkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpKSwgMC4wKTsKICAgIHZlYzIgbTEgPSBtYXgoMC42IC0gdmVjMihkb3QoeDMseDMpLCBkb3QoeDQseDQpICAgICAgICAgICAgKSwgMC4wKTsKICAgIG0wID0gbTAgKiBtMDsKICAgIG0xID0gbTEgKiBtMTsKICAgIHJldHVybiA0OS4wICogKCBkb3QobTAqbTAsIHZlYzMoIGRvdCggcDAsIHgwICksIGRvdCggcDEsIHgxICksIGRvdCggcDIsIHgyICkpKQogICAgICAgICAgICAgICAgKyBkb3QobTEqbTEsIHZlYzIoIGRvdCggcDMsIHgzICksIGRvdCggcDQsIHg0ICkgKSApICkgOwp9Cgp2ZWMyIHNub2lzZTIoIHZlYzIgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjMiggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzIoIHgueSAtIDE5LjEsIHgueCArIDQ3LjIgKSk7CiAgICByZXR1cm4gdmVjMiggcyAsIHMxICk7Cn0KCnZlYzMgc25vaXNlMyggdmVjMyB4ICl7CiAgICBmbG9hdCBzICA9IHNub2lzZSh2ZWMzKCB4ICkpOwogICAgZmxvYXQgczEgPSBzbm9pc2UodmVjMyggeC55IC0gMTkuMSAsIHgueiArIDMzLjQgLCB4LnggKyA0Ny4yICkpOwogICAgZmxvYXQgczIgPSBzbm9pc2UodmVjMyggeC56ICsgNzQuMiAsIHgueCAtIDEyNC41ICwgeC55ICsgOTkuNCApKTsKICAgIHJldHVybiB2ZWMzKCBzICwgczEgLCBzMiApOwp9Cgp2ZWMzIHNub2lzZTMoIHZlYzQgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjNCggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzQoIHgueSAtIDE5LjEgLCB4LnogKyAzMy40ICwgeC54ICsgNDcuMiwgeC53ICkpOwogICAgZmxvYXQgczIgPSBzbm9pc2UodmVjNCggeC56ICsgNzQuMiAsIHgueCAtIDEyNC41ICwgeC55ICsgOTkuNCwgeC53ICkpOwogICAgcmV0dXJuIHZlYzMoIHMgLCBzMSAsIHMyICk7Cn0KCiNlbmRpZgoKCgojaWZuZGVmIFJBTkRPTV9TQ0FMRQojaWYgZGVmaW5lZChSQU5ET01fSElHSEVSX1JBTkdFKQojZGVmaW5lIFJBTkRPTV9TQ0FMRSB2ZWM0KC4xMDMxLCAuMTAzMCwgLjA5NzMsIC4xMDk5KQojZWxzZQojZGVmaW5lIFJBTkRPTV9TQ0FMRSB2ZWM0KDQ0My44OTcsIDQ0MS40MjMsIC4wOTczLCAuMTA5OSkKI2VuZGlmCiNlbmRpZgoKI2lmbmRlZiBGTkNfUkFORE9NCiNkZWZpbmUgRk5DX1JBTkRPTQpmbG9hdCByYW5kb20oaW4gZmxvYXQgeCkgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHggPSBmcmFjdCh4ICogUkFORE9NX1NDQUxFLngpOwogICAgeCAqPSB4ICsgMzMuMzM7CiAgICB4ICo9IHggKyB4OwogICAgcmV0dXJuIGZyYWN0KHgpOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbih4KSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzIgc3QpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICB2ZWMzIHAzICA9IGZyYWN0KHZlYzMoc3QueHl4KSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAzMy4zMyk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnggKyBwMy55KSAqIHAzLnopOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbihkb3Qoc3QueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjMyBwb3MpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICBwb3MgID0gZnJhY3QocG9zICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwb3MgKz0gZG90KHBvcywgcG9zLnp5eCArIDMxLjMyKTsKICAgIHJldHVybiBmcmFjdCgocG9zLnggKyBwb3MueSkgKiBwb3Mueik7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChwb3MueHl6LCB2ZWMzKDcwLjk4OTgsIDc4LjIzMywgMzIuNDM1NSkpKSAqIDQzNzU4LjU0NTMxMjMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzQgcG9zKSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgcG9zID0gZnJhY3QocG9zICogUkFORE9NX1NDQUxFKTsKICAgIHBvcyArPSBkb3QocG9zLCBwb3Mud3p4eSszMy4zMyk7CiAgICByZXR1cm4gZnJhY3QoKHBvcy54ICsgcG9zLnkpICogKHBvcy56ICsgcG9zLncpKTsKI2Vsc2UKICAgIGZsb2F0IGRvdF9wcm9kdWN0ID0gZG90KHBvcywgdmVjNCgxMi45ODk4LDc4LjIzMyw0NS4xNjQsOTQuNjczKSk7CiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdF9wcm9kdWN0KSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKdmVjMiByYW5kb20yKGZsb2F0IHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHApICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzIgcmFuZG9tMih2ZWMyIHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdChwLnh5eCAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMyIHJhbmRvbTIodmVjMyBwMykgewogICAgcDMgPSBmcmFjdChwMyAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMzIHJhbmRvbTMoZmxvYXQgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eHkgKyBwMy55enopICogcDMuenl4KTsgCn0KCnZlYzMgcmFuZG9tMyh2ZWMyIHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHAueHl4KSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55eHogKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4eSArIHAzLnl6eikgKiBwMy56eXgpOwp9Cgp2ZWMzIHJhbmRvbTModmVjMyBwKSB7CiAgICBwID0gZnJhY3QocCAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcCArPSBkb3QocCwgcC55eHogKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAueHh5ICsgcC55enopICogcC56eXgpOwp9Cgp2ZWM0IHJhbmRvbTQoZmxvYXQgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsgICAKfQoKdmVjNCByYW5kb200KHZlYzIgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAueHl4eSAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9Cgp2ZWM0IHJhbmRvbTQodmVjMyBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocC54eXp4ICAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9Cgp2ZWM0IHJhbmRvbTQodmVjNCBwNCkgewogICAgcDQgPSBmcmFjdChwNCAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19TUkFORE9NCiNkZWZpbmUgRk5DX1NSQU5ET00KCmZsb2F0IHNyYW5kb20oaW4gZmxvYXQgeCkgewogIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbih4KSAqIDQzNzU4LjU0NTMpOwp9CgpmbG9hdCBzcmFuZG9tKGluIHZlYzIgc3QpIHsKICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oZG90KHN0Lnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpOwp9CgpmbG9hdCBzcmFuZG9tKGluIHZlYzMgcG9zKSB7CiAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKGRvdChwb3MueHl6LCB2ZWMzKDcwLjk4OTgsIDc4LjIzMywgMzIuNDM1NSkpKSAqIDQzNzU4LjU0NTMxMjMpOwp9CgpmbG9hdCBzcmFuZG9tKGluIHZlYzQgcG9zKSB7CiAgICBmbG9hdCBkb3RfcHJvZHVjdCA9IGRvdChwb3MsIHZlYzQoMTIuOTg5OCw3OC4yMzMsNDUuMTY0LDk0LjY3MykpOwogICAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKGRvdF9wcm9kdWN0KSAqIDQzNzU4LjU0NTMpOwp9Cgp2ZWMyIHNyYW5kb20yKGluIHZlYzIgc3QpIHsKICAgIGNvbnN0IHZlYzIgayA9IHZlYzIoLjMxODMwOTksIC4zNjc4Nzk0KTsKICAgIHN0ID0gc3QgKiBrICsgay55eDsKICAgIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KDE2LiAqIGsgKiBmcmFjdChzdC54ICogc3QueSAqIChzdC54ICsgc3QueSkpKTsKfQoKdmVjMyBzcmFuZG9tMyhpbiB2ZWMzIHApIHsKICAgIHAgPSB2ZWMzKCBkb3QocCwgdmVjMygxMjcuMSwgMzExLjcsIDc0LjcpKSwKICAgICAgICAgICAgZG90KHAsIHZlYzMoMjY5LjUsIDE4My4zLCAyNDYuMSkpLAogICAgICAgICAgICBkb3QocCwgdmVjMygxMTMuNSwgMjcxLjksIDEyNC42KSkpOwogICAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKHApICogNDM3NTguNTQ1MzEyMyk7Cn0KCnZlYzIgc3JhbmRvbTIoaW4gdmVjMiBwLCBjb25zdCBpbiBmbG9hdCB0aWxlTGVuZ3RoKSB7CiAgICBwID0gbW9kKHAsIHZlYzIodGlsZUxlbmd0aCkpOwogICAgcmV0dXJuIHNyYW5kb20yKHApOwp9Cgp2ZWMzIHNyYW5kb20zKGluIHZlYzMgcCwgY29uc3QgaW4gZmxvYXQgdGlsZUxlbmd0aCkgewogICAgcCA9IG1vZChwLCB2ZWMzKHRpbGVMZW5ndGgpKTsKICAgIHJldHVybiBzcmFuZG9tMyhwKTsKfQoKI2VuZGlmCgoKI2lmbmRlZiBGTkNfQ1VCSUMKI2RlZmluZSBGTkNfQ1VCSUMgCmZsb2F0IGN1YmljKGNvbnN0IGluIGZsb2F0IHYpIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQp2ZWMyICBjdWJpYyhjb25zdCBpbiB2ZWMyIHYpICB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KdmVjMyAgY3ViaWMoY29uc3QgaW4gdmVjMyB2KSAgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CnZlYzQgIGN1YmljKGNvbnN0IGluIHZlYzQgdikgIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQoKZmxvYXQgY3ViaWMoY29uc3QgaW4gZmxvYXQgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgZmxvYXQgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIGZsb2F0IHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9Cgp2ZWMyIGN1YmljKGNvbnN0IGluIHZlYzIgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgdmVjMiB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgdmVjMiB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQoKdmVjMyBjdWJpYyhjb25zdCBpbiB2ZWMzIHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIHZlYzMgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIHZlYzMgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KCnZlYzQgY3ViaWMoY29uc3QgaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICB2ZWM0IHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICB2ZWM0IHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9CiNlbmRpZgoKCiNpZm5kZWYgRk5DX1FVSU5USUMKI2RlZmluZSBGTkNfUVVJTlRJQyAKCmZsb2F0IHF1aW50aWMoY29uc3QgaW4gZmxvYXQgdikgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzIgIHF1aW50aWMoY29uc3QgaW4gdmVjMiB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzMgIHF1aW50aWMoY29uc3QgaW4gdmVjMyB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzQgIHF1aW50aWMoY29uc3QgaW4gdmVjNCB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfR05PSVNFCiNkZWZpbmUgRk5DX0dOT0lTRQoKZmxvYXQgZ25vaXNlKGZsb2F0IHgpIHsKICAgIGZsb2F0IGkgPSBmbG9vcih4KTsgIAogICAgZmxvYXQgZiA9IGZyYWN0KHgpOyAgCiAgICByZXR1cm4gbWl4KHJhbmRvbShpKSwgcmFuZG9tKGkgKyAxLjApLCBzbW9vdGhzdGVwKDAuLDEuLGYpKTsgCn0KCmZsb2F0IGdub2lzZSh2ZWMyIHN0KSB7CiAgICB2ZWMyIGkgPSBmbG9vcihzdCk7CiAgICB2ZWMyIGYgPSBmcmFjdChzdCk7CiAgICBmbG9hdCBhID0gcmFuZG9tKGkpOwogICAgZmxvYXQgYiA9IHJhbmRvbShpICsgdmVjMigxLjAsIDAuMCkpOwogICAgZmxvYXQgYyA9IHJhbmRvbShpICsgdmVjMigwLjAsIDEuMCkpOwogICAgZmxvYXQgZCA9IHJhbmRvbShpICsgdmVjMigxLjAsIDEuMCkpOwogICAgdmVjMiB1ID0gY3ViaWMoZik7CiAgICByZXR1cm4gbWl4KCBhLCBiLCB1LngpICsKICAgICAgICAgICAgICAgIChjIC0gYSkqIHUueSAqICgxLjAgLSB1LngpICsKICAgICAgICAgICAgICAgIChkIC0gYikgKiB1LnggKiB1Lnk7Cn0KCmZsb2F0IGdub2lzZSh2ZWMzIHApIHsKICAgIHZlYzMgaSA9IGZsb29yKHApOwogICAgdmVjMyBmID0gZnJhY3QocCk7CiAgICB2ZWMzIHUgPSBxdWludGljKGYpOwogICAgcmV0dXJuIC0xLjAgKyAyLjAgKiBtaXgoIG1peCggbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDAuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDAuMCwwLjApKSwgdS54KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMS4wLDAuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMS4wLDAuMCkpLCB1LngpLCB1LnkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl4KCBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMC4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMC4wLDEuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwxLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwxLjAsMS4wKSksIHUueCksIHUueSksIHUueiApOwp9CgpmbG9hdCBnbm9pc2UodmVjMyBwLCBmbG9hdCB0aWxlTGVuZ3RoKSB7CiAgICB2ZWMzIGkgPSBmbG9vcihwKTsKICAgIHZlYzMgZiA9IGZyYWN0KHApOwogICAgICAgICAgICAKICAgIHZlYzMgdSA9IHF1aW50aWMoZik7CiAgICAgICAgCiAgICByZXR1cm4gbWl4KCBtaXgoIG1peCggZG90KCBzcmFuZG9tMyhpICsgdmVjMygwLjAsMC4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygwLjAsMC4wLDAuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMS4wLDAuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMS4wLDAuMCwwLjApKSwgdS54KSwKICAgICAgICAgICAgICAgICAgICBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDEuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDEuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwxLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwxLjAsMC4wKSksIHUueCksIHUueSksCiAgICAgICAgICAgICAgICBtaXgoIG1peCggZG90KCBzcmFuZG9tMyhpICsgdmVjMygwLjAsMC4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygwLjAsMC4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMS4wLDAuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMS4wLDAuMCwxLjApKSwgdS54KSwKICAgICAgICAgICAgICAgICAgICBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDEuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDEuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwxLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwxLjAsMS4wKSksIHUueCksIHUueSksIHUueiApOwp9Cgp2ZWMzIGdub2lzZTModmVjMyB4KSB7CiAgICByZXR1cm4gdmVjMyhnbm9pc2UoeCt2ZWMzKDEyMy40NTYsIDAuNTY3LCAwLjM3KSksCiAgICAgICAgICAgICAgICBnbm9pc2UoeCt2ZWMzKDAuMTEsIDQ3LjQzLCAxOS4xNykpLAogICAgICAgICAgICAgICAgZ25vaXNlKHgpICk7Cn0KCiNlbmRpZgoKCgoKI2lmbmRlZiBGQk1fT0NUQVZFUwojZGVmaW5lIEZCTV9PQ1RBVkVTIDQKI2VuZGlmCgojaWZuZGVmIEZCTV9OT0lTRV9GTkMKI2RlZmluZSBGQk1fTk9JU0VfRk5DKFVWKSBzbm9pc2UoVVYpCiNlbmRpZgoKI2lmbmRlZiBGQk1fTk9JU0UyX0ZOQwojZGVmaW5lIEZCTV9OT0lTRTJfRk5DKFVWKSBGQk1fTk9JU0VfRk5DKFVWKQojZW5kaWYKCiNpZm5kZWYgRkJNX05PSVNFM19GTkMKI2RlZmluZSBGQk1fTk9JU0UzX0ZOQyhVVikgRkJNX05PSVNFX0ZOQyhVVikKI2VuZGlmCgojaWZuZGVmIEZCTV9OT0lTRV9USUxBQkxFX0ZOQwojZGVmaW5lIEZCTV9OT0lTRV9USUxBQkxFX0ZOQyhVViwgVElMRSkgZ25vaXNlKFVWLCBUSUxFKQojZW5kaWYKCiNpZm5kZWYgRkJNX05PSVNFM19USUxBQkxFX0ZOQwojZGVmaW5lIEZCTV9OT0lTRTNfVElMQUJMRV9GTkMoVVYsIFRJTEUpIEZCTV9OT0lTRV9USUxBQkxFX0ZOQyhVViwgVElMRSkKI2VuZGlmCgojaWZuZGVmIEZCTV9OT0lTRV9UWVBFCiNkZWZpbmUgRkJNX05PSVNFX1RZUEUgZmxvYXQKI2VuZGlmCgojaWZuZGVmIEZCTV9WQUxVRV9JTklUSUFMCiNkZWZpbmUgRkJNX1ZBTFVFX0lOSVRJQUwgMC4wCiNlbmRpZgoKI2lmbmRlZiBGQk1fU0NBTEVfU0NBTEFSCiNkZWZpbmUgRkJNX1NDQUxFX1NDQUxBUiAyLjAKI2VuZGlmCgojaWZuZGVmIEZCTV9BTVBMSVRVRF9JTklUSUFMCiNkZWZpbmUgRkJNX0FNUExJVFVEX0lOSVRJQUwgMC41CiNlbmRpZgoKI2lmbmRlZiBGQk1fQU1QTElUVURfU0NBTEFSCiNkZWZpbmUgRkJNX0FNUExJVFVEX1NDQUxBUiAwLjUKI2VuZGlmCgojaWZuZGVmIEZOQ19GQk0KI2RlZmluZSBGTkNfRkJNCkZCTV9OT0lTRV9UWVBFIGZibShpbiB2ZWMyIHN0KSB7CiAgICAKICAgIEZCTV9OT0lTRV9UWVBFIHZhbHVlID0gRkJNX05PSVNFX1RZUEUoRkJNX1ZBTFVFX0lOSVRJQUwpOwogICAgZmxvYXQgYW1wbGl0dWQgPSBGQk1fQU1QTElUVURfSU5JVElBTDsKCiAgICAKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgRkJNX09DVEFWRVM7IGkrKykgewogICAgICAgIHZhbHVlICs9IGFtcGxpdHVkICogRkJNX05PSVNFMl9GTkMoc3QpOwogICAgICAgIHN0ICo9IEZCTV9TQ0FMRV9TQ0FMQVI7CiAgICAgICAgYW1wbGl0dWQgKj0gRkJNX0FNUExJVFVEX1NDQUxBUjsKICAgIH0KICAgIHJldHVybiB2YWx1ZTsKfQoKRkJNX05PSVNFX1RZUEUgZmJtKGluIHZlYzMgcG9zKSB7CiAgICAKICAgIEZCTV9OT0lTRV9UWVBFIHZhbHVlID0gRkJNX05PSVNFX1RZUEUoRkJNX1ZBTFVFX0lOSVRJQUwpOwogICAgZmxvYXQgYW1wbGl0dWQgPSBGQk1fQU1QTElUVURfSU5JVElBTDsKCiAgICAKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgRkJNX09DVEFWRVM7IGkrKykgewogICAgICAgIHZhbHVlICs9IGFtcGxpdHVkICogRkJNX05PSVNFM19GTkMocG9zKTsKICAgICAgICBwb3MgKj0gRkJNX1NDQUxFX1NDQUxBUjsKICAgICAgICBhbXBsaXR1ZCAqPSBGQk1fQU1QTElUVURfU0NBTEFSOwogICAgfQogICAgcmV0dXJuIHZhbHVlOwp9CgpGQk1fTk9JU0VfVFlQRSBmYm0odmVjMyBwLCBmbG9hdCB0aWxlTGVuZ3RoKSB7CiAgICBjb25zdCBmbG9hdCBwZXJzaXN0ZW5jZSA9IDAuNTsKICAgIGNvbnN0IGZsb2F0IGxhY3VuYXJpdHkgPSAyLjA7CgogICAgZmxvYXQgYW1wbGl0dWRlID0gMC41OwogICAgRkJNX05PSVNFX1RZUEUgdG90YWwgPSBGQk1fTk9JU0VfVFlQRSgwLjApOwogICAgZmxvYXQgbm9ybWFsaXphdGlvbiA9IDAuMDsKCiAgICBmb3IgKGludCBpID0gMDsgaSA8IEZCTV9PQ1RBVkVTOyArK2kpIHsKICAgICAgICBmbG9hdCBub2lzZVZhbHVlID0gRkJNX05PSVNFM19USUxBQkxFX0ZOQyhwLCB0aWxlTGVuZ3RoICogbGFjdW5hcml0eSAqIDAuNSkgKiAwLjUgKyAwLjU7CiAgICAgICAgdG90YWwgKz0gbm9pc2VWYWx1ZSAqIGFtcGxpdHVkZTsKICAgICAgICBub3JtYWxpemF0aW9uICs9IGFtcGxpdHVkZTsKICAgICAgICBhbXBsaXR1ZGUgKj0gcGVyc2lzdGVuY2U7CiAgICAgICAgcCA9IHAgKiBsYWN1bmFyaXR5OwogICAgfQoKICAgIHJldHVybiB0b3RhbCAvIG5vcm1hbGl6YXRpb247Cn0KI2VuZGlmCgoKCgoKCnZvaWQgbWFpbigpIHsKCiAgdlV2ID0gdXY7CgogIHBvcyA9IHBvc2l0aW9uOwoKICAKCiAgdkRpc3BsYWNlbWVudCA9IGNub2lzZShwb3NpdGlvbiooMC4wICsgMS4wL3Vfc2NhbGUpICsgdmVjMyh1X3RpbWUqdV9zcGVlZCkpOwoKICAKCiAgZmxvYXQgZnJlcXVlbmN5ID0gNC4wOwoKICBmbG9hdCBzdHJpcGVzID0gZnJlcXVlbmN5ICogcG9zaXRpb24ueTsKCiAgZmxvYXQgcm91bmRlZCA9IGZsb29yKHN0cmlwZXMpOwoKICAKCiAgaWYgKG1vZChyb3VuZGVkLCAyLjApID09IDAuMCl7CgogICAgdkRpc3BsYWNlbWVudCAqPSAyLjI7CgogIH0KCiAgCgogIHZlYzMgbmV3UG9zaXRpb24gPSBwb3NpdGlvbiArIG5vcm1hbCAqIHZEaXNwbGFjZW1lbnQqdV9pbnRlbnNpdHk7CgogIAoKICB2ZWM0IG1vZGVsUG9zaXRpb24gPSBtb2RlbE1hdHJpeCAqIHZlYzQobmV3UG9zaXRpb24sIDEuMCk7CgogIHZlYzQgdmlld1Bvc2l0aW9uID0gdmlld01hdHJpeCAqIG1vZGVsUG9zaXRpb247CgogIHZlYzQgcHJvamVjdGVkUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld1Bvc2l0aW9uOwoKCgogIGdsX1Bvc2l0aW9uID0gcHJvamVjdGVkUG9zaXRpb247CgogIAoKICAvL2dsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7CgogIAoKfQoKYCwKICAgICAgICAgICAgICAgIHVuaWZvcm1zOiB7dV9pbnRlbnNpdHk6IHt2YWx1ZTogMC4yNDJ9LHVfY29sb3JzOiB7dmFsdWU6IFtuZXcgVEhSRUUuVmVjdG9yNCgwLjg0NzA1ODgyMzUyOTQxMTgsMC4yMjc0NTA5ODAzOTIxNTY4NiwwLjIzNTI5NDExNzY0NzA1ODgyLDEpLG5ldyBUSFJFRS5WZWN0b3I0KDAuMTMzMzMzMzMzMzMzMzMzMzMsMC4xMjU0OTAxOTYwNzg0MzEzNywwLjEyNTQ5MDE5NjA3ODQzMTM3LDEpXX0sdV9zcGVlZDoge3ZhbHVlOiAwLjIwNX0sdV9zY2FsZToge3ZhbHVlOiAwLjMxfSx1X25vaXNlOiB7dmFsdWU6IHRydWV9LHVfbm9pc2VfY29sb3I6IHt2YWx1ZTogWzEsMCwwXX0sdV90aW1lOiB7dmFsdWU6IDB9LHVfbW91c2U6IHt2YWx1ZTogWzAsMF19LHVfcmVzb2x1dGlvbjoge3ZhbHVlOiBbMjQwLDU4MF19fSwKICAgICAgICAgICAgICAgIHdpcmVmcmFtZTogZmFsc2UsIAogICAgICAgICAgICAgICAgd2lyZWZyYW1lTGluZXdpZHRoOiAwLAogICAgICAgICAgICAgICAgZGl0aGVyaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgIGZsYXRTaGFkaW5nOiB0cnVlLAogICAgICAgICAgICAgICAgZG91YmxlU2lkZWQ6IHRydWUsCiAgICAgICAgICAgICAgICBnbHNsVmVyc2lvbjogIjEwMCIKICAgICAgICAgICAgfSkKICAgICAgICApOyAgCiAgICB9CgogICAgUmVhY3RET00ucmVuZGVyKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLHsKICAgICAgICAgICAgZ2w6IHsKICAgICAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSwKICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogZmFsc2UsCiAgICAgICAgICAgICAgICBhbHBoYTogdHJ1ZSwKICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLAogICAgICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLAogICAgICAgICAgICAgICAgcHJlY2lzaW9uOiAiaGlnaHAiLAogICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiAiaGlnaC1wZXJmb3JtYW5jZSIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVzaXplOnsKICAgICAgICAgICAgICAgIGRlYm91bmNlOiAwLAogICAgICAgICAgICAgICAgc2Nyb2xsOiBmYWxzZSwKICAgICAgICAgICAgICAgIG9mZnNldFNpemU6IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZHByOiAxLAogICAgICAgICAgICBjYW1lcmE6IHsKICAgICAgICAgICAgICAgIGZvdjogNzUsCiAgICAgICAgICAgICAgICBuZWFyOiAwLjEsCiAgICAgICAgICAgICAgICBmYXI6IDEwMDAsCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzAsMCwyXQogICAgICAgICAgICB9LAogICAgICAgICAgICBzdHlsZTp7IGhlaWdodDogIjEwMCUiLCB3aWR0aDogIjEwMCUiIH0KICAgICAgICB9LAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dHVyZU1lc2gpICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICApLCBlbWJlZFJvb3QpOwo8L3NjcmlwdD4KICAgICAgICA8L2hlYWQ+CiAgICAgICAgPGJvZHk+CjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9ib29rLjVmYjExYjhkLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9seWdpYS5mNzQ5MDU5NC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvb3ZlcmZsb3cuOGQ1MDQxNWQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3RyYXNoLjUyNGRiY2QzLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy92ZXJ0aWNhbC45MDYxMDg0OS5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvaG9yaXpvbnRhbC40NGY3NzFmOC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvYWRkLmE1NTI0MGRkLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9zaWcuODUwYTg1ZTcuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL21pbnVzLjFlMWEwYWJkLnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9lZmZlY3QuNDU1NzI0M2Yuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3Zpc2libGUuYzZkNGUxYzAuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2hpZGRlbi41YTRmYzI1NC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvd29ya2VyLmI3NjFmYjExLmpzIC0tPgo8L2JvZHk+CiAgICAgICAgPC9odG1sPg==" class="opacity-30 border-none w-full h-full absolute top-0 left-0">
                    </iframe>
                </div>
                <div class="aspect-video p-4 bg-neutral-800 relative overflow-hidden">
                    <h3 class="font-wide uppercase text-lg z-10 relative">Storage</h3>
                    <p class="font-mono lowercase text-sm z-10 relative">
                        Sandboxed &amp; virtualized file system access makes it safe and easy to save and retrieve data
                    </p>
                    <iframe src="data:text/html;base64,PGh0bWw+CiAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgIGh0bWwsIGJvZHl7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAgICAgPHNjcmlwdCB0eXBlPSJpbXBvcnRtYXAiPgp7CiAgICAiaW1wb3J0cyI6IHsKICAgICAgICAicmVhY3QiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvcmVhY3RAMTguMC4yIiwKICAgICAgICAicmVhY3QtZG9tIjogImh0dHBzOi8vY2RuLnNreXBhY2suZGV2L3JlYWN0LWRvbUAxOC4wLjIiLAogICAgICAgICJ0aHJlZSI6ICJodHRwczovL2Nkbi5za3lwYWNrLmRldi90aHJlZUAwLjE0OC4wIiwKICAgICAgICAicmVhY3QtdGhyZWUvZmliZXIiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvQHJlYWN0LXRocmVlL2ZpYmVyQDcuMC4yNCIKICAgIH0KfQo8L3NjcmlwdD4KPHN0eWxlPgogICAgaHRtbCwgYm9keXsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgcGFkZGluZzogMDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYm9yZGVyOiAwOwogICAgfQogICAgLm50LWVtYmVkewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgIH0KICAgIC5udC1lbWJlZCBjYW52YXN7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQo8L3N0eWxlPgo8c2NyaXB0IHR5cGU9Im1vZHVsZSI+CiAgICBpbXBvcnQgUmVhY3QsIHt1c2VSZWYsdXNlTWVtb30gZnJvbSAncmVhY3QnOwogICAgaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7CiAgICBpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7CiAgICBpbXBvcnQge0NhbnZhcywgdXNlRnJhbWUsIHVzZVRocmVlfSBmcm9tICdyZWFjdC10aHJlZS9maWJlcic7CgogICAgbGV0IGVtYmVkUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZW1iZWRSb290LmNsYXNzTmFtZSA9ICJudC1lbWJlZCI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVtYmVkUm9vdCk7CgogICAgY29uc3QgVGV4dHVyZU1lc2ggPSAoKSA9PiB7CiAgICAgICAgY29uc3QgbWVzaCA9IHVzZVJlZihudWxsKQogICAgICAgIHVzZUZyYW1lKHN0YXRlID0+IHsKICAgICAgICAgICAgY29uc3QgeyBjbG9jaywgbW91c2UsIGdsLCBzY2VuZSwgY2FtZXJhIH0gPSBzdGF0ZQogICAgICAgICAgICBpZihtZXNoLmN1cnJlbnQpewogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfbW91c2UudmFsdWUgPSBbbW91c2UueCAvIDIgKyAwLjUsIG1vdXNlLnkgLyAyICsgMC41XQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA9IGNsb2NrLmdldEVsYXBzZWRUaW1lKCkKICAgICAgICAgICAgICAgIGxldCBjID0gZ2wuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZSA9IFtjLndpZHRoLGMuaGVpZ2h0XQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAKICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnbWVzaCcsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlZjptZXNoLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsMF0sCiAgICAgICAgICAgICAgICBzY2FsZTogNSwKICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBbLTEuNTcwNzk2MzI2Nzk0ODk2NiwwLC0xLjVdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3NwaGVyZUdlb21ldHJ5Jyx7YXJnczpbNCwxMDI0LDEwMjRdfSksIAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdzaGFkZXJNYXRlcmlhbCcsewogICAgICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGAvLyBVTklGT1JNUwoKdW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjsKCnVuaWZvcm0gdmVjMiB1X21vdXNlOwoKdW5pZm9ybSBmbG9hdCB1X3RpbWU7Cgp1bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5OwoKdW5pZm9ybSBmbG9hdCB1X3NwZWVkOwoKdW5pZm9ybSB2ZWM0IHVfY29sb3JzWzJdOwoKdW5pZm9ybSBib29sIHVfcm90YXRlOwoKICAgIAoKdmFyeWluZyB2ZWMyIHZVdjsKCnZhcnlpbmcgZmxvYXQgdkRpc3BsYWNlbWVudDsKCgoKCgoKCiNpZm5kZWYgRk5DX01PRDI4OQojZGVmaW5lIEZOQ19NT0QyODkKCmZsb2F0IG1vZDI4OShjb25zdCBpbiBmbG9hdCB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjMiBtb2QyODkoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjMyBtb2QyODkoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjNCBtb2QyODkoY29uc3QgaW4gdmVjNCB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KCiNlbmRpZgoKCgoKCiNpZm5kZWYgRk5DX1BFUk1VVEUKI2RlZmluZSBGTkNfUEVSTVVURQoKZmxvYXQgcGVybXV0ZShjb25zdCBpbiBmbG9hdCB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMiBwZXJtdXRlKGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzMgcGVybXV0ZShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWM0IHBlcm11dGUoY29uc3QgaW4gdmVjNCB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19UQVlMT1JJTlZTUVJUCiNkZWZpbmUgRk5DX1RBWUxPUklOVlNRUlQKZmxvYXQgdGF5bG9ySW52U3FydChpbiBmbG9hdCByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMiB0YXlsb3JJbnZTcXJ0KGluIHZlYzIgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzMgdGF5bG9ySW52U3FydChpbiB2ZWMzIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWM0IHRheWxvckludlNxcnQoaW4gdmVjNCByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KI2VuZGlmCgoKI2lmbmRlZiBGTkNfUVVJTlRJQwojZGVmaW5lIEZOQ19RVUlOVElDIAoKZmxvYXQgcXVpbnRpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMiAgcXVpbnRpYyhjb25zdCBpbiB2ZWMyIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMyAgcXVpbnRpYyhjb25zdCBpbiB2ZWMzIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjNCAgcXVpbnRpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19QTk9JU0UKI2RlZmluZSBGTkNfUE5PSVNFCgpmbG9hdCBwbm9pc2UoaW4gdmVjMiBQLCBpbiB2ZWMyIHJlcCkgewogICAgdmVjNCBQaSA9IGZsb29yKFAueHl4eSkgKyB2ZWM0KDAuMCwgMC4wLCAxLjAsIDEuMCk7CiAgICB2ZWM0IFBmID0gZnJhY3QoUC54eXh5KSAtIHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsKICAgIFBpID0gbW9kKFBpLCByZXAueHl4eSk7IAogICAgUGkgPSBtb2QyODkoUGkpOyAgICAgICAgCiAgICB2ZWM0IGl4ID0gUGkueHp4ejsKICAgIHZlYzQgaXkgPSBQaS55eXd3OwogICAgdmVjNCBmeCA9IFBmLnh6eHo7CiAgICB2ZWM0IGZ5ID0gUGYueXl3dzsKCiAgICB2ZWM0IGkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpOwoKICAgIHZlYzQgZ3ggPSBmcmFjdChpICogKDEuMCAvIDQxLjApKSAqIDIuMCAtIDEuMCA7CiAgICB2ZWM0IGd5ID0gYWJzKGd4KSAtIDAuNSA7CiAgICB2ZWM0IHR4ID0gZmxvb3IoZ3ggKyAwLjUpOwogICAgZ3ggPSBneCAtIHR4OwoKICAgIHZlYzIgZzAwID0gdmVjMihneC54LGd5LngpOwogICAgdmVjMiBnMTAgPSB2ZWMyKGd4LnksZ3kueSk7CiAgICB2ZWMyIGcwMSA9IHZlYzIoZ3gueixneS56KTsKICAgIHZlYzIgZzExID0gdmVjMihneC53LGd5LncpOwoKICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwLCBnMDApLCBkb3QoZzAxLCBnMDEpLCBkb3QoZzEwLCBnMTApLCBkb3QoZzExLCBnMTEpKSk7CiAgICBnMDAgKj0gbm9ybS54OwogICAgZzAxICo9IG5vcm0ueTsKICAgIGcxMCAqPSBub3JtLno7CiAgICBnMTEgKj0gbm9ybS53OwoKICAgIGZsb2F0IG4wMCA9IGRvdChnMDAsIHZlYzIoZngueCwgZnkueCkpOwogICAgZmxvYXQgbjEwID0gZG90KGcxMCwgdmVjMihmeC55LCBmeS55KSk7CiAgICBmbG9hdCBuMDEgPSBkb3QoZzAxLCB2ZWMyKGZ4LnosIGZ5LnopKTsKICAgIGZsb2F0IG4xMSA9IGRvdChnMTEsIHZlYzIoZngudywgZnkudykpOwoKICAgIHZlYzIgZmFkZV94eSA9IHF1aW50aWMoUGYueHkpOwogICAgdmVjMiBuX3ggPSBtaXgodmVjMihuMDAsIG4wMSksIHZlYzIobjEwLCBuMTEpLCBmYWRlX3h5LngpOwogICAgZmxvYXQgbl94eSA9IG1peChuX3gueCwgbl94LnksIGZhZGVfeHkueSk7CiAgICByZXR1cm4gMi4zICogbl94eTsKfQoKZmxvYXQgcG5vaXNlKGluIHZlYzMgUCwgaW4gdmVjMyByZXApIHsKICAgIHZlYzMgUGkwID0gbW9kKGZsb29yKFApLCByZXApOyAKICAgIHZlYzMgUGkxID0gbW9kKFBpMCArIHZlYzMoMS4wKSwgcmVwKTsgCiAgICBQaTAgPSBtb2QyODkoUGkwKTsKICAgIFBpMSA9IG1vZDI4OShQaTEpOwogICAgdmVjMyBQZjAgPSBmcmFjdChQKTsgCiAgICB2ZWMzIFBmMSA9IFBmMCAtIHZlYzMoMS4wKTsgCiAgICB2ZWM0IGl4ID0gdmVjNChQaTAueCwgUGkxLngsIFBpMC54LCBQaTEueCk7CiAgICB2ZWM0IGl5ID0gdmVjNChQaTAueXksIFBpMS55eSk7CiAgICB2ZWM0IGl6MCA9IFBpMC56enp6OwogICAgdmVjNCBpejEgPSBQaTEuenp6ejsKCiAgICB2ZWM0IGl4eSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7CiAgICB2ZWM0IGl4eTAgPSBwZXJtdXRlKGl4eSArIGl6MCk7CiAgICB2ZWM0IGl4eTEgPSBwZXJtdXRlKGl4eSArIGl6MSk7CgogICAgdmVjNCBneDAgPSBpeHkwICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd5MCA9IGZyYWN0KGZsb29yKGd4MCkgKiAoMS4wIC8gNy4wKSkgLSAwLjU7CiAgICBneDAgPSBmcmFjdChneDApOwogICAgdmVjNCBnejAgPSB2ZWM0KDAuNSkgLSBhYnMoZ3gwKSAtIGFicyhneTApOwogICAgdmVjNCBzejAgPSBzdGVwKGd6MCwgdmVjNCgwLjApKTsKICAgIGd4MCAtPSBzejAgKiAoc3RlcCgwLjAsIGd4MCkgLSAwLjUpOwogICAgZ3kwIC09IHN6MCAqIChzdGVwKDAuMCwgZ3kwKSAtIDAuNSk7CgogICAgdmVjNCBneDEgPSBpeHkxICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd5MSA9IGZyYWN0KGZsb29yKGd4MSkgKiAoMS4wIC8gNy4wKSkgLSAwLjU7CiAgICBneDEgPSBmcmFjdChneDEpOwogICAgdmVjNCBnejEgPSB2ZWM0KDAuNSkgLSBhYnMoZ3gxKSAtIGFicyhneTEpOwogICAgdmVjNCBzejEgPSBzdGVwKGd6MSwgdmVjNCgwLjApKTsKICAgIGd4MSAtPSBzejEgKiAoc3RlcCgwLjAsIGd4MSkgLSAwLjUpOwogICAgZ3kxIC09IHN6MSAqIChzdGVwKDAuMCwgZ3kxKSAtIDAuNSk7CgogICAgdmVjMyBnMDAwID0gdmVjMyhneDAueCxneTAueCxnejAueCk7CiAgICB2ZWMzIGcxMDAgPSB2ZWMzKGd4MC55LGd5MC55LGd6MC55KTsKICAgIHZlYzMgZzAxMCA9IHZlYzMoZ3gwLnosZ3kwLnosZ3owLnopOwogICAgdmVjMyBnMTEwID0gdmVjMyhneDAudyxneTAudyxnejAudyk7CiAgICB2ZWMzIGcwMDEgPSB2ZWMzKGd4MS54LGd5MS54LGd6MS54KTsKICAgIHZlYzMgZzEwMSA9IHZlYzMoZ3gxLnksZ3kxLnksZ3oxLnkpOwogICAgdmVjMyBnMDExID0gdmVjMyhneDEueixneTEueixnejEueik7CiAgICB2ZWMzIGcxMTEgPSB2ZWMzKGd4MS53LGd5MS53LGd6MS53KTsKCiAgICB2ZWM0IG5vcm0wID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAwLCBnMDAwKSwgZG90KGcwMTAsIGcwMTApLCBkb3QoZzEwMCwgZzEwMCksIGRvdChnMTEwLCBnMTEwKSkpOwogICAgZzAwMCAqPSBub3JtMC54OwogICAgZzAxMCAqPSBub3JtMC55OwogICAgZzEwMCAqPSBub3JtMC56OwogICAgZzExMCAqPSBub3JtMC53OwogICAgdmVjNCBub3JtMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMSwgZzAwMSksIGRvdChnMDExLCBnMDExKSwgZG90KGcxMDEsIGcxMDEpLCBkb3QoZzExMSwgZzExMSkpKTsKICAgIGcwMDEgKj0gbm9ybTEueDsKICAgIGcwMTEgKj0gbm9ybTEueTsKICAgIGcxMDEgKj0gbm9ybTEuejsKICAgIGcxMTEgKj0gbm9ybTEudzsKCiAgICBmbG9hdCBuMDAwID0gZG90KGcwMDAsIFBmMCk7CiAgICBmbG9hdCBuMTAwID0gZG90KGcxMDAsIHZlYzMoUGYxLngsIFBmMC55eikpOwogICAgZmxvYXQgbjAxMCA9IGRvdChnMDEwLCB2ZWMzKFBmMC54LCBQZjEueSwgUGYwLnopKTsKICAgIGZsb2F0IG4xMTAgPSBkb3QoZzExMCwgdmVjMyhQZjEueHksIFBmMC56KSk7CiAgICBmbG9hdCBuMDAxID0gZG90KGcwMDEsIHZlYzMoUGYwLnh5LCBQZjEueikpOwogICAgZmxvYXQgbjEwMSA9IGRvdChnMTAxLCB2ZWMzKFBmMS54LCBQZjAueSwgUGYxLnopKTsKICAgIGZsb2F0IG4wMTEgPSBkb3QoZzAxMSwgdmVjMyhQZjAueCwgUGYxLnl6KSk7CiAgICBmbG9hdCBuMTExID0gZG90KGcxMTEsIFBmMSk7CgogICAgdmVjMyBmYWRlX3h5eiA9IHF1aW50aWMoUGYwKTsKICAgIHZlYzQgbl96ID0gbWl4KHZlYzQobjAwMCwgbjEwMCwgbjAxMCwgbjExMCksIHZlYzQobjAwMSwgbjEwMSwgbjAxMSwgbjExMSksIGZhZGVfeHl6LnopOwogICAgdmVjMiBuX3l6ID0gbWl4KG5fei54eSwgbl96Lnp3LCBmYWRlX3h5ei55KTsKICAgIGZsb2F0IG5feHl6ID0gbWl4KG5feXoueCwgbl95ei55LCBmYWRlX3h5ei54KTsKICAgIHJldHVybiAyLjIgKiBuX3h5ejsKfQoKZmxvYXQgcG5vaXNlKGluIHZlYzQgUCwgaW4gdmVjNCByZXApIHsKICAgIHZlYzQgUGkwID0gbW9kKGZsb29yKFApLCByZXApOyAKICAgIHZlYzQgUGkxID0gbW9kKFBpMCArIDEuMCwgcmVwKTsgCiAgICBQaTAgPSBtb2QyODkoUGkwKTsKICAgIFBpMSA9IG1vZDI4OShQaTEpOwogICAgdmVjNCBQZjAgPSBmcmFjdChQKTsgCiAgICB2ZWM0IFBmMSA9IFBmMCAtIDEuMDsgCiAgICB2ZWM0IGl4ID0gdmVjNChQaTAueCwgUGkxLngsIFBpMC54LCBQaTEueCk7CiAgICB2ZWM0IGl5ID0gdmVjNChQaTAueXksIFBpMS55eSk7CiAgICB2ZWM0IGl6MCA9IHZlYzQoUGkwLnp6enopOwogICAgdmVjNCBpejEgPSB2ZWM0KFBpMS56enp6KTsKICAgIHZlYzQgaXcwID0gdmVjNChQaTAud3d3dyk7CiAgICB2ZWM0IGl3MSA9IHZlYzQoUGkxLnd3d3cpOwoKICAgIHZlYzQgaXh5ID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTsKICAgIHZlYzQgaXh5MCA9IHBlcm11dGUoaXh5ICsgaXowKTsKICAgIHZlYzQgaXh5MSA9IHBlcm11dGUoaXh5ICsgaXoxKTsKICAgIHZlYzQgaXh5MDAgPSBwZXJtdXRlKGl4eTAgKyBpdzApOwogICAgdmVjNCBpeHkwMSA9IHBlcm11dGUoaXh5MCArIGl3MSk7CiAgICB2ZWM0IGl4eTEwID0gcGVybXV0ZShpeHkxICsgaXcwKTsKICAgIHZlYzQgaXh5MTEgPSBwZXJtdXRlKGl4eTEgKyBpdzEpOwoKICAgIHZlYzQgZ3gwMCA9IGl4eTAwICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd5MDAgPSBmbG9vcihneDAwKSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBnejAwID0gZmxvb3IoZ3kwMCkgKiAoMS4wIC8gNi4wKTsKICAgIGd4MDAgPSBmcmFjdChneDAwKSAtIDAuNTsKICAgIGd5MDAgPSBmcmFjdChneTAwKSAtIDAuNTsKICAgIGd6MDAgPSBmcmFjdChnejAwKSAtIDAuNTsKICAgIHZlYzQgZ3cwMCA9IHZlYzQoMC43NSkgLSBhYnMoZ3gwMCkgLSBhYnMoZ3kwMCkgLSBhYnMoZ3owMCk7CiAgICB2ZWM0IHN3MDAgPSBzdGVwKGd3MDAsIHZlYzQoMC4wKSk7CiAgICBneDAwIC09IHN3MDAgKiAoc3RlcCgwLjAsIGd4MDApIC0gMC41KTsKICAgIGd5MDAgLT0gc3cwMCAqIChzdGVwKDAuMCwgZ3kwMCkgLSAwLjUpOwoKICAgIHZlYzQgZ3gwMSA9IGl4eTAxICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd5MDEgPSBmbG9vcihneDAxKSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBnejAxID0gZmxvb3IoZ3kwMSkgKiAoMS4wIC8gNi4wKTsKICAgIGd4MDEgPSBmcmFjdChneDAxKSAtIDAuNTsKICAgIGd5MDEgPSBmcmFjdChneTAxKSAtIDAuNTsKICAgIGd6MDEgPSBmcmFjdChnejAxKSAtIDAuNTsKICAgIHZlYzQgZ3cwMSA9IHZlYzQoMC43NSkgLSBhYnMoZ3gwMSkgLSBhYnMoZ3kwMSkgLSBhYnMoZ3owMSk7CiAgICB2ZWM0IHN3MDEgPSBzdGVwKGd3MDEsIHZlYzQoMC4wKSk7CiAgICBneDAxIC09IHN3MDEgKiAoc3RlcCgwLjAsIGd4MDEpIC0gMC41KTsKICAgIGd5MDEgLT0gc3cwMSAqIChzdGVwKDAuMCwgZ3kwMSkgLSAwLjUpOwoKICAgIHZlYzQgZ3gxMCA9IGl4eTEwICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd5MTAgPSBmbG9vcihneDEwKSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBnejEwID0gZmxvb3IoZ3kxMCkgKiAoMS4wIC8gNi4wKTsKICAgIGd4MTAgPSBmcmFjdChneDEwKSAtIDAuNTsKICAgIGd5MTAgPSBmcmFjdChneTEwKSAtIDAuNTsKICAgIGd6MTAgPSBmcmFjdChnejEwKSAtIDAuNTsKICAgIHZlYzQgZ3cxMCA9IHZlYzQoMC43NSkgLSBhYnMoZ3gxMCkgLSBhYnMoZ3kxMCkgLSBhYnMoZ3oxMCk7CiAgICB2ZWM0IHN3MTAgPSBzdGVwKGd3MTAsIHZlYzQoMC4wKSk7CiAgICBneDEwIC09IHN3MTAgKiAoc3RlcCgwLjAsIGd4MTApIC0gMC41KTsKICAgIGd5MTAgLT0gc3cxMCAqIChzdGVwKDAuMCwgZ3kxMCkgLSAwLjUpOwoKICAgIHZlYzQgZ3gxMSA9IGl4eTExICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd5MTEgPSBmbG9vcihneDExKSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBnejExID0gZmxvb3IoZ3kxMSkgKiAoMS4wIC8gNi4wKTsKICAgIGd4MTEgPSBmcmFjdChneDExKSAtIDAuNTsKICAgIGd5MTEgPSBmcmFjdChneTExKSAtIDAuNTsKICAgIGd6MTEgPSBmcmFjdChnejExKSAtIDAuNTsKICAgIHZlYzQgZ3cxMSA9IHZlYzQoMC43NSkgLSBhYnMoZ3gxMSkgLSBhYnMoZ3kxMSkgLSBhYnMoZ3oxMSk7CiAgICB2ZWM0IHN3MTEgPSBzdGVwKGd3MTEsIHZlYzQoMC4wKSk7CiAgICBneDExIC09IHN3MTEgKiAoc3RlcCgwLjAsIGd4MTEpIC0gMC41KTsKICAgIGd5MTEgLT0gc3cxMSAqIChzdGVwKDAuMCwgZ3kxMSkgLSAwLjUpOwoKICAgIHZlYzQgZzAwMDAgPSB2ZWM0KGd4MDAueCxneTAwLngsZ3owMC54LGd3MDAueCk7CiAgICB2ZWM0IGcxMDAwID0gdmVjNChneDAwLnksZ3kwMC55LGd6MDAueSxndzAwLnkpOwogICAgdmVjNCBnMDEwMCA9IHZlYzQoZ3gwMC56LGd5MDAueixnejAwLnosZ3cwMC56KTsKICAgIHZlYzQgZzExMDAgPSB2ZWM0KGd4MDAudyxneTAwLncsZ3owMC53LGd3MDAudyk7CiAgICB2ZWM0IGcwMDEwID0gdmVjNChneDEwLngsZ3kxMC54LGd6MTAueCxndzEwLngpOwogICAgdmVjNCBnMTAxMCA9IHZlYzQoZ3gxMC55LGd5MTAueSxnejEwLnksZ3cxMC55KTsKICAgIHZlYzQgZzAxMTAgPSB2ZWM0KGd4MTAueixneTEwLnosZ3oxMC56LGd3MTAueik7CiAgICB2ZWM0IGcxMTEwID0gdmVjNChneDEwLncsZ3kxMC53LGd6MTAudyxndzEwLncpOwogICAgdmVjNCBnMDAwMSA9IHZlYzQoZ3gwMS54LGd5MDEueCxnejAxLngsZ3cwMS54KTsKICAgIHZlYzQgZzEwMDEgPSB2ZWM0KGd4MDEueSxneTAxLnksZ3owMS55LGd3MDEueSk7CiAgICB2ZWM0IGcwMTAxID0gdmVjNChneDAxLnosZ3kwMS56LGd6MDEueixndzAxLnopOwogICAgdmVjNCBnMTEwMSA9IHZlYzQoZ3gwMS53LGd5MDEudyxnejAxLncsZ3cwMS53KTsKICAgIHZlYzQgZzAwMTEgPSB2ZWM0KGd4MTEueCxneTExLngsZ3oxMS54LGd3MTEueCk7CiAgICB2ZWM0IGcxMDExID0gdmVjNChneDExLnksZ3kxMS55LGd6MTEueSxndzExLnkpOwogICAgdmVjNCBnMDExMSA9IHZlYzQoZ3gxMS56LGd5MTEueixnejExLnosZ3cxMS56KTsKICAgIHZlYzQgZzExMTEgPSB2ZWM0KGd4MTEudyxneTExLncsZ3oxMS53LGd3MTEudyk7CgogICAgdmVjNCBub3JtMDAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAwLCBnMDAwMCksIGRvdChnMDEwMCwgZzAxMDApLCBkb3QoZzEwMDAsIGcxMDAwKSwgZG90KGcxMTAwLCBnMTEwMCkpKTsKICAgIGcwMDAwICo9IG5vcm0wMC54OwogICAgZzAxMDAgKj0gbm9ybTAwLnk7CiAgICBnMTAwMCAqPSBub3JtMDAuejsKICAgIGcxMTAwICo9IG5vcm0wMC53OwoKICAgIHZlYzQgbm9ybTAxID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAwMSwgZzAwMDEpLCBkb3QoZzAxMDEsIGcwMTAxKSwgZG90KGcxMDAxLCBnMTAwMSksIGRvdChnMTEwMSwgZzExMDEpKSk7CiAgICBnMDAwMSAqPSBub3JtMDEueDsKICAgIGcwMTAxICo9IG5vcm0wMS55OwogICAgZzEwMDEgKj0gbm9ybTAxLno7CiAgICBnMTEwMSAqPSBub3JtMDEudzsKCiAgICB2ZWM0IG5vcm0xMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMTAsIGcwMDEwKSwgZG90KGcwMTEwLCBnMDExMCksIGRvdChnMTAxMCwgZzEwMTApLCBkb3QoZzExMTAsIGcxMTEwKSkpOwogICAgZzAwMTAgKj0gbm9ybTEwLng7CiAgICBnMDExMCAqPSBub3JtMTAueTsKICAgIGcxMDEwICo9IG5vcm0xMC56OwogICAgZzExMTAgKj0gbm9ybTEwLnc7CgogICAgdmVjNCBub3JtMTEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDExLCBnMDAxMSksIGRvdChnMDExMSwgZzAxMTEpLCBkb3QoZzEwMTEsIGcxMDExKSwgZG90KGcxMTExLCBnMTExMSkpKTsKICAgIGcwMDExICo9IG5vcm0xMS54OwogICAgZzAxMTEgKj0gbm9ybTExLnk7CiAgICBnMTAxMSAqPSBub3JtMTEuejsKICAgIGcxMTExICo9IG5vcm0xMS53OwoKICAgIGZsb2F0IG4wMDAwID0gZG90KGcwMDAwLCBQZjApOwogICAgZmxvYXQgbjEwMDAgPSBkb3QoZzEwMDAsIHZlYzQoUGYxLngsIFBmMC55encpKTsKICAgIGZsb2F0IG4wMTAwID0gZG90KGcwMTAwLCB2ZWM0KFBmMC54LCBQZjEueSwgUGYwLnp3KSk7CiAgICBmbG9hdCBuMTEwMCA9IGRvdChnMTEwMCwgdmVjNChQZjEueHksIFBmMC56dykpOwogICAgZmxvYXQgbjAwMTAgPSBkb3QoZzAwMTAsIHZlYzQoUGYwLnh5LCBQZjEueiwgUGYwLncpKTsKICAgIGZsb2F0IG4xMDEwID0gZG90KGcxMDEwLCB2ZWM0KFBmMS54LCBQZjAueSwgUGYxLnosIFBmMC53KSk7CiAgICBmbG9hdCBuMDExMCA9IGRvdChnMDExMCwgdmVjNChQZjAueCwgUGYxLnl6LCBQZjAudykpOwogICAgZmxvYXQgbjExMTAgPSBkb3QoZzExMTAsIHZlYzQoUGYxLnh5eiwgUGYwLncpKTsKICAgIGZsb2F0IG4wMDAxID0gZG90KGcwMDAxLCB2ZWM0KFBmMC54eXosIFBmMS53KSk7CiAgICBmbG9hdCBuMTAwMSA9IGRvdChnMTAwMSwgdmVjNChQZjEueCwgUGYwLnl6LCBQZjEudykpOwogICAgZmxvYXQgbjAxMDEgPSBkb3QoZzAxMDEsIHZlYzQoUGYwLngsIFBmMS55LCBQZjAueiwgUGYxLncpKTsKICAgIGZsb2F0IG4xMTAxID0gZG90KGcxMTAxLCB2ZWM0KFBmMS54eSwgUGYwLnosIFBmMS53KSk7CiAgICBmbG9hdCBuMDAxMSA9IGRvdChnMDAxMSwgdmVjNChQZjAueHksIFBmMS56dykpOwogICAgZmxvYXQgbjEwMTEgPSBkb3QoZzEwMTEsIHZlYzQoUGYxLngsIFBmMC55LCBQZjEuencpKTsKICAgIGZsb2F0IG4wMTExID0gZG90KGcwMTExLCB2ZWM0KFBmMC54LCBQZjEueXp3KSk7CiAgICBmbG9hdCBuMTExMSA9IGRvdChnMTExMSwgUGYxKTsKCiAgICB2ZWM0IGZhZGVfeHl6dyA9IHF1aW50aWMoUGYwKTsKICAgIHZlYzQgbl8wdyA9IG1peCh2ZWM0KG4wMDAwLCBuMTAwMCwgbjAxMDAsIG4xMTAwKSwgdmVjNChuMDAwMSwgbjEwMDEsIG4wMTAxLCBuMTEwMSksIGZhZGVfeHl6dy53KTsKICAgIHZlYzQgbl8xdyA9IG1peCh2ZWM0KG4wMDEwLCBuMTAxMCwgbjAxMTAsIG4xMTEwKSwgdmVjNChuMDAxMSwgbjEwMTEsIG4wMTExLCBuMTExMSksIGZhZGVfeHl6dy53KTsKICAgIHZlYzQgbl96dyA9IG1peChuXzB3LCBuXzF3LCBmYWRlX3h5encueik7CiAgICB2ZWMyIG5feXp3ID0gbWl4KG5fencueHksIG5fencuencsIGZhZGVfeHl6dy55KTsKICAgIGZsb2F0IG5feHl6dyA9IG1peChuX3l6dy54LCBuX3l6dy55LCBmYWRlX3h5encueCk7CiAgICByZXR1cm4gMi4yICogbl94eXp3Owp9CiNlbmRpZgoKCgoKCgojaWZuZGVmIFJBTkRPTV9TQ0FMRQojaWYgZGVmaW5lZChSQU5ET01fSElHSEVSX1JBTkdFKQojZGVmaW5lIFJBTkRPTV9TQ0FMRSB2ZWM0KC4xMDMxLCAuMTAzMCwgLjA5NzMsIC4xMDk5KQojZWxzZQojZGVmaW5lIFJBTkRPTV9TQ0FMRSB2ZWM0KDQ0My44OTcsIDQ0MS40MjMsIC4wOTczLCAuMTA5OSkKI2VuZGlmCiNlbmRpZgoKI2lmbmRlZiBGTkNfUkFORE9NCiNkZWZpbmUgRk5DX1JBTkRPTQpmbG9hdCByYW5kb20oaW4gZmxvYXQgeCkgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHggPSBmcmFjdCh4ICogUkFORE9NX1NDQUxFLngpOwogICAgeCAqPSB4ICsgMzMuMzM7CiAgICB4ICo9IHggKyB4OwogICAgcmV0dXJuIGZyYWN0KHgpOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbih4KSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzIgc3QpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICB2ZWMzIHAzICA9IGZyYWN0KHZlYzMoc3QueHl4KSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAzMy4zMyk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnggKyBwMy55KSAqIHAzLnopOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbihkb3Qoc3QueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjMyBwb3MpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICBwb3MgID0gZnJhY3QocG9zICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwb3MgKz0gZG90KHBvcywgcG9zLnp5eCArIDMxLjMyKTsKICAgIHJldHVybiBmcmFjdCgocG9zLnggKyBwb3MueSkgKiBwb3Mueik7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChwb3MueHl6LCB2ZWMzKDcwLjk4OTgsIDc4LjIzMywgMzIuNDM1NSkpKSAqIDQzNzU4LjU0NTMxMjMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzQgcG9zKSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgcG9zID0gZnJhY3QocG9zICogUkFORE9NX1NDQUxFKTsKICAgIHBvcyArPSBkb3QocG9zLCBwb3Mud3p4eSszMy4zMyk7CiAgICByZXR1cm4gZnJhY3QoKHBvcy54ICsgcG9zLnkpICogKHBvcy56ICsgcG9zLncpKTsKI2Vsc2UKICAgIGZsb2F0IGRvdF9wcm9kdWN0ID0gZG90KHBvcywgdmVjNCgxMi45ODk4LDc4LjIzMyw0NS4xNjQsOTQuNjczKSk7CiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdF9wcm9kdWN0KSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKdmVjMiByYW5kb20yKGZsb2F0IHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHApICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzIgcmFuZG9tMih2ZWMyIHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdChwLnh5eCAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMyIHJhbmRvbTIodmVjMyBwMykgewogICAgcDMgPSBmcmFjdChwMyAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMzIHJhbmRvbTMoZmxvYXQgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eHkgKyBwMy55enopICogcDMuenl4KTsgCn0KCnZlYzMgcmFuZG9tMyh2ZWMyIHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHAueHl4KSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55eHogKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4eSArIHAzLnl6eikgKiBwMy56eXgpOwp9Cgp2ZWMzIHJhbmRvbTModmVjMyBwKSB7CiAgICBwID0gZnJhY3QocCAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcCArPSBkb3QocCwgcC55eHogKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAueHh5ICsgcC55enopICogcC56eXgpOwp9Cgp2ZWM0IHJhbmRvbTQoZmxvYXQgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsgICAKfQoKdmVjNCByYW5kb200KHZlYzIgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAueHl4eSAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9Cgp2ZWM0IHJhbmRvbTQodmVjMyBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocC54eXp4ICAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9Cgp2ZWM0IHJhbmRvbTQodmVjNCBwNCkgewogICAgcDQgPSBmcmFjdChwNCAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKCiNlbmRpZgoKCgoKCgp2b2lkIG1haW4oKSB7CgogIGZsb2F0IGRpc3RvcnQgPSB2RGlzcGxhY2VtZW50ICogdV9pbnRlbnNpdHk7CgogIHZlYzIgdmFsID0gYWJzKHZVdiAtIDAuNSkgKiAzLjAgICogKDEuMCAtIGRpc3RvcnQpOwoKICAKCiAgdmVjNCBjb2xvciA9IHZlYzQodmVjMyh2YWwsdV9jb2xvcnNbMF0uYiksMS4wKTsKCiAgY29sb3IgPSBtaXgodV9jb2xvcnNbMF0sIHVfY29sb3JzWzFdLCB2RGlzcGxhY2VtZW50KTsKCiAgCgogIGdsX0ZyYWdDb2xvciA9IGNvbG9yOwoKfQoKYCwKICAgICAgICAgICAgICAgIHZlcnRleFNoYWRlcjogYC8vR2VvbWV0cnk6IHNwaGVyZQoKLy9HZW9tZXRyeS1hcmdzOiBbNCwgMTAyNCwgMTAyNF0KCi8vT3JiaXRDb250cm9sczogZmFsc2UgIAoKLy9NZXNoLXBvc2l0aW9uOiBbMCwgMCwgMF0KCi8vTWVzaC1yb3RhdGlvbjogWy0xLjU3MDc5NjMyNjc5NDg5NjYsIDAsIC0xLjVdCgovL01lc2gtc2NhbGU6IDUKCi8vY2FtZXJhLXBvc2l0aW9uOiBbMC4wLCAwLjAsIDMyLjBdCgoKCnVuaWZvcm0gZmxvYXQgdV9pbnRlbnNpdHk7Cgp1bmlmb3JtIGZsb2F0IHVfdGltZTsKCnVuaWZvcm0gZmxvYXQgdV9zcGVlZDsKCnVuaWZvcm0gYm9vbCB1X3JvdGF0ZTsKCgoKdmFyeWluZyB2ZWMyIHZVdjsKCnZhcnlpbmcgZmxvYXQgdkRpc3BsYWNlbWVudDsKCgoKCgoKCiNpZm5kZWYgRk5DX01PRDI4OQojZGVmaW5lIEZOQ19NT0QyODkKCmZsb2F0IG1vZDI4OShjb25zdCBpbiBmbG9hdCB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjMiBtb2QyODkoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjMyBtb2QyODkoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjNCBtb2QyODkoY29uc3QgaW4gdmVjNCB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KCiNlbmRpZgoKCgoKCiNpZm5kZWYgRk5DX1BFUk1VVEUKI2RlZmluZSBGTkNfUEVSTVVURQoKZmxvYXQgcGVybXV0ZShjb25zdCBpbiBmbG9hdCB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMiBwZXJtdXRlKGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzMgcGVybXV0ZShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWM0IHBlcm11dGUoY29uc3QgaW4gdmVjNCB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19UQVlMT1JJTlZTUVJUCiNkZWZpbmUgRk5DX1RBWUxPUklOVlNRUlQKZmxvYXQgdGF5bG9ySW52U3FydChpbiBmbG9hdCByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMiB0YXlsb3JJbnZTcXJ0KGluIHZlYzIgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzMgdGF5bG9ySW52U3FydChpbiB2ZWMzIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWM0IHRheWxvckludlNxcnQoaW4gdmVjNCByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KI2VuZGlmCgoKI2lmbmRlZiBGTkNfUVVJTlRJQwojZGVmaW5lIEZOQ19RVUlOVElDIAoKZmxvYXQgcXVpbnRpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMiAgcXVpbnRpYyhjb25zdCBpbiB2ZWMyIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMyAgcXVpbnRpYyhjb25zdCBpbiB2ZWMzIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjNCAgcXVpbnRpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19DTk9JU0UKI2RlZmluZSBGTkNfQ05PSVNFCgpmbG9hdCBjbm9pc2UoaW4gdmVjMiBQKSB7CiAgICB2ZWM0IFBpID0gZmxvb3IoUC54eXh5KSArIHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsKICAgIHZlYzQgUGYgPSBmcmFjdChQLnh5eHkpIC0gdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApOwogICAgUGkgPSBtb2QyODkoUGkpOyAKICAgIHZlYzQgaXggPSBQaS54enh6OwogICAgdmVjNCBpeSA9IFBpLnl5d3c7CiAgICB2ZWM0IGZ4ID0gUGYueHp4ejsKICAgIHZlYzQgZnkgPSBQZi55eXd3OwoKICAgIHZlYzQgaSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7CgogICAgdmVjNCBneCA9IGZyYWN0KGkgKiAoMS4wIC8gNDEuMCkpICogMi4wIC0gMS4wIDsKICAgIHZlYzQgZ3kgPSBhYnMoZ3gpIC0gMC41IDsKICAgIHZlYzQgdHggPSBmbG9vcihneCArIDAuNSk7CiAgICBneCA9IGd4IC0gdHg7CgogICAgdmVjMiBnMDAgPSB2ZWMyKGd4LngsZ3kueCk7CiAgICB2ZWMyIGcxMCA9IHZlYzIoZ3gueSxneS55KTsKICAgIHZlYzIgZzAxID0gdmVjMihneC56LGd5LnopOwogICAgdmVjMiBnMTEgPSB2ZWMyKGd4LncsZ3kudyk7CgogICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAsIGcwMCksIGRvdChnMDEsIGcwMSksIGRvdChnMTAsIGcxMCksIGRvdChnMTEsIGcxMSkpKTsKICAgIGcwMCAqPSBub3JtLng7CiAgICBnMDEgKj0gbm9ybS55OwogICAgZzEwICo9IG5vcm0uejsKICAgIGcxMSAqPSBub3JtLnc7CgogICAgZmxvYXQgbjAwID0gZG90KGcwMCwgdmVjMihmeC54LCBmeS54KSk7CiAgICBmbG9hdCBuMTAgPSBkb3QoZzEwLCB2ZWMyKGZ4LnksIGZ5LnkpKTsKICAgIGZsb2F0IG4wMSA9IGRvdChnMDEsIHZlYzIoZngueiwgZnkueikpOwogICAgZmxvYXQgbjExID0gZG90KGcxMSwgdmVjMihmeC53LCBmeS53KSk7CgogICAgdmVjMiBmYWRlX3h5ID0gcXVpbnRpYyhQZi54eSk7CiAgICB2ZWMyIG5feCA9IG1peCh2ZWMyKG4wMCwgbjAxKSwgdmVjMihuMTAsIG4xMSksIGZhZGVfeHkueCk7CiAgICBmbG9hdCBuX3h5ID0gbWl4KG5feC54LCBuX3gueSwgZmFkZV94eS55KTsKICAgIHJldHVybiAyLjMgKiBuX3h5Owp9CgpmbG9hdCBjbm9pc2UoaW4gdmVjMyBQKSB7CiAgICB2ZWMzIFBpMCA9IGZsb29yKFApOyAKICAgIHZlYzMgUGkxID0gUGkwICsgdmVjMygxLjApOyAKICAgIFBpMCA9IG1vZDI4OShQaTApOwogICAgUGkxID0gbW9kMjg5KFBpMSk7CiAgICB2ZWMzIFBmMCA9IGZyYWN0KFApOyAKICAgIHZlYzMgUGYxID0gUGYwIC0gdmVjMygxLjApOyAKICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTsKICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTsKICAgIHZlYzQgaXowID0gUGkwLnp6eno7CiAgICB2ZWM0IGl6MSA9IFBpMS56enp6OwoKICAgIHZlYzQgaXh5ID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTsKICAgIHZlYzQgaXh5MCA9IHBlcm11dGUoaXh5ICsgaXowKTsKICAgIHZlYzQgaXh5MSA9IHBlcm11dGUoaXh5ICsgaXoxKTsKCiAgICB2ZWM0IGd4MCA9IGl4eTAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwID0gZnJhY3QoZmxvb3IoZ3gwKSAqICgxLjAgLyA3LjApKSAtIDAuNTsKICAgIGd4MCA9IGZyYWN0KGd4MCk7CiAgICB2ZWM0IGd6MCA9IHZlYzQoMC41KSAtIGFicyhneDApIC0gYWJzKGd5MCk7CiAgICB2ZWM0IHN6MCA9IHN0ZXAoZ3owLCB2ZWM0KDAuMCkpOwogICAgZ3gwIC09IHN6MCAqIChzdGVwKDAuMCwgZ3gwKSAtIDAuNSk7CiAgICBneTAgLT0gc3owICogKHN0ZXAoMC4wLCBneTApIC0gMC41KTsKCiAgICB2ZWM0IGd4MSA9IGl4eTEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxID0gZnJhY3QoZmxvb3IoZ3gxKSAqICgxLjAgLyA3LjApKSAtIDAuNTsKICAgIGd4MSA9IGZyYWN0KGd4MSk7CiAgICB2ZWM0IGd6MSA9IHZlYzQoMC41KSAtIGFicyhneDEpIC0gYWJzKGd5MSk7CiAgICB2ZWM0IHN6MSA9IHN0ZXAoZ3oxLCB2ZWM0KDAuMCkpOwogICAgZ3gxIC09IHN6MSAqIChzdGVwKDAuMCwgZ3gxKSAtIDAuNSk7CiAgICBneTEgLT0gc3oxICogKHN0ZXAoMC4wLCBneTEpIC0gMC41KTsKCiAgICB2ZWMzIGcwMDAgPSB2ZWMzKGd4MC54LGd5MC54LGd6MC54KTsKICAgIHZlYzMgZzEwMCA9IHZlYzMoZ3gwLnksZ3kwLnksZ3owLnkpOwogICAgdmVjMyBnMDEwID0gdmVjMyhneDAueixneTAueixnejAueik7CiAgICB2ZWMzIGcxMTAgPSB2ZWMzKGd4MC53LGd5MC53LGd6MC53KTsKICAgIHZlYzMgZzAwMSA9IHZlYzMoZ3gxLngsZ3kxLngsZ3oxLngpOwogICAgdmVjMyBnMTAxID0gdmVjMyhneDEueSxneTEueSxnejEueSk7CiAgICB2ZWMzIGcwMTEgPSB2ZWMzKGd4MS56LGd5MS56LGd6MS56KTsKICAgIHZlYzMgZzExMSA9IHZlYzMoZ3gxLncsZ3kxLncsZ3oxLncpOwoKICAgIHZlYzQgbm9ybTAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAsIGcwMDApLCBkb3QoZzAxMCwgZzAxMCksIGRvdChnMTAwLCBnMTAwKSwgZG90KGcxMTAsIGcxMTApKSk7CiAgICBnMDAwICo9IG5vcm0wLng7CiAgICBnMDEwICo9IG5vcm0wLnk7CiAgICBnMTAwICo9IG5vcm0wLno7CiAgICBnMTEwICo9IG5vcm0wLnc7CiAgICB2ZWM0IG5vcm0xID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxLCBnMDAxKSwgZG90KGcwMTEsIGcwMTEpLCBkb3QoZzEwMSwgZzEwMSksIGRvdChnMTExLCBnMTExKSkpOwogICAgZzAwMSAqPSBub3JtMS54OwogICAgZzAxMSAqPSBub3JtMS55OwogICAgZzEwMSAqPSBub3JtMS56OwogICAgZzExMSAqPSBub3JtMS53OwoKICAgIGZsb2F0IG4wMDAgPSBkb3QoZzAwMCwgUGYwKTsKICAgIGZsb2F0IG4xMDAgPSBkb3QoZzEwMCwgdmVjMyhQZjEueCwgUGYwLnl6KSk7CiAgICBmbG9hdCBuMDEwID0gZG90KGcwMTAsIHZlYzMoUGYwLngsIFBmMS55LCBQZjAueikpOwogICAgZmxvYXQgbjExMCA9IGRvdChnMTEwLCB2ZWMzKFBmMS54eSwgUGYwLnopKTsKICAgIGZsb2F0IG4wMDEgPSBkb3QoZzAwMSwgdmVjMyhQZjAueHksIFBmMS56KSk7CiAgICBmbG9hdCBuMTAxID0gZG90KGcxMDEsIHZlYzMoUGYxLngsIFBmMC55LCBQZjEueikpOwogICAgZmxvYXQgbjAxMSA9IGRvdChnMDExLCB2ZWMzKFBmMC54LCBQZjEueXopKTsKICAgIGZsb2F0IG4xMTEgPSBkb3QoZzExMSwgUGYxKTsKCiAgICB2ZWMzIGZhZGVfeHl6ID0gcXVpbnRpYyhQZjApOwogICAgdmVjNCBuX3ogPSBtaXgodmVjNChuMDAwLCBuMTAwLCBuMDEwLCBuMTEwKSwgdmVjNChuMDAxLCBuMTAxLCBuMDExLCBuMTExKSwgZmFkZV94eXoueik7CiAgICB2ZWMyIG5feXogPSBtaXgobl96Lnh5LCBuX3ouencsIGZhZGVfeHl6LnkpOwogICAgZmxvYXQgbl94eXogPSBtaXgobl95ei54LCBuX3l6LnksIGZhZGVfeHl6LngpOwogICAgcmV0dXJuIDIuMiAqIG5feHl6Owp9CgpmbG9hdCBjbm9pc2UoaW4gdmVjNCBQKSB7CiAgICB2ZWM0IFBpMCA9IGZsb29yKFApOyAKICAgIHZlYzQgUGkxID0gUGkwICsgMS4wOyAKICAgIFBpMCA9IG1vZDI4OShQaTApOwogICAgUGkxID0gbW9kMjg5KFBpMSk7CiAgICB2ZWM0IFBmMCA9IGZyYWN0KFApOyAKICAgIHZlYzQgUGYxID0gUGYwIC0gMS4wOyAKICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTsKICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTsKICAgIHZlYzQgaXowID0gdmVjNChQaTAuenp6eik7CiAgICB2ZWM0IGl6MSA9IHZlYzQoUGkxLnp6enopOwogICAgdmVjNCBpdzAgPSB2ZWM0KFBpMC53d3d3KTsKICAgIHZlYzQgaXcxID0gdmVjNChQaTEud3d3dyk7CgogICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpOwogICAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApOwogICAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpOwogICAgdmVjNCBpeHkwMCA9IHBlcm11dGUoaXh5MCArIGl3MCk7CiAgICB2ZWM0IGl4eTAxID0gcGVybXV0ZShpeHkwICsgaXcxKTsKICAgIHZlYzQgaXh5MTAgPSBwZXJtdXRlKGl4eTEgKyBpdzApOwogICAgdmVjNCBpeHkxMSA9IHBlcm11dGUoaXh5MSArIGl3MSk7CgogICAgdmVjNCBneDAwID0gaXh5MDAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwMCA9IGZsb29yKGd4MDApICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MDAgPSBmbG9vcihneTAwKSAqICgxLjAgLyA2LjApOwogICAgZ3gwMCA9IGZyYWN0KGd4MDApIC0gMC41OwogICAgZ3kwMCA9IGZyYWN0KGd5MDApIC0gMC41OwogICAgZ3owMCA9IGZyYWN0KGd6MDApIC0gMC41OwogICAgdmVjNCBndzAwID0gdmVjNCgwLjc1KSAtIGFicyhneDAwKSAtIGFicyhneTAwKSAtIGFicyhnejAwKTsKICAgIHZlYzQgc3cwMCA9IHN0ZXAoZ3cwMCwgdmVjNCgwLjApKTsKICAgIGd4MDAgLT0gc3cwMCAqIChzdGVwKDAuMCwgZ3gwMCkgLSAwLjUpOwogICAgZ3kwMCAtPSBzdzAwICogKHN0ZXAoMC4wLCBneTAwKSAtIDAuNSk7CgogICAgdmVjNCBneDAxID0gaXh5MDEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwMSA9IGZsb29yKGd4MDEpICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MDEgPSBmbG9vcihneTAxKSAqICgxLjAgLyA2LjApOwogICAgZ3gwMSA9IGZyYWN0KGd4MDEpIC0gMC41OwogICAgZ3kwMSA9IGZyYWN0KGd5MDEpIC0gMC41OwogICAgZ3owMSA9IGZyYWN0KGd6MDEpIC0gMC41OwogICAgdmVjNCBndzAxID0gdmVjNCgwLjc1KSAtIGFicyhneDAxKSAtIGFicyhneTAxKSAtIGFicyhnejAxKTsKICAgIHZlYzQgc3cwMSA9IHN0ZXAoZ3cwMSwgdmVjNCgwLjApKTsKICAgIGd4MDEgLT0gc3cwMSAqIChzdGVwKDAuMCwgZ3gwMSkgLSAwLjUpOwogICAgZ3kwMSAtPSBzdzAxICogKHN0ZXAoMC4wLCBneTAxKSAtIDAuNSk7CgogICAgdmVjNCBneDEwID0gaXh5MTAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxMCA9IGZsb29yKGd4MTApICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MTAgPSBmbG9vcihneTEwKSAqICgxLjAgLyA2LjApOwogICAgZ3gxMCA9IGZyYWN0KGd4MTApIC0gMC41OwogICAgZ3kxMCA9IGZyYWN0KGd5MTApIC0gMC41OwogICAgZ3oxMCA9IGZyYWN0KGd6MTApIC0gMC41OwogICAgdmVjNCBndzEwID0gdmVjNCgwLjc1KSAtIGFicyhneDEwKSAtIGFicyhneTEwKSAtIGFicyhnejEwKTsKICAgIHZlYzQgc3cxMCA9IHN0ZXAoZ3cxMCwgdmVjNCgwLjApKTsKICAgIGd4MTAgLT0gc3cxMCAqIChzdGVwKDAuMCwgZ3gxMCkgLSAwLjUpOwogICAgZ3kxMCAtPSBzdzEwICogKHN0ZXAoMC4wLCBneTEwKSAtIDAuNSk7CgogICAgdmVjNCBneDExID0gaXh5MTEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxMSA9IGZsb29yKGd4MTEpICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MTEgPSBmbG9vcihneTExKSAqICgxLjAgLyA2LjApOwogICAgZ3gxMSA9IGZyYWN0KGd4MTEpIC0gMC41OwogICAgZ3kxMSA9IGZyYWN0KGd5MTEpIC0gMC41OwogICAgZ3oxMSA9IGZyYWN0KGd6MTEpIC0gMC41OwogICAgdmVjNCBndzExID0gdmVjNCgwLjc1KSAtIGFicyhneDExKSAtIGFicyhneTExKSAtIGFicyhnejExKTsKICAgIHZlYzQgc3cxMSA9IHN0ZXAoZ3cxMSwgdmVjNCgwLjApKTsKICAgIGd4MTEgLT0gc3cxMSAqIChzdGVwKDAuMCwgZ3gxMSkgLSAwLjUpOwogICAgZ3kxMSAtPSBzdzExICogKHN0ZXAoMC4wLCBneTExKSAtIDAuNSk7CgogICAgdmVjNCBnMDAwMCA9IHZlYzQoZ3gwMC54LGd5MDAueCxnejAwLngsZ3cwMC54KTsKICAgIHZlYzQgZzEwMDAgPSB2ZWM0KGd4MDAueSxneTAwLnksZ3owMC55LGd3MDAueSk7CiAgICB2ZWM0IGcwMTAwID0gdmVjNChneDAwLnosZ3kwMC56LGd6MDAueixndzAwLnopOwogICAgdmVjNCBnMTEwMCA9IHZlYzQoZ3gwMC53LGd5MDAudyxnejAwLncsZ3cwMC53KTsKICAgIHZlYzQgZzAwMTAgPSB2ZWM0KGd4MTAueCxneTEwLngsZ3oxMC54LGd3MTAueCk7CiAgICB2ZWM0IGcxMDEwID0gdmVjNChneDEwLnksZ3kxMC55LGd6MTAueSxndzEwLnkpOwogICAgdmVjNCBnMDExMCA9IHZlYzQoZ3gxMC56LGd5MTAueixnejEwLnosZ3cxMC56KTsKICAgIHZlYzQgZzExMTAgPSB2ZWM0KGd4MTAudyxneTEwLncsZ3oxMC53LGd3MTAudyk7CiAgICB2ZWM0IGcwMDAxID0gdmVjNChneDAxLngsZ3kwMS54LGd6MDEueCxndzAxLngpOwogICAgdmVjNCBnMTAwMSA9IHZlYzQoZ3gwMS55LGd5MDEueSxnejAxLnksZ3cwMS55KTsKICAgIHZlYzQgZzAxMDEgPSB2ZWM0KGd4MDEueixneTAxLnosZ3owMS56LGd3MDEueik7CiAgICB2ZWM0IGcxMTAxID0gdmVjNChneDAxLncsZ3kwMS53LGd6MDEudyxndzAxLncpOwogICAgdmVjNCBnMDAxMSA9IHZlYzQoZ3gxMS54LGd5MTEueCxnejExLngsZ3cxMS54KTsKICAgIHZlYzQgZzEwMTEgPSB2ZWM0KGd4MTEueSxneTExLnksZ3oxMS55LGd3MTEueSk7CiAgICB2ZWM0IGcwMTExID0gdmVjNChneDExLnosZ3kxMS56LGd6MTEueixndzExLnopOwogICAgdmVjNCBnMTExMSA9IHZlYzQoZ3gxMS53LGd5MTEudyxnejExLncsZ3cxMS53KTsKCiAgICB2ZWM0IG5vcm0wMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDAsIGcwMDAwKSwgZG90KGcwMTAwLCBnMDEwMCksIGRvdChnMTAwMCwgZzEwMDApLCBkb3QoZzExMDAsIGcxMTAwKSkpOwogICAgZzAwMDAgKj0gbm9ybTAwLng7CiAgICBnMDEwMCAqPSBub3JtMDAueTsKICAgIGcxMDAwICo9IG5vcm0wMC56OwogICAgZzExMDAgKj0gbm9ybTAwLnc7CgogICAgdmVjNCBub3JtMDEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAxLCBnMDAwMSksIGRvdChnMDEwMSwgZzAxMDEpLCBkb3QoZzEwMDEsIGcxMDAxKSwgZG90KGcxMTAxLCBnMTEwMSkpKTsKICAgIGcwMDAxICo9IG5vcm0wMS54OwogICAgZzAxMDEgKj0gbm9ybTAxLnk7CiAgICBnMTAwMSAqPSBub3JtMDEuejsKICAgIGcxMTAxICo9IG5vcm0wMS53OwoKICAgIHZlYzQgbm9ybTEwID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxMCwgZzAwMTApLCBkb3QoZzAxMTAsIGcwMTEwKSwgZG90KGcxMDEwLCBnMTAxMCksIGRvdChnMTExMCwgZzExMTApKSk7CiAgICBnMDAxMCAqPSBub3JtMTAueDsKICAgIGcwMTEwICo9IG5vcm0xMC55OwogICAgZzEwMTAgKj0gbm9ybTEwLno7CiAgICBnMTExMCAqPSBub3JtMTAudzsKCiAgICB2ZWM0IG5vcm0xMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMTEsIGcwMDExKSwgZG90KGcwMTExLCBnMDExMSksIGRvdChnMTAxMSwgZzEwMTEpLCBkb3QoZzExMTEsIGcxMTExKSkpOwogICAgZzAwMTEgKj0gbm9ybTExLng7CiAgICBnMDExMSAqPSBub3JtMTEueTsKICAgIGcxMDExICo9IG5vcm0xMS56OwogICAgZzExMTEgKj0gbm9ybTExLnc7CgogICAgZmxvYXQgbjAwMDAgPSBkb3QoZzAwMDAsIFBmMCk7CiAgICBmbG9hdCBuMTAwMCA9IGRvdChnMTAwMCwgdmVjNChQZjEueCwgUGYwLnl6dykpOwogICAgZmxvYXQgbjAxMDAgPSBkb3QoZzAxMDAsIHZlYzQoUGYwLngsIFBmMS55LCBQZjAuencpKTsKICAgIGZsb2F0IG4xMTAwID0gZG90KGcxMTAwLCB2ZWM0KFBmMS54eSwgUGYwLnp3KSk7CiAgICBmbG9hdCBuMDAxMCA9IGRvdChnMDAxMCwgdmVjNChQZjAueHksIFBmMS56LCBQZjAudykpOwogICAgZmxvYXQgbjEwMTAgPSBkb3QoZzEwMTAsIHZlYzQoUGYxLngsIFBmMC55LCBQZjEueiwgUGYwLncpKTsKICAgIGZsb2F0IG4wMTEwID0gZG90KGcwMTEwLCB2ZWM0KFBmMC54LCBQZjEueXosIFBmMC53KSk7CiAgICBmbG9hdCBuMTExMCA9IGRvdChnMTExMCwgdmVjNChQZjEueHl6LCBQZjAudykpOwogICAgZmxvYXQgbjAwMDEgPSBkb3QoZzAwMDEsIHZlYzQoUGYwLnh5eiwgUGYxLncpKTsKICAgIGZsb2F0IG4xMDAxID0gZG90KGcxMDAxLCB2ZWM0KFBmMS54LCBQZjAueXosIFBmMS53KSk7CiAgICBmbG9hdCBuMDEwMSA9IGRvdChnMDEwMSwgdmVjNChQZjAueCwgUGYxLnksIFBmMC56LCBQZjEudykpOwogICAgZmxvYXQgbjExMDEgPSBkb3QoZzExMDEsIHZlYzQoUGYxLnh5LCBQZjAueiwgUGYxLncpKTsKICAgIGZsb2F0IG4wMDExID0gZG90KGcwMDExLCB2ZWM0KFBmMC54eSwgUGYxLnp3KSk7CiAgICBmbG9hdCBuMTAxMSA9IGRvdChnMTAxMSwgdmVjNChQZjEueCwgUGYwLnksIFBmMS56dykpOwogICAgZmxvYXQgbjAxMTEgPSBkb3QoZzAxMTEsIHZlYzQoUGYwLngsIFBmMS55encpKTsKICAgIGZsb2F0IG4xMTExID0gZG90KGcxMTExLCBQZjEpOwoKICAgIHZlYzQgZmFkZV94eXp3ID0gcXVpbnRpYyhQZjApOwogICAgdmVjNCBuXzB3ID0gbWl4KHZlYzQobjAwMDAsIG4xMDAwLCBuMDEwMCwgbjExMDApLCB2ZWM0KG4wMDAxLCBuMTAwMSwgbjAxMDEsIG4xMTAxKSwgZmFkZV94eXp3LncpOwogICAgdmVjNCBuXzF3ID0gbWl4KHZlYzQobjAwMTAsIG4xMDEwLCBuMDExMCwgbjExMTApLCB2ZWM0KG4wMDExLCBuMTAxMSwgbjAxMTEsIG4xMTExKSwgZmFkZV94eXp3LncpOwogICAgdmVjNCBuX3p3ID0gbWl4KG5fMHcsIG5fMXcsIGZhZGVfeHl6dy56KTsKICAgIHZlYzIgbl95encgPSBtaXgobl96dy54eSwgbl96dy56dywgZmFkZV94eXp3LnkpOwogICAgZmxvYXQgbl94eXp3ID0gbWl4KG5feXp3LngsIG5feXp3LnksIGZhZGVfeHl6dy54KTsKICAgIHJldHVybiAyLjIgKiBuX3h5enc7Cn0KI2VuZGlmCgoKCgoKCiNpZm5kZWYgUkFORE9NX1NDQUxFCiNpZiBkZWZpbmVkKFJBTkRPTV9ISUdIRVJfUkFOR0UpCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoLjEwMzEsIC4xMDMwLCAuMDk3MywgLjEwOTkpCiNlbHNlCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoNDQzLjg5NywgNDQxLjQyMywgLjA5NzMsIC4xMDk5KQojZW5kaWYKI2VuZGlmCgojaWZuZGVmIEZOQ19SQU5ET00KI2RlZmluZSBGTkNfUkFORE9NCmZsb2F0IHJhbmRvbShpbiBmbG9hdCB4KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgeCA9IGZyYWN0KHggKiBSQU5ET01fU0NBTEUueCk7CiAgICB4ICo9IHggKyAzMy4zMzsKICAgIHggKj0geCArIHg7CiAgICByZXR1cm4gZnJhY3QoeCk7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKHgpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjMiBzdCkgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHZlYzMgcDMgID0gZnJhY3QodmVjMyhzdC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocDMueCArIHAzLnkpICogcDMueik7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMzIHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyAgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHBvcyArPSBkb3QocG9zLCBwb3Muenl4ICsgMzEuMzIpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIHBvcy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHBvcy54eXosIHZlYzMoNzAuOTg5OCwgNzguMjMzLCAzMi40MzU1KSkpICogNDM3NTguNTQ1MzEyMyk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjNCBwb3MpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICBwb3MgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUpOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy53enh5KzMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocG9zLnggKyBwb3MueSkgKiAocG9zLnogKyBwb3MudykpOwojZWxzZQogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9Cgp2ZWMyIHJhbmRvbTIoZmxvYXQgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHAueHl4ICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzIgcmFuZG9tMih2ZWMzIHAzKSB7CiAgICBwMyA9IGZyYWN0KHAzICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzMgcmFuZG9tMyhmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4eSArIHAzLnl6eikgKiBwMy56eXgpOyAKfQoKdmVjMyByYW5kb20zKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7Cn0KCnZlYzMgcmFuZG9tMyh2ZWMzIHApIHsKICAgIHAgPSBmcmFjdChwICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwICs9IGRvdChwLCBwLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocC54eHkgKyBwLnl6eikgKiBwLnp5eCk7Cn0KCnZlYzQgcmFuZG9tNChmbG9hdCBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocCAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOyAgIAp9Cgp2ZWM0IHJhbmRvbTQodmVjMiBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocC54eXh5ICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWMzIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5enggICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWM0IHA0KSB7CiAgICBwNCA9IGZyYWN0KHA0ICAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9CgoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1NSQU5ET00KI2RlZmluZSBGTkNfU1JBTkRPTQoKZmxvYXQgc3JhbmRvbShpbiBmbG9hdCB4KSB7CiAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKHgpICogNDM3NTguNTQ1Myk7Cn0KCmZsb2F0IHNyYW5kb20oaW4gdmVjMiBzdCkgewogIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3Qoc3QueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7Cn0KCmZsb2F0IHNyYW5kb20oaW4gdmVjMyBwb3MpIHsKICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oZG90KHBvcy54eXosIHZlYzMoNzAuOTg5OCwgNzguMjMzLCAzMi40MzU1KSkpICogNDM3NTguNTQ1MzEyMyk7Cn0KCmZsb2F0IHNyYW5kb20oaW4gdmVjNCBwb3MpIHsKICAgIGZsb2F0IGRvdF9wcm9kdWN0ID0gZG90KHBvcywgdmVjNCgxMi45ODk4LDc4LjIzMyw0NS4xNjQsOTQuNjczKSk7CiAgICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7Cn0KCnZlYzIgc3JhbmRvbTIoaW4gdmVjMiBzdCkgewogICAgY29uc3QgdmVjMiBrID0gdmVjMiguMzE4MzA5OSwgLjM2Nzg3OTQpOwogICAgc3QgPSBzdCAqIGsgKyBrLnl4OwogICAgcmV0dXJuIC0xLiArIDIuICogZnJhY3QoMTYuICogayAqIGZyYWN0KHN0LnggKiBzdC55ICogKHN0LnggKyBzdC55KSkpOwp9Cgp2ZWMzIHNyYW5kb20zKGluIHZlYzMgcCkgewogICAgcCA9IHZlYzMoIGRvdChwLCB2ZWMzKDEyNy4xLCAzMTEuNywgNzQuNykpLAogICAgICAgICAgICBkb3QocCwgdmVjMygyNjkuNSwgMTgzLjMsIDI0Ni4xKSksCiAgICAgICAgICAgIGRvdChwLCB2ZWMzKDExMy41LCAyNzEuOSwgMTI0LjYpKSk7CiAgICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4ocCkgKiA0Mzc1OC41NDUzMTIzKTsKfQoKdmVjMiBzcmFuZG9tMihpbiB2ZWMyIHAsIGNvbnN0IGluIGZsb2F0IHRpbGVMZW5ndGgpIHsKICAgIHAgPSBtb2QocCwgdmVjMih0aWxlTGVuZ3RoKSk7CiAgICByZXR1cm4gc3JhbmRvbTIocCk7Cn0KCnZlYzMgc3JhbmRvbTMoaW4gdmVjMyBwLCBjb25zdCBpbiBmbG9hdCB0aWxlTGVuZ3RoKSB7CiAgICBwID0gbW9kKHAsIHZlYzModGlsZUxlbmd0aCkpOwogICAgcmV0dXJuIHNyYW5kb20zKHApOwp9CgojZW5kaWYKCgojaWZuZGVmIEZOQ19DVUJJQwojZGVmaW5lIEZOQ19DVUJJQyAKZmxvYXQgY3ViaWMoY29uc3QgaW4gZmxvYXQgdikgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CnZlYzIgIGN1YmljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQp2ZWMzICBjdWJpYyhjb25zdCBpbiB2ZWMzIHYpICB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KdmVjNCAgY3ViaWMoY29uc3QgaW4gdmVjNCB2KSAgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CgpmbG9hdCBjdWJpYyhjb25zdCBpbiBmbG9hdCB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICBmbG9hdCB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgZmxvYXQgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KCnZlYzIgY3ViaWMoY29uc3QgaW4gdmVjMiB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICB2ZWMyIHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICB2ZWMyIHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9Cgp2ZWMzIGN1YmljKGNvbnN0IGluIHZlYzMgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgdmVjMyB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgdmVjMyB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQoKdmVjNCBjdWJpYyhjb25zdCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIHZlYzQgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIHZlYzQgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KI2VuZGlmCgoKI2lmbmRlZiBGTkNfUVVJTlRJQwojZGVmaW5lIEZOQ19RVUlOVElDIAoKZmxvYXQgcXVpbnRpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMiAgcXVpbnRpYyhjb25zdCBpbiB2ZWMyIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMyAgcXVpbnRpYyhjb25zdCBpbiB2ZWMzIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjNCAgcXVpbnRpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19HTk9JU0UKI2RlZmluZSBGTkNfR05PSVNFCgpmbG9hdCBnbm9pc2UoZmxvYXQgeCkgewogICAgZmxvYXQgaSA9IGZsb29yKHgpOyAgCiAgICBmbG9hdCBmID0gZnJhY3QoeCk7ICAKICAgIHJldHVybiBtaXgocmFuZG9tKGkpLCByYW5kb20oaSArIDEuMCksIHNtb290aHN0ZXAoMC4sMS4sZikpOyAKfQoKZmxvYXQgZ25vaXNlKHZlYzIgc3QpIHsKICAgIHZlYzIgaSA9IGZsb29yKHN0KTsKICAgIHZlYzIgZiA9IGZyYWN0KHN0KTsKICAgIGZsb2F0IGEgPSByYW5kb20oaSk7CiAgICBmbG9hdCBiID0gcmFuZG9tKGkgKyB2ZWMyKDEuMCwgMC4wKSk7CiAgICBmbG9hdCBjID0gcmFuZG9tKGkgKyB2ZWMyKDAuMCwgMS4wKSk7CiAgICBmbG9hdCBkID0gcmFuZG9tKGkgKyB2ZWMyKDEuMCwgMS4wKSk7CiAgICB2ZWMyIHUgPSBjdWJpYyhmKTsKICAgIHJldHVybiBtaXgoIGEsIGIsIHUueCkgKwogICAgICAgICAgICAgICAgKGMgLSBhKSogdS55ICogKDEuMCAtIHUueCkgKwogICAgICAgICAgICAgICAgKGQgLSBiKSAqIHUueCAqIHUueTsKfQoKZmxvYXQgZ25vaXNlKHZlYzMgcCkgewogICAgdmVjMyBpID0gZmxvb3IocCk7CiAgICB2ZWMzIGYgPSBmcmFjdChwKTsKICAgIHZlYzMgdSA9IHF1aW50aWMoZik7CiAgICByZXR1cm4gLTEuMCArIDIuMCAqIG1peCggbWl4KCBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMC4wLDAuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMC4wLDAuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwxLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwxLjAsMC4wKSksIHUueCksIHUueSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXgoIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwwLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwwLjAsMS4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDEuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDEuMCwxLjApKSwgdS54KSwgdS55KSwgdS56ICk7Cn0KCmZsb2F0IGdub2lzZSh2ZWMzIHAsIGZsb2F0IHRpbGVMZW5ndGgpIHsKICAgIHZlYzMgaSA9IGZsb29yKHApOwogICAgdmVjMyBmID0gZnJhY3QocCk7CiAgICAgICAgICAgIAogICAgdmVjMyB1ID0gcXVpbnRpYyhmKTsKICAgICAgICAKICAgIHJldHVybiBtaXgoIG1peCggbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwwLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwwLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMC4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMC4wLDAuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgIG1peCggZG90KCBzcmFuZG9tMyhpICsgdmVjMygwLjAsMS4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygwLjAsMS4wLDAuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMS4wLDEuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMS4wLDEuMCwwLjApKSwgdS54KSwgdS55KSwKICAgICAgICAgICAgICAgIG1peCggbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwwLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwwLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMC4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMC4wLDEuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgIG1peCggZG90KCBzcmFuZG9tMyhpICsgdmVjMygwLjAsMS4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygwLjAsMS4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMS4wLDEuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMS4wLDEuMCwxLjApKSwgdS54KSwgdS55KSwgdS56ICk7Cn0KCnZlYzMgZ25vaXNlMyh2ZWMzIHgpIHsKICAgIHJldHVybiB2ZWMzKGdub2lzZSh4K3ZlYzMoMTIzLjQ1NiwgMC41NjcsIDAuMzcpKSwKICAgICAgICAgICAgICAgIGdub2lzZSh4K3ZlYzMoMC4xMSwgNDcuNDMsIDE5LjE3KSksCiAgICAgICAgICAgICAgICBnbm9pc2UoeCkgKTsKfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19HUkFENAojZGVmaW5lIEZOQ19HUkFENAp2ZWM0IGdyYWQ0KGZsb2F0IGosIHZlYzQgaXApIHsKICAgIGNvbnN0IHZlYzQgb25lcyA9IHZlYzQoMS4wLCAxLjAsIDEuMCwgLTEuMCk7CiAgICB2ZWM0IHAsczsKCiAgICBwLnh5eiA9IGZsb29yKCBmcmFjdCAodmVjMyhqKSAqIGlwLnh5eikgKiA3LjApICogaXAueiAtIDEuMDsKICAgIHAudyA9IDEuNSAtIGRvdChhYnMocC54eXopLCBvbmVzLnh5eik7CiAgICBzID0gdmVjNChsZXNzVGhhbihwLCB2ZWM0KDAuMCkpKTsKICAgIHAueHl6ID0gcC54eXogKyAocy54eXoqMi4wIC0gMS4wKSAqIHMud3d3OwoKICAgIHJldHVybiBwOwp9CiNlbmRpZgoKCgoKI2lmbmRlZiBGTkNfUFNSRk5PSVNFCiNkZWZpbmUgRk5DX1BTUkZOT0lTRQoKZmxvYXQgcHNyZG5vaXNlKHZlYzIgeCwgdmVjMiBwZXJpb2QsIGZsb2F0IGFscGhhLCBvdXQgdmVjMiBncmFkaWVudCkgewoKCQoJdmVjMiB1diA9IHZlYzIoeC54ICsgeC55KjAuNSwgeC55KTsKCgkKCXZlYzIgaTAgPSBmbG9vcih1dik7Cgl2ZWMyIGYwID0gZnJhY3QodXYpOwoJCglmbG9hdCBjbXAgPSBzdGVwKGYwLnksIGYwLngpOwoJdmVjMiBvMSA9IHZlYzIoY21wLCAxLjAtY21wKTsKCgkKCXZlYzIgaTEgPSBpMCArIG8xOwoJdmVjMiBpMiA9IGkwICsgdmVjMigxLjAsIDEuMCk7CgoJCgl2ZWMyIHYwID0gdmVjMihpMC54IC0gaTAueSAqIDAuNSwgaTAueSk7Cgl2ZWMyIHYxID0gdmVjMih2MC54ICsgbzEueCAtIG8xLnkgKiAwLjUsIHYwLnkgKyBvMS55KTsKCXZlYzIgdjIgPSB2ZWMyKHYwLnggKyAwLjUsIHYwLnkgKyAxLjApOwoKCQoJdmVjMiB4MCA9IHggLSB2MDsKCXZlYzIgeDEgPSB4IC0gdjE7Cgl2ZWMyIHgyID0geCAtIHYyOwoKCXZlYzMgaXUgPSB2ZWMzKDAuMCk7CiAgICB2ZWMzIGl2ID0gdmVjMygwLjApOwoJdmVjMyB4dyA9IHZlYzMoMC4wKTsKICAgIHZlYzMgeXcgPSB2ZWMzKDAuMCk7CgoJCglpZihhbnkoZ3JlYXRlclRoYW4ocGVyaW9kLCB2ZWMyKDAuMCkpKSkgewoJCXh3ID0gdmVjMyh2MC54LCB2MS54LCB2Mi54KTsKCQl5dyA9IHZlYzModjAueSwgdjEueSwgdjIueSk7CgkJaWYocGVyaW9kLnggPiAwLjApCgkJCXh3ID0gbW9kKHZlYzModjAueCwgdjEueCwgdjIueCksIHBlcmlvZC54KTsKCQlpZihwZXJpb2QueSA+IDAuMCkKCQkJeXcgPSBtb2QodmVjMyh2MC55LCB2MS55LCB2Mi55KSwgcGVyaW9kLnkpOwoJCQoJCWl1ID0gZmxvb3IoeHcgKyAwLjUqeXcgKyAwLjUpOwoJCWl2ID0gZmxvb3IoeXcgKyAwLjUpOwoJfSBlbHNlIHsgCgkJaXUgPSB2ZWMzKGkwLngsIGkxLngsIGkyLngpOwoJCWl2ID0gdmVjMyhpMC55LCBpMS55LCBpMi55KTsKCX0KCgkKCXZlYzMgaGFzaCA9IG1vZChpdSwgMjg5LjApOwoJaGFzaCA9IG1vZCgoaGFzaCo1MS4wICsgMi4wKSpoYXNoICsgaXYsIDI4OS4wKTsKCWhhc2ggPSBtb2QoKGhhc2gqMzQuMCArIDEwLjApKmhhc2gsIDI4OS4wKTsKCgkKCXZlYzMgcHNpID0gaGFzaCAqIDAuMDc0ODIgKyBhbHBoYTsKCXZlYzMgZ3ggPSBjb3MocHNpKTsKCXZlYzMgZ3kgPSBzaW4ocHNpKTsKCgkKCXZlYzIgZzAgPSB2ZWMyKGd4LngsZ3kueCk7Cgl2ZWMyIGcxID0gdmVjMihneC55LGd5LnkpOwoJdmVjMiBnMiA9IHZlYzIoZ3gueixneS56KTsKCgkKCXZlYzMgdyA9IDAuOCAtIHZlYzMoZG90KHgwLCB4MCksIGRvdCh4MSwgeDEpLCBkb3QoeDIsIHgyKSk7Cgl3ID0gbWF4KHcsIDAuMCk7Cgl2ZWMzIHcyID0gdyAqIHc7Cgl2ZWMzIHc0ID0gdzIgKiB3MjsKCgkKCXZlYzMgZ2RvdHggPSB2ZWMzKGRvdChnMCwgeDApLCBkb3QoZzEsIHgxKSwgZG90KGcyLCB4MikpOwoKCQoJZmxvYXQgbiA9IGRvdCh3NCwgZ2RvdHgpOwoKCQoJdmVjMyB3MyA9IHcyICogdzsKCXZlYzMgZHcgPSAtOC4wICogdzMgKiBnZG90eDsKCXZlYzIgZG4wID0gdzQueCAqIGcwICsgZHcueCAqIHgwOwoJdmVjMiBkbjEgPSB3NC55ICogZzEgKyBkdy55ICogeDE7Cgl2ZWMyIGRuMiA9IHc0LnogKiBnMiArIGR3LnogKiB4MjsKCWdyYWRpZW50ID0gMTAuOSAqIChkbjAgKyBkbjEgKyBkbjIpOwoKCQoJcmV0dXJuIDEwLjkgKiBuOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMiB4LCB2ZWMyIHBlcmlvZCwgZmxvYXQgYWxwaGEsIG91dCB2ZWMyIGdyYWRpZW50LCBvdXQgdmVjMyBkZykgewoKCQoJdmVjMiB1diA9IHZlYzIoeC54ICsgeC55KjAuNSwgeC55KTsKCgkKCXZlYzIgaTAgPSBmbG9vcih1dik7Cgl2ZWMyIGYwID0gZnJhY3QodXYpOwoJCglmbG9hdCBjbXAgPSBzdGVwKGYwLnksIGYwLngpOwoJdmVjMiBvMSA9IHZlYzIoY21wLCAxLjAtY21wKTsKCgkKCXZlYzIgaTEgPSBpMCArIG8xOwoJdmVjMiBpMiA9IGkwICsgdmVjMigxLjAsIDEuMCk7CgoJCgl2ZWMyIHYwID0gdmVjMihpMC54IC0gaTAueSAqIDAuNSwgaTAueSk7Cgl2ZWMyIHYxID0gdmVjMih2MC54ICsgbzEueCAtIG8xLnkgKiAwLjUsIHYwLnkgKyBvMS55KTsKCXZlYzIgdjIgPSB2ZWMyKHYwLnggKyAwLjUsIHYwLnkgKyAxLjApOwoKCQoJdmVjMiB4MCA9IHggLSB2MDsKCXZlYzIgeDEgPSB4IC0gdjE7Cgl2ZWMyIHgyID0geCAtIHYyOwoKCXZlYzMgaXUsIGl2OwoJdmVjMyB4dywgeXc7CgoJCglpZihhbnkoZ3JlYXRlclRoYW4ocGVyaW9kLCB2ZWMyKDAuMCkpKSkgewoJCXh3ID0gdmVjMyh2MC54LCB2MS54LCB2Mi54KTsKCQl5dyA9IHZlYzModjAueSwgdjEueSwgdjIueSk7CgkJaWYocGVyaW9kLnggPiAwLjApCgkJCXh3ID0gbW9kKHZlYzModjAueCwgdjEueCwgdjIueCksIHBlcmlvZC54KTsKCQlpZihwZXJpb2QueSA+IDAuMCkKCQkJeXcgPSBtb2QodmVjMyh2MC55LCB2MS55LCB2Mi55KSwgcGVyaW9kLnkpOwoJCQoJCWl1ID0gZmxvb3IoeHcgKyAwLjUqeXcgKyAwLjUpOwoJCWl2ID0gZmxvb3IoeXcgKyAwLjUpOwoJfSBlbHNlIHsgCgkJaXUgPSB2ZWMzKGkwLngsIGkxLngsIGkyLngpOwoJCWl2ID0gdmVjMyhpMC55LCBpMS55LCBpMi55KTsKCX0KCgkKCXZlYzMgaGFzaCA9IG1vZChpdSwgMjg5LjApOwoJaGFzaCA9IG1vZCgoaGFzaCo1MS4wICsgMi4wKSpoYXNoICsgaXYsIDI4OS4wKTsKCWhhc2ggPSBtb2QoKGhhc2gqMzQuMCArIDEwLjApKmhhc2gsIDI4OS4wKTsKCgkKCXZlYzMgcHNpID0gaGFzaCAqIDAuMDc0ODIgKyBhbHBoYTsKCXZlYzMgZ3ggPSBjb3MocHNpKTsKCXZlYzMgZ3kgPSBzaW4ocHNpKTsKCgkKCXZlYzIgZzAgPSB2ZWMyKGd4LngsZ3kueCk7Cgl2ZWMyIGcxID0gdmVjMihneC55LGd5LnkpOwoJdmVjMiBnMiA9IHZlYzIoZ3gueixneS56KTsKCgkKCXZlYzMgdyA9IDAuOCAtIHZlYzMoZG90KHgwLCB4MCksIGRvdCh4MSwgeDEpLCBkb3QoeDIsIHgyKSk7Cgl3ID0gbWF4KHcsIDAuMCk7Cgl2ZWMzIHcyID0gdyAqIHc7Cgl2ZWMzIHc0ID0gdzIgKiB3MjsKCgkKCXZlYzMgZ2RvdHggPSB2ZWMzKGRvdChnMCwgeDApLCBkb3QoZzEsIHgxKSwgZG90KGcyLCB4MikpOwoKCQoJZmxvYXQgbiA9IGRvdCh3NCwgZ2RvdHgpOwoKCQoJdmVjMyB3MyA9IHcyICogdzsKCXZlYzMgZHcgPSAtOC4wICogdzMgKiBnZG90eDsKCXZlYzIgZG4wID0gdzQueCAqIGcwICsgZHcueCAqIHgwOwoJdmVjMiBkbjEgPSB3NC55ICogZzEgKyBkdy55ICogeDE7Cgl2ZWMyIGRuMiA9IHc0LnogKiBnMiArIGR3LnogKiB4MjsKCWdyYWRpZW50ID0gMTAuOSAqIChkbjAgKyBkbjEgKyBkbjIpOwoKCQoJdmVjMyBkZzAsIGRnMSwgZGcyOwoJdmVjMyBkdzIgPSA0OC4wICogdzIgKiBnZG90eDsKCQoJZGcwLnh5ID0gZHcyLnggKiB4MCAqIHgwIC0gOC4wICogdzMueCAqICgyLjAgKiBnMCAqIHgwICsgZ2RvdHgueCk7CglkZzEueHkgPSBkdzIueSAqIHgxICogeDEgLSA4LjAgKiB3My55ICogKDIuMCAqIGcxICogeDEgKyBnZG90eC55KTsKCWRnMi54eSA9IGR3Mi56ICogeDIgKiB4MiAtIDguMCAqIHczLnogKiAoMi4wICogZzIgKiB4MiArIGdkb3R4LnopOwoJCglkZzAueiA9IGR3Mi54ICogeDAueCAqIHgwLnkgLSA4LjAgKiB3My54ICogZG90KGcwLCB4MC55eCk7CglkZzEueiA9IGR3Mi55ICogeDEueCAqIHgxLnkgLSA4LjAgKiB3My55ICogZG90KGcxLCB4MS55eCk7CglkZzIueiA9IGR3Mi56ICogeDIueCAqIHgyLnkgLSA4LjAgKiB3My56ICogZG90KGcyLCB4Mi55eCk7CglkZyA9IDEwLjkgKiAoZGcwICsgZGcxICsgZGcyKTsKCgkKCXJldHVybiAxMC45ICogbjsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzIgeCwgdmVjMiBwZXJpb2QsIGZsb2F0IGFscGhhKSB7CiAgICB2ZWMyIGcgPSB2ZWMyKDAuMCk7CiAgICByZXR1cm4gcHNyZG5vaXNlKHgsIHBlcmlvZCwgYWxwaGEsIGcpOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMiB4LCB2ZWMyIHBlcmlvZCkgewogICAgcmV0dXJuIHBzcmRub2lzZSh4LCBwZXJpb2QsIDAuMCk7Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMyIHgpIHsKICAgIHJldHVybiBwc3Jkbm9pc2UoeCwgdmVjMigwLjApKTsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzMgeCwgdmVjMyBwZXJpb2QsIGZsb2F0IGFscGhhLCBvdXQgdmVjMyBncmFkaWVudCkgewoKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIAogICAgY29uc3QgbWF0MyBNID0gbWF0MygwLjAsIDEuMCwgMS4wLAogICAgICAgICAgICAgICAgICAgICAgICAxLjAsIDAuMCwgMS4wLAogICAgICAgICAgICAgICAgICAgICAgICAxLjAsIDEuMCwgMC4wKTsKCiAgICBjb25zdCBtYXQzIE1pID0gbWF0MygtMC41LCAwLjUsIDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuNSwtMC41LCAwLjUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjUsIDAuNSwtMC41KTsKI2VuZGlmCgogICAgdmVjMyB1dncgPSB2ZWMzKDAuMCk7CgogICAgCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICAKICAgIHV2dyA9IE0gKiB4OwogI2Vsc2UKICAgIAogICAgCiAgICB1dncgPSB4ICsgZG90KHgsIHZlYzMoMC4zMzMzMzMzMykpOwogI2VuZGlmCgogICAgCiAgICB2ZWMzIGkwID0gZmxvb3IodXZ3KTsKICAgIHZlYzMgZjAgPSBmcmFjdCh1dncpOyAKCiAgICAKICAgIAogICAgCiAgICAKICAgIHZlYzMgZ18gPSBzdGVwKGYwLnh5eCwgZjAueXp6KTsgCiAgICB2ZWMzIGxfID0gMS4wIC0gZ187ICAgICAgICAgICAgIAogICAgdmVjMyBnID0gdmVjMyhsXy56LCBnXy54eSk7CiAgICB2ZWMzIGwgPSB2ZWMzKGxfLnh5LCBnXy56KTsKICAgIHZlYzMgbzEgPSBtaW4oIGcsIGwgKTsKICAgIHZlYzMgbzIgPSBtYXgoIGcsIGwgKTsKCiAgICAKICAgIHZlYzMgaTEgPSBpMCArIG8xOwogICAgdmVjMyBpMiA9IGkwICsgbzI7CiAgICB2ZWMzIGkzID0gaTAgKyB2ZWMzKDEuMCk7CgogICAgdmVjMyB2MCA9IHZlYzMoMC4wKTsKICAgIHZlYzMgdjEgPSB2ZWMzKDAuMCk7CiAgICB2ZWMzIHYyID0gdmVjMygwLjApOwogICAgdmVjMyB2MyA9IHZlYzMoMC4wKTsKCiAgICAKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIHYwID0gTWkgKiBpMDsKICAgIHYxID0gTWkgKiBpMTsKICAgIHYyID0gTWkgKiBpMjsKICAgIHYzID0gTWkgKiBpMzsKI2Vsc2UKICAgIAogICAgdjAgPSBpMCAtIGRvdChpMCwgdmVjMygxLjAvNi4wKSk7CiAgICB2MSA9IGkxIC0gZG90KGkxLCB2ZWMzKDEuMC82LjApKTsKICAgIHYyID0gaTIgLSBkb3QoaTIsIHZlYzMoMS4wLzYuMCkpOwogICAgdjMgPSBpMyAtIGRvdChpMywgdmVjMygxLjAvNi4wKSk7CiNlbmRpZgoKICAgIAogICAgdmVjMyB4MCA9IHggLSB2MDsKICAgIHZlYzMgeDEgPSB4IC0gdjE7CiAgICB2ZWMzIHgyID0geCAtIHYyOwogICAgdmVjMyB4MyA9IHggLSB2MzsKCiAgICBpZihhbnkoZ3JlYXRlclRoYW4ocGVyaW9kLCB2ZWMzKDAuMCkpKSkgewogICAgICAgIAogICAgICAgIHZlYzQgdnggPSB2ZWM0KHYwLngsIHYxLngsIHYyLngsIHYzLngpOwogICAgICAgIHZlYzQgdnkgPSB2ZWM0KHYwLnksIHYxLnksIHYyLnksIHYzLnkpOwogICAgICAgIHZlYzQgdnogPSB2ZWM0KHYwLnosIHYxLnosIHYyLnosIHYzLnopOwogICAgICAgIAogICAgICAgIGlmKHBlcmlvZC54ID4gMC4wKSB2eCA9IG1vZCh2eCwgcGVyaW9kLngpOwogICAgICAgIGlmKHBlcmlvZC55ID4gMC4wKSB2eSA9IG1vZCh2eSwgcGVyaW9kLnkpOwogICAgICAgIGlmKHBlcmlvZC56ID4gMC4wKSB2eiA9IG1vZCh2eiwgcGVyaW9kLnopOwogICAgICAgIAojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgICAgIGkwID0gTSAqIHZlYzModngueCwgdnkueCwgdnoueCk7CiAgICAgICAgaTEgPSBNICogdmVjMyh2eC55LCB2eS55LCB2ei55KTsKICAgICAgICBpMiA9IE0gKiB2ZWMzKHZ4LnosIHZ5LnosIHZ6LnopOwogICAgICAgIGkzID0gTSAqIHZlYzModngudywgdnkudywgdnoudyk7CiNlbHNlCiAgICAgICAgdjAgPSB2ZWMzKHZ4LngsIHZ5LngsIHZ6LngpOwogICAgICAgIHYxID0gdmVjMyh2eC55LCB2eS55LCB2ei55KTsKICAgICAgICB2MiA9IHZlYzModngueiwgdnkueiwgdnoueik7CiAgICAgICAgdjMgPSB2ZWMzKHZ4LncsIHZ5LncsIHZ6LncpOwogICAgICAgIAogICAgICAgIGkwID0gdjAgKyBkb3QodjAsIHZlYzMoMS4wLzMuMCkpOwogICAgICAgIGkxID0gdjEgKyBkb3QodjEsIHZlYzMoMS4wLzMuMCkpOwogICAgICAgIGkyID0gdjIgKyBkb3QodjIsIHZlYzMoMS4wLzMuMCkpOwogICAgICAgIGkzID0gdjMgKyBkb3QodjMsIHZlYzMoMS4wLzMuMCkpOwojZW5kaWYKICAgICAgICAKICAgICAgICBpMCA9IGZsb29yKGkwICsgMC41KTsKICAgICAgICBpMSA9IGZsb29yKGkxICsgMC41KTsKICAgICAgICBpMiA9IGZsb29yKGkyICsgMC41KTsKICAgICAgICBpMyA9IGZsb29yKGkzICsgMC41KTsKICAgIH0KCiAgICAKICAgIHZlYzQgaGFzaCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIAogICAgICAgICAgICAgICAgdmVjNChpMC56LCBpMS56LCBpMi56LCBpMy56ICkpCiAgICAgICAgICAgICAgICArIHZlYzQoaTAueSwgaTEueSwgaTIueSwgaTMueSApKQogICAgICAgICAgICAgICAgKyB2ZWM0KGkwLngsIGkxLngsIGkyLngsIGkzLnggKSk7CgogICAgCiAgICB2ZWM0IHRoZXRhID0gaGFzaCAqIDMuODgzMjIyMDc3OyAgCiAgICB2ZWM0IHN6ICAgID0gaGFzaCAqIC0wLjAwNjkyMDQxNSArIDAuOTk2NTM5NzkyOyAKICAgIHZlYzQgcHNpICAgPSBoYXNoICogMC4xMDg3MDU2MjggOyAKCiAgICB2ZWM0IEN0ID0gY29zKHRoZXRhKTsKICAgIHZlYzQgU3QgPSBzaW4odGhldGEpOwogICAgdmVjNCBzel9wcmltZSA9IHNxcnQoIDEuMCAtIHN6KnN6ICk7IAoKICAgIHZlYzQgZ3ggPSB2ZWM0KDAuMCk7CiAgICB2ZWM0IGd5ID0gdmVjNCgwLjApOwogICAgdmVjNCBneiA9IHZlYzQoMC4wKTsKCiAgICAKI2lmZGVmIFBTUkROT0lTRV9GQVNUX1JPVEFUSU9OCiAgICAKICAgIHZlYzQgcXggPSBTdDsgICAgICAgICAKICAgIHZlYzQgcXkgPSAtQ3Q7IAogICAgdmVjNCBxeiA9IHZlYzQoMC4wKTsKCiAgICB2ZWM0IHB4ID0gIHN6ICogcXk7ICAgCiAgICB2ZWM0IHB5ID0gLXN6ICogcXg7CiAgICB2ZWM0IHB6ID0gc3pfcHJpbWU7CgogICAgcHNpICs9IGFscGhhOyAgICAgICAgIAogICAgdmVjNCBTYSA9IHNpbihwc2kpOwogICAgdmVjNCBDYSA9IGNvcyhwc2kpOwoKICAgIGd4ID0gQ2EgKiBweCArIFNhICogcXg7CiAgICBneSA9IENhICogcHkgKyBTYSAqIHF5OwogICAgZ3ogPSBDYSAqIHB6ICsgU2EgKiBxejsKI2Vsc2UKICAgIAogICAgCiAgICBpZihhbHBoYSAhPSAwLjApIHsKICAgICAgICB2ZWM0IFNwID0gc2luKHBzaSk7ICAgICAgICAgIAogICAgICAgIHZlYzQgQ3AgPSBjb3MocHNpKTsKCiAgICAgICAgdmVjNCBweCA9IEN0ICogc3pfcHJpbWU7ICAgICAKICAgICAgICB2ZWM0IHB5ID0gU3QgKiBzel9wcmltZTsgICAgIAogICAgICAgIHZlYzQgcHogPSBzejsKCiAgICAgICAgdmVjNCBDdHAgPSBTdCpTcCAtIEN0KkNwOyAgICAKICAgICAgICB2ZWM0IHF4ID0gbWl4KCBDdHAqU3QsIFNwLCBzeik7CiAgICAgICAgdmVjNCBxeSA9IG1peCgtQ3RwKkN0LCBDcCwgc3opOwogICAgICAgIHZlYzQgcXogPSAtKHB5KkNwICsgcHgqU3ApOwoKICAgICAgICB2ZWM0IFNhID0gdmVjNChzaW4oYWxwaGEpKTsgICAgICAgCiAgICAgICAgdmVjNCBDYSA9IHZlYzQoY29zKGFscGhhKSk7CgogICAgICAgIGd4ID0gQ2EgKiBweCArIFNhICogcXg7CiAgICAgICAgZ3kgPSBDYSAqIHB5ICsgU2EgKiBxeTsKICAgICAgICBneiA9IENhICogcHogKyBTYSAqIHF6OwogICAgfQogICAgZWxzZSB7CiAgICAgICAgZ3ggPSBDdCAqIHN6X3ByaW1lOyAgCiAgICAgICAgZ3kgPSBTdCAqIHN6X3ByaW1lOwogICAgICAgIGd6ID0gc3o7ICAKICAgIH0KI2VuZGlmCgogICAgCiAgICB2ZWMzIGcwID0gdmVjMyhneC54LCBneS54LCBnei54KTsKICAgIHZlYzMgZzEgPSB2ZWMzKGd4LnksIGd5LnksIGd6LnkpOwogICAgdmVjMyBnMiA9IHZlYzMoZ3gueiwgZ3kueiwgZ3oueik7CiAgICB2ZWMzIGczID0gdmVjMyhneC53LCBneS53LCBnei53KTsKCiAgICAKICAgIHZlYzQgdyA9IDAuNSAtIHZlYzQoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSwgZG90KHgzLHgzKSk7CiAgICB3ID0gbWF4KHcsIDAuMCk7CiAgICB2ZWM0IHcyID0gdyAqIHc7CiAgICB2ZWM0IHczID0gdzIgKiB3OwoKICAgIAogICAgdmVjNCBnZG90eCA9IHZlYzQoZG90KGcwLHgwKSwgZG90KGcxLHgxKSwgZG90KGcyLHgyKSwgZG90KGczLHgzKSk7CgogICAgCiAgICBmbG9hdCBuID0gZG90KHczLCBnZG90eCk7CgogICAgCiAgICB2ZWM0IGR3ID0gLTYuMCAqIHcyICogZ2RvdHg7CiAgICB2ZWMzIGRuMCA9IHczLnggKiBnMCArIGR3LnggKiB4MDsKICAgIHZlYzMgZG4xID0gdzMueSAqIGcxICsgZHcueSAqIHgxOwogICAgdmVjMyBkbjIgPSB3My56ICogZzIgKyBkdy56ICogeDI7CiAgICB2ZWMzIGRuMyA9IHczLncgKiBnMyArIGR3LncgKiB4MzsKICAgIGdyYWRpZW50ID0gMzkuNSAqIChkbjAgKyBkbjEgKyBkbjIgKyBkbjMpOwoKICAgIAogICAgcmV0dXJuIDM5LjUgKiBuOwogIAp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMyB4LCB2ZWMzIHBlcmlvZCwgZmxvYXQgYWxwaGEsIG91dCB2ZWMzIGdyYWRpZW50LCBvdXQgdmVjMyBkZywgb3V0IHZlYzMgZGcyKSB7CgojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgCiAgICBjb25zdCBtYXQzIE0gPSBtYXQzKDAuMCwgMS4wLCAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgIDEuMCwgMC4wLCAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgIDEuMCwgMS4wLCAwLjApOwoKICAgIGNvbnN0IG1hdDMgTWkgPSBtYXQzKC0wLjUsIDAuNSwgMC41LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41LC0wLjUsIDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuNSwgMC41LC0wLjUpOwojZW5kaWYKCiAgICB2ZWMzIHV2dyA9IHZlYzMoMC4wKTsKCiAgICAKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIAogICAgdXZ3ID0gTSAqIHg7CiNlbHNlCiAgICAKICAgIAogICAgdXZ3ID0geCArIGRvdCh4LCB2ZWMzKDAuMzMzMzMzMykpOwojZW5kaWYKCiAgICAKICAgIHZlYzMgaTAgPSBmbG9vcih1dncpOwogICAgdmVjMyBmMCA9IGZyYWN0KHV2dyk7IAoKICAgIAogICAgCiAgICAKICAgIAogICAgdmVjMyBnXyA9IHN0ZXAoZjAueHl4LCBmMC55enopOyAKICAgIHZlYzMgbF8gPSAxLjAgLSBnXzsgICAgICAgICAgICAgCiAgICB2ZWMzIGcgPSB2ZWMzKGxfLnosIGdfLnh5KTsKICAgIHZlYzMgbCA9IHZlYzMobF8ueHksIGdfLnopOwogICAgdmVjMyBvMSA9IG1pbiggZywgbCApOwogICAgdmVjMyBvMiA9IG1heCggZywgbCApOwoKICAgIAogICAgdmVjMyBpMSA9IGkwICsgbzE7CiAgICB2ZWMzIGkyID0gaTAgKyBvMjsKICAgIHZlYzMgaTMgPSBpMCArIHZlYzMoMS4wKTsKCiAgICB2ZWMzIHYwLCB2MSwgdjIsIHYzOwoKICAgIAojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgdjAgPSBNaSAqIGkwOwogICAgdjEgPSBNaSAqIGkxOwogICAgdjIgPSBNaSAqIGkyOwogICAgdjMgPSBNaSAqIGkzOwojZWxzZQogICAgCiAgICB2MCA9IGkwIC0gZG90KGkwLCB2ZWMzKDEuMC82LjApKTsKICAgIHYxID0gaTEgLSBkb3QoaTEsIHZlYzMoMS4wLzYuMCkpOwogICAgdjIgPSBpMiAtIGRvdChpMiwgdmVjMygxLjAvNi4wKSk7CiAgICB2MyA9IGkzIC0gZG90KGkzLCB2ZWMzKDEuMC82LjApKTsKI2VuZGlmCgogICAgCiAgICB2ZWMzIHgwID0geCAtIHYwOwogICAgdmVjMyB4MSA9IHggLSB2MTsKICAgIHZlYzMgeDIgPSB4IC0gdjI7CiAgICB2ZWMzIHgzID0geCAtIHYzOwoKICAgIGlmKGFueShncmVhdGVyVGhhbihwZXJpb2QsIHZlYzMoMC4wKSkpKSB7CiAgICAgICAgCiAgICAgICAgdmVjNCB2eCA9IHZlYzQodjAueCwgdjEueCwgdjIueCwgdjMueCk7CiAgICAgICAgdmVjNCB2eSA9IHZlYzQodjAueSwgdjEueSwgdjIueSwgdjMueSk7CiAgICAgICAgdmVjNCB2eiA9IHZlYzQodjAueiwgdjEueiwgdjIueiwgdjMueik7CiAgICAgICAgCiAgICAgICAgaWYocGVyaW9kLnggPiAwLjApIHZ4ID0gbW9kKHZ4LCBwZXJpb2QueCk7CiAgICAgICAgaWYocGVyaW9kLnkgPiAwLjApIHZ5ID0gbW9kKHZ5LCBwZXJpb2QueSk7CiAgICAgICAgaWYocGVyaW9kLnogPiAwLjApIHZ6ID0gbW9kKHZ6LCBwZXJpb2Queik7CiAgICAgICAgCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICAgICAgaTAgPSBNICogdmVjMyh2eC54LCB2eS54LCB2ei54KTsKICAgICAgICBpMSA9IE0gKiB2ZWMzKHZ4LnksIHZ5LnksIHZ6LnkpOwogICAgICAgIGkyID0gTSAqIHZlYzModngueiwgdnkueiwgdnoueik7CiAgICAgICAgaTMgPSBNICogdmVjMyh2eC53LCB2eS53LCB2ei53KTsKI2Vsc2UKICAgICAgICB2MCA9IHZlYzModngueCwgdnkueCwgdnoueCk7CiAgICAgICAgdjEgPSB2ZWMzKHZ4LnksIHZ5LnksIHZ6LnkpOwogICAgICAgIHYyID0gdmVjMyh2eC56LCB2eS56LCB2ei56KTsKICAgICAgICB2MyA9IHZlYzModngudywgdnkudywgdnoudyk7CiAgICAgICAgCiAgICAgICAgaTAgPSB2MCArIGRvdCh2MCwgdmVjMygwLjMzMzMzMzMpKTsKICAgICAgICBpMSA9IHYxICsgZG90KHYxLCB2ZWMzKDAuMzMzMzMzMykpOwogICAgICAgIGkyID0gdjIgKyBkb3QodjIsIHZlYzMoMC4zMzMzMzMzKSk7CiAgICAgICAgaTMgPSB2MyArIGRvdCh2MywgdmVjMygwLjMzMzMzMzMpKTsKI2VuZGlmCiAgICAgICAgCiAgICAgICAgaTAgPSBmbG9vcihpMCArIDAuNSk7CiAgICAgICAgaTEgPSBmbG9vcihpMSArIDAuNSk7CiAgICAgICAgaTIgPSBmbG9vcihpMiArIDAuNSk7CiAgICAgICAgaTMgPSBmbG9vcihpMyArIDAuNSk7CiAgICB9CgogICAgCiAgICB2ZWM0IGhhc2ggPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCAKICAgICAgICAgICAgICAgIHZlYzQoaTAueiwgaTEueiwgaTIueiwgaTMueiApKQogICAgICAgICAgICAgICAgKyB2ZWM0KGkwLnksIGkxLnksIGkyLnksIGkzLnkgKSkKICAgICAgICAgICAgICAgICsgdmVjNChpMC54LCBpMS54LCBpMi54LCBpMy54ICkpOwoKICAgIAogICAgdmVjNCB0aGV0YSA9IGhhc2ggKiAzLjg4MzIyMjA3NzsgIAogICAgdmVjNCBzeiAgICA9IGhhc2ggKiAtMC4wMDY5MjA0MTUgKyAwLjk5NjUzOTc5MjsgCiAgICB2ZWM0IHBzaSAgID0gaGFzaCAqIDAuMTA4NzA1NjI4IDsgCgogICAgdmVjNCBDdCA9IGNvcyh0aGV0YSk7CiAgICB2ZWM0IFN0ID0gc2luKHRoZXRhKTsKICAgIHZlYzQgc3pfcHJpbWUgPSBzcXJ0KCAxLjAgLSBzeipzeiApOyAKCiAgICB2ZWM0IGd4LCBneSwgZ3o7CgogICAgCiNpZmRlZiBQU1JETk9JU0VfRkFTVF9ST1RBVElPTgogICAgCiAgICB2ZWM0IHF4ID0gU3Q7ICAgICAgICAgCiAgICB2ZWM0IHF5ID0gLUN0OyAKICAgIHZlYzQgcXogPSB2ZWM0KDAuMCk7CgogICAgdmVjNCBweCA9ICBzeiAqIHF5OyAgIAogICAgdmVjNCBweSA9IC1zeiAqIHF4OwogICAgdmVjNCBweiA9IHN6X3ByaW1lOwoKICAgIHBzaSArPSBhbHBoYTsgICAgICAgICAKICAgIHZlYzQgU2EgPSBzaW4ocHNpKTsKICAgIHZlYzQgQ2EgPSBjb3MocHNpKTsKCiAgICBneCA9IENhICogcHggKyBTYSAqIHF4OwogICAgZ3kgPSBDYSAqIHB5ICsgU2EgKiBxeTsKICAgIGd6ID0gQ2EgKiBweiArIFNhICogcXo7CiAgICAjZWxzZQogICAgCiAgICAKICAgIGlmKGFscGhhICE9IDAuMCkgewogICAgICAgIHZlYzQgU3AgPSBzaW4ocHNpKTsgICAgICAgICAgCiAgICAgICAgdmVjNCBDcCA9IGNvcyhwc2kpOwoKICAgICAgICB2ZWM0IHB4ID0gQ3QgKiBzel9wcmltZTsgICAgIAogICAgICAgIHZlYzQgcHkgPSBTdCAqIHN6X3ByaW1lOyAgICAgCiAgICAgICAgdmVjNCBweiA9IHN6OwoKICAgICAgICB2ZWM0IEN0cCA9IFN0KlNwIC0gQ3QqQ3A7ICAgIAogICAgICAgIHZlYzQgcXggPSBtaXgoIEN0cCpTdCwgU3AsIHN6KTsKICAgICAgICB2ZWM0IHF5ID0gbWl4KC1DdHAqQ3QsIENwLCBzeik7CiAgICAgICAgdmVjNCBxeiA9IC0ocHkqQ3AgKyBweCpTcCk7CgogICAgICAgIHZlYzQgU2EgPSB2ZWM0KHNpbihhbHBoYSkpOyAgICAgICAKICAgICAgICB2ZWM0IENhID0gdmVjNChjb3MoYWxwaGEpKTsKCiAgICAgICAgZ3ggPSBDYSAqIHB4ICsgU2EgKiBxeDsKICAgICAgICBneSA9IENhICogcHkgKyBTYSAqIHF5OwogICAgICAgIGd6ID0gQ2EgKiBweiArIFNhICogcXo7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBneCA9IEN0ICogc3pfcHJpbWU7ICAKICAgICAgICBneSA9IFN0ICogc3pfcHJpbWU7CiAgICAgICAgZ3ogPSBzejsgIAogICAgfQojZW5kaWYKCiAgICAKICAgIHZlYzMgZzAgPSB2ZWMzKGd4LngsIGd5LngsIGd6LngpOwogICAgdmVjMyBnMSA9IHZlYzMoZ3gueSwgZ3kueSwgZ3oueSk7CiAgICB2ZWMzIGcyID0gdmVjMyhneC56LCBneS56LCBnei56KTsKICAgIHZlYzMgZzMgPSB2ZWMzKGd4LncsIGd5LncsIGd6LncpOwoKICAgIAogICAgdmVjNCB3ID0gMC41IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKTsKICAgIHcgPSBtYXgodywgMC4wKTsKICAgIHZlYzQgdzIgPSB3ICogdzsKICAgIHZlYzQgdzMgPSB3MiAqIHc7CgogICAgCiAgICB2ZWM0IGdkb3R4ID0gdmVjNChkb3QoZzAseDApLCBkb3QoZzEseDEpLCBkb3QoZzIseDIpLCBkb3QoZzMseDMpKTsKCiAgICAKICAgIGZsb2F0IG4gPSBkb3QodzMsIGdkb3R4KTsKCiAgICAKICAgIHZlYzQgZHcgPSAtNi4wICogdzIgKiBnZG90eDsKICAgIHZlYzMgZG4wID0gdzMueCAqIGcwICsgZHcueCAqIHgwOwogICAgdmVjMyBkbjEgPSB3My55ICogZzEgKyBkdy55ICogeDE7CiAgICB2ZWMzIGRuMiA9IHczLnogKiBnMiArIGR3LnogKiB4MjsKICAgIHZlYzMgZG4zID0gdzMudyAqIGczICsgZHcudyAqIHgzOwogICAgZ3JhZGllbnQgPSAzOS41ICogKGRuMCArIGRuMSArIGRuMiArIGRuMyk7CgogICAgCiAgICB2ZWM0IGR3MiA9IDI0LjAgKiB3ICogZ2RvdHg7CiAgICB2ZWMzIGRnYTAgPSBkdzIueCAqIHgwICogeDAgLSA2LjAgKiB3Mi54ICogKGdkb3R4LnggKyAyLjAgKiBnMCAqIHgwKTsKICAgIHZlYzMgZGdhMSA9IGR3Mi55ICogeDEgKiB4MSAtIDYuMCAqIHcyLnkgKiAoZ2RvdHgueSArIDIuMCAqIGcxICogeDEpOwogICAgdmVjMyBkZ2EyID0gZHcyLnogKiB4MiAqIHgyIC0gNi4wICogdzIueiAqIChnZG90eC56ICsgMi4wICogZzIgKiB4Mik7CiAgICB2ZWMzIGRnYTMgPSBkdzIudyAqIHgzICogeDMgLSA2LjAgKiB3Mi53ICogKGdkb3R4LncgKyAyLjAgKiBnMyAqIHgzKTsKICAgIGRnID0gMzUuMCAqIChkZ2EwICsgZGdhMSArIGRnYTIgKyBkZ2EzKTsgCiAgICB2ZWMzIGRnYjAgPSBkdzIueCAqIHgwICogeDAueXp4IC0gNi4wICogdzIueCAqIChnMCAqIHgwLnl6eCArIGcwLnl6eCAqIHgwKTsKICAgIHZlYzMgZGdiMSA9IGR3Mi55ICogeDEgKiB4MS55enggLSA2LjAgKiB3Mi55ICogKGcxICogeDEueXp4ICsgZzEueXp4ICogeDEpOwogICAgdmVjMyBkZ2IyID0gZHcyLnogKiB4MiAqIHgyLnl6eCAtIDYuMCAqIHcyLnogKiAoZzIgKiB4Mi55enggKyBnMi55enggKiB4Mik7CiAgICB2ZWMzIGRnYjMgPSBkdzIudyAqIHgzICogeDMueXp4IC0gNi4wICogdzIudyAqIChnMyAqIHgzLnl6eCArIGczLnl6eCAqIHgzKTsKICAgIGRnMiA9IDM5LjUgKiAoZGdiMCArIGRnYjEgKyBkZ2IyICsgZGdiMyk7IAoKICAgIAogICAgcmV0dXJuIDM5LjUgKiBuOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMyB4LCB2ZWMzIHBlcmlvZCwgZmxvYXQgYWxwaGEpIHsKICAgIHZlYzMgZyA9IHZlYzMoMC4wKTsKICAgIHJldHVybiBwc3Jkbm9pc2UoeCwgcGVyaW9kLCBhbHBoYSwgZyk7Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMzIHgsIHZlYzMgcGVyaW9kKSB7CiAgICByZXR1cm4gcHNyZG5vaXNlKHgsIHBlcmlvZCwgMC4wKTsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzMgeCkgewogICAgcmV0dXJuIHBzcmRub2lzZSh4LCB2ZWMzKDAuMCkpOwp9CiNlbmRpZgoKCgptYXQ0IHJvdGF0aW9uTWF0cml4KHZlYzMgYXhpcywgZmxvYXQgYW5nbGUpCgp7CgogICAgYXhpcyA9IG5vcm1hbGl6ZShheGlzKTsKCiAgICBmbG9hdCBzID0gc2luKGFuZ2xlKTsKCiAgICBmbG9hdCBjID0gY29zKGFuZ2xlKTsKCiAgICBmbG9hdCBvYyA9IDEuMCAtIGM7CgogICAgCgogICAgcmV0dXJuIG1hdDQob2MgKiBheGlzLnggKiBheGlzLnggKyBjLCAgICAgICAgICAgb2MgKiBheGlzLnggKiBheGlzLnkgLSBheGlzLnogKiBzLCAgb2MgKiBheGlzLnogKiBheGlzLnggKyBheGlzLnkgKiBzLCAgMC4wLAoKICAgICAgICAgICAgICAgIG9jICogYXhpcy54ICogYXhpcy55ICsgYXhpcy56ICogcywgIG9jICogYXhpcy55ICogYXhpcy55ICsgYywgICAgICAgICAgIG9jICogYXhpcy55ICogYXhpcy56IC0gYXhpcy54ICogcywgIDAuMCwKCiAgICAgICAgICAgICAgICBvYyAqIGF4aXMueiAqIGF4aXMueCAtIGF4aXMueSAqIHMsICBvYyAqIGF4aXMueSAqIGF4aXMueiArIGF4aXMueCAqIHMsICBvYyAqIGF4aXMueiAqIGF4aXMueiArIGMsICAgICAgICAgICAwLjAsCgogICAgICAgICAgICAgICAgMC4wLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4wLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4wLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMS4wKTsKCn0KCgoKbWF0MyByb3RBeGlzKHZlYzMgYXhpcywgZmxvYXQgYSkgewoKICBmbG9hdCBzPXNpbihhKTsKCiAgZmxvYXQgYz1jb3MoYSk7CgogIGZsb2F0IG9jPTEuMC1jOwoKICB2ZWMzIGFzPWF4aXMqczsKCiAgbWF0MyBwPW1hdDMoYXhpcy54KmF4aXMsYXhpcy55KmF4aXMsYXhpcy56KmF4aXMpOwoKICBtYXQzIHE9bWF0MyhjLC1hcy56LGFzLnksYXMueixjLC1hcy54LC1hcy55LGFzLngsYyk7CgogIHJldHVybiBwKm9jK3E7Cgp9CgoKCnZlYzMgcm90YXRlQXhpcyh2ZWMzIHAsIHZlYzMgYXhpcywgZmxvYXQgYW5nbGUpIHsKCiAgcmV0dXJuIG1peChkb3QoYXhpcywgcCkqYXhpcywgcCwgY29zKGFuZ2xlKSkgKyBjcm9zcyhheGlzLHApKnNpbihhbmdsZSk7Cgp9CgoKCnZvaWQgbWFpbigpIHsKCiAgdlV2ID0gdXY7CgoKCiAgdkRpc3BsYWNlbWVudCA9IHBzcmRub2lzZShwb3NpdGlvbiArIHZlYzMoKHVfc3BlZWQqMS4wKSp1X3RpbWUpKTsKCgoKICB2ZWMzIG5ld1Bvc2l0aW9uID0gcG9zaXRpb24gKyBub3JtYWwgKiB2RGlzcGxhY2VtZW50KnVfaW50ZW5zaXR5OwoKICAKCiAgaWYodV9yb3RhdGUgPT0gdHJ1ZSl7CgogICAgbmV3UG9zaXRpb24gPSByb3RhdGVBeGlzKG5ld1Bvc2l0aW9uLHZlYzMoMC4sMS4sMC41KSwgdV90aW1lKnVfc3BlZWQqMC4yNSk7CgogIH0KCiAgdmVjNCBtb2RlbFBvc2l0aW9uID0gbW9kZWxNYXRyaXggKiB2ZWM0KG5ld1Bvc2l0aW9uLCAxLjApOwoKICB2ZWM0IHZpZXdQb3NpdGlvbiA9IHZpZXdNYXRyaXggKiBtb2RlbFBvc2l0aW9uOwoKICB2ZWM0IHByb2plY3RlZFBvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdQb3NpdGlvbjsKCgoKICBnbF9Qb3NpdGlvbiA9IHByb2plY3RlZFBvc2l0aW9uOwoKfQoKYCwKICAgICAgICAgICAgICAgIHVuaWZvcm1zOiB7dV9pbnRlbnNpdHk6IHt2YWx1ZTogMC43NjR9LHVfc3BlZWQ6IHt2YWx1ZTogMC4wNTZ9LHVfY29sb3JzOiB7dmFsdWU6IFtuZXcgVEhSRUUuVmVjdG9yNCgwLjg0NzA1ODgyMzUyOTQxMTgsMC4yMjc0NTA5ODAzOTIxNTY4NiwwLjIzNTI5NDExNzY0NzA1ODgyLDEpLG5ldyBUSFJFRS5WZWN0b3I0KDAuMTMzMzMzMzMzMzMzMzMzMzMsMC4xMjU0OTAxOTYwNzg0MzEzNywwLjEyNTQ5MDE5NjA3ODQzMTM3LDEpXX0sdV9ub2lzZToge3ZhbHVlOiB0cnVlfSx1X25vaXNlX2NvbG9yOiB7dmFsdWU6IFsxLDAsMF19LHVfcm90YXRlOiB7dmFsdWU6IHRydWV9LHVfdGltZToge3ZhbHVlOiAwfSx1X21vdXNlOiB7dmFsdWU6IFswLDBdfSx1X3Jlc29sdXRpb246IHt2YWx1ZTogWzI0MCw1ODBdfX0sCiAgICAgICAgICAgICAgICB3aXJlZnJhbWU6IGZhbHNlLCAKICAgICAgICAgICAgICAgIHdpcmVmcmFtZUxpbmV3aWR0aDogMCwKICAgICAgICAgICAgICAgIGRpdGhlcmluZzogZmFsc2UsCiAgICAgICAgICAgICAgICBmbGF0U2hhZGluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIGRvdWJsZVNpZGVkOiB0cnVlLAogICAgICAgICAgICAgICAgZ2xzbFZlcnNpb246ICIxMDAiCiAgICAgICAgICAgIH0pCiAgICAgICAgKTsgIAogICAgfQoKICAgIFJlYWN0RE9NLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcyx7CiAgICAgICAgICAgIGdsOiB7CiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUsCiAgICAgICAgICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IGZhbHNlLAogICAgICAgICAgICAgICAgYWxwaGE6IHRydWUsCiAgICAgICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSwKICAgICAgICAgICAgICAgIGFudGlhbGlhczogdHJ1ZSwKICAgICAgICAgICAgICAgIHByZWNpc2lvbjogImhpZ2hwIiwKICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogImhpZ2gtcGVyZm9ybWFuY2UiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlc2l6ZTp7CiAgICAgICAgICAgICAgICBkZWJvdW5jZTogMCwKICAgICAgICAgICAgICAgIHNjcm9sbDogZmFsc2UsCiAgICAgICAgICAgICAgICBvZmZzZXRTaXplOiB0cnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRwcjogMSwKICAgICAgICAgICAgY2FtZXJhOiB7CiAgICAgICAgICAgICAgICBmb3Y6IDc1LAogICAgICAgICAgICAgICAgbmVhcjogMC4xLAogICAgICAgICAgICAgICAgZmFyOiAxMDAwLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsMzJdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0eWxlOnsgaGVpZ2h0OiAiMTAwJSIsIHdpZHRoOiAiMTAwJSIgfQogICAgICAgIH0sCiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0dXJlTWVzaCkgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICksIGVtYmVkUm9vdCk7Cjwvc2NyaXB0PgogICAgICAgIDwvaGVhZD4KICAgICAgICA8Ym9keT4KPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2Jvb2suNWZiMTFiOGQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2x5Z2lhLmY3NDkwNTk0LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9vdmVyZmxvdy44ZDUwNDE1ZC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvdHJhc2guNTI0ZGJjZDMuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3ZlcnRpY2FsLjkwNjEwODQ5LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9ob3Jpem9udGFsLjQ0Zjc3MWY4LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9hZGQuYTU1MjQwZGQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3NpZy44NTBhODVlNy5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvbWludXMuMWUxYTBhYmQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2VmZmVjdC40NTU3MjQzZi5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvdmlzaWJsZS5jNmQ0ZTFjMC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvaGlkZGVuLjVhNGZjMjU0LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy93b3JrZXIuYjc2MWZiMTEuanMgLS0+CjwvYm9keT4KICAgICAgICA8L2h0bWw+" class="opacity-30 border-none w-full h-full absolute top-0 left-0">
                    </iframe>
                </div>
                <div class="aspect-video p-4 bg-neutral-800 relative overflow-hidden">
                    <h3 class="font-wide uppercase text-lg z-10 relative">Debugging</h3>
                    <p class="font-mono lowercase text-sm z-10 relative">
                        A built in test harness and debug APIs help you ship with greater stability
                    </p>
                    <iframe src="data:text/html;base64,PGh0bWw+CiAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgIGh0bWwsIGJvZHl7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAgICAgPHNjcmlwdCB0eXBlPSJpbXBvcnRtYXAiPgp7CiAgICAiaW1wb3J0cyI6IHsKICAgICAgICAicmVhY3QiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvcmVhY3RAMTguMC4yIiwKICAgICAgICAicmVhY3QtZG9tIjogImh0dHBzOi8vY2RuLnNreXBhY2suZGV2L3JlYWN0LWRvbUAxOC4wLjIiLAogICAgICAgICJ0aHJlZSI6ICJodHRwczovL2Nkbi5za3lwYWNrLmRldi90aHJlZUAwLjE0OC4wIiwKICAgICAgICAicmVhY3QtdGhyZWUvZmliZXIiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvQHJlYWN0LXRocmVlL2ZpYmVyQDcuMC4yNCIKICAgIH0KfQo8L3NjcmlwdD4KPHN0eWxlPgogICAgaHRtbCwgYm9keXsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgcGFkZGluZzogMDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYm9yZGVyOiAwOwogICAgfQogICAgLm50LWVtYmVkewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgIH0KICAgIC5udC1lbWJlZCBjYW52YXN7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQo8L3N0eWxlPgo8c2NyaXB0IHR5cGU9Im1vZHVsZSI+CiAgICBpbXBvcnQgUmVhY3QsIHt1c2VSZWYsdXNlTWVtb30gZnJvbSAncmVhY3QnOwogICAgaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7CiAgICBpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7CiAgICBpbXBvcnQge0NhbnZhcywgdXNlRnJhbWUsIHVzZVRocmVlfSBmcm9tICdyZWFjdC10aHJlZS9maWJlcic7CgogICAgbGV0IGVtYmVkUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZW1iZWRSb290LmNsYXNzTmFtZSA9ICJudC1lbWJlZCI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVtYmVkUm9vdCk7CgogICAgY29uc3QgVGV4dHVyZU1lc2ggPSAoKSA9PiB7CiAgICAgICAgY29uc3QgbWVzaCA9IHVzZVJlZihudWxsKQogICAgICAgIHVzZUZyYW1lKHN0YXRlID0+IHsKICAgICAgICAgICAgY29uc3QgeyBjbG9jaywgbW91c2UsIGdsLCBzY2VuZSwgY2FtZXJhIH0gPSBzdGF0ZQogICAgICAgICAgICBpZihtZXNoLmN1cnJlbnQpewogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfbW91c2UudmFsdWUgPSBbbW91c2UueCAvIDIgKyAwLjUsIG1vdXNlLnkgLyAyICsgMC41XQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA9IGNsb2NrLmdldEVsYXBzZWRUaW1lKCkKICAgICAgICAgICAgICAgIGxldCBjID0gZ2wuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZSA9IFtjLndpZHRoLGMuaGVpZ2h0XQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAKICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnbWVzaCcsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlZjptZXNoLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsMF0sCiAgICAgICAgICAgICAgICBzY2FsZTogNTAsCiAgICAgICAgICAgICAgICByb3RhdGlvbjogWzAsMCwwXQogICAgICAgICAgICB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdwbGFuZUdlb21ldHJ5Jyx7YXJnczpbMSwxLDEwMjQsMTAyNF19KSwgCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3NoYWRlck1hdGVyaWFsJyx7CiAgICAgICAgICAgICAgICBmcmFnbWVudFNoYWRlcjogYC8vIEZyYWdtZW50IHNoYWRlcgoKCgovLyBVbmlmb3JtcwoKdW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjsKCnVuaWZvcm0gdmVjMiB1X21vdXNlOwoKdW5pZm9ybSBmbG9hdCB1X3RpbWU7Cgp1bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5OwoKdW5pZm9ybSB2ZWM0IHVfY29sb3JzWzJdOwoKdW5pZm9ybSBmbG9hdCB1X3NwZWVkOwoKdW5pZm9ybSBmbG9hdCB1X3NjYWxlOwoKCgp2YXJ5aW5nIHZlYzIgdlV2OwoKdmFyeWluZyBmbG9hdCB2RGlzcGxhY2VtZW50OwoKCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19RVUlOVElDCiNkZWZpbmUgRk5DX1FVSU5USUMgCgpmbG9hdCBxdWludGljKGNvbnN0IGluIGZsb2F0IHYpIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMyICBxdWludGljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMzICBxdWludGljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWM0ICBxdWludGljKGNvbnN0IGluIHZlYzQgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1BOT0lTRQojZGVmaW5lIEZOQ19QTk9JU0UKCmZsb2F0IHBub2lzZShpbiB2ZWMyIFAsIGluIHZlYzIgcmVwKSB7CiAgICB2ZWM0IFBpID0gZmxvb3IoUC54eXh5KSArIHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsKICAgIHZlYzQgUGYgPSBmcmFjdChQLnh5eHkpIC0gdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApOwogICAgUGkgPSBtb2QoUGksIHJlcC54eXh5KTsgCiAgICBQaSA9IG1vZDI4OShQaSk7ICAgICAgICAKICAgIHZlYzQgaXggPSBQaS54enh6OwogICAgdmVjNCBpeSA9IFBpLnl5d3c7CiAgICB2ZWM0IGZ4ID0gUGYueHp4ejsKICAgIHZlYzQgZnkgPSBQZi55eXd3OwoKICAgIHZlYzQgaSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7CgogICAgdmVjNCBneCA9IGZyYWN0KGkgKiAoMS4wIC8gNDEuMCkpICogMi4wIC0gMS4wIDsKICAgIHZlYzQgZ3kgPSBhYnMoZ3gpIC0gMC41IDsKICAgIHZlYzQgdHggPSBmbG9vcihneCArIDAuNSk7CiAgICBneCA9IGd4IC0gdHg7CgogICAgdmVjMiBnMDAgPSB2ZWMyKGd4LngsZ3kueCk7CiAgICB2ZWMyIGcxMCA9IHZlYzIoZ3gueSxneS55KTsKICAgIHZlYzIgZzAxID0gdmVjMihneC56LGd5LnopOwogICAgdmVjMiBnMTEgPSB2ZWMyKGd4LncsZ3kudyk7CgogICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAsIGcwMCksIGRvdChnMDEsIGcwMSksIGRvdChnMTAsIGcxMCksIGRvdChnMTEsIGcxMSkpKTsKICAgIGcwMCAqPSBub3JtLng7CiAgICBnMDEgKj0gbm9ybS55OwogICAgZzEwICo9IG5vcm0uejsKICAgIGcxMSAqPSBub3JtLnc7CgogICAgZmxvYXQgbjAwID0gZG90KGcwMCwgdmVjMihmeC54LCBmeS54KSk7CiAgICBmbG9hdCBuMTAgPSBkb3QoZzEwLCB2ZWMyKGZ4LnksIGZ5LnkpKTsKICAgIGZsb2F0IG4wMSA9IGRvdChnMDEsIHZlYzIoZngueiwgZnkueikpOwogICAgZmxvYXQgbjExID0gZG90KGcxMSwgdmVjMihmeC53LCBmeS53KSk7CgogICAgdmVjMiBmYWRlX3h5ID0gcXVpbnRpYyhQZi54eSk7CiAgICB2ZWMyIG5feCA9IG1peCh2ZWMyKG4wMCwgbjAxKSwgdmVjMihuMTAsIG4xMSksIGZhZGVfeHkueCk7CiAgICBmbG9hdCBuX3h5ID0gbWl4KG5feC54LCBuX3gueSwgZmFkZV94eS55KTsKICAgIHJldHVybiAyLjMgKiBuX3h5Owp9CgpmbG9hdCBwbm9pc2UoaW4gdmVjMyBQLCBpbiB2ZWMzIHJlcCkgewogICAgdmVjMyBQaTAgPSBtb2QoZmxvb3IoUCksIHJlcCk7IAogICAgdmVjMyBQaTEgPSBtb2QoUGkwICsgdmVjMygxLjApLCByZXApOyAKICAgIFBpMCA9IG1vZDI4OShQaTApOwogICAgUGkxID0gbW9kMjg5KFBpMSk7CiAgICB2ZWMzIFBmMCA9IGZyYWN0KFApOyAKICAgIHZlYzMgUGYxID0gUGYwIC0gdmVjMygxLjApOyAKICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTsKICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTsKICAgIHZlYzQgaXowID0gUGkwLnp6eno7CiAgICB2ZWM0IGl6MSA9IFBpMS56enp6OwoKICAgIHZlYzQgaXh5ID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTsKICAgIHZlYzQgaXh5MCA9IHBlcm11dGUoaXh5ICsgaXowKTsKICAgIHZlYzQgaXh5MSA9IHBlcm11dGUoaXh5ICsgaXoxKTsKCiAgICB2ZWM0IGd4MCA9IGl4eTAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwID0gZnJhY3QoZmxvb3IoZ3gwKSAqICgxLjAgLyA3LjApKSAtIDAuNTsKICAgIGd4MCA9IGZyYWN0KGd4MCk7CiAgICB2ZWM0IGd6MCA9IHZlYzQoMC41KSAtIGFicyhneDApIC0gYWJzKGd5MCk7CiAgICB2ZWM0IHN6MCA9IHN0ZXAoZ3owLCB2ZWM0KDAuMCkpOwogICAgZ3gwIC09IHN6MCAqIChzdGVwKDAuMCwgZ3gwKSAtIDAuNSk7CiAgICBneTAgLT0gc3owICogKHN0ZXAoMC4wLCBneTApIC0gMC41KTsKCiAgICB2ZWM0IGd4MSA9IGl4eTEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxID0gZnJhY3QoZmxvb3IoZ3gxKSAqICgxLjAgLyA3LjApKSAtIDAuNTsKICAgIGd4MSA9IGZyYWN0KGd4MSk7CiAgICB2ZWM0IGd6MSA9IHZlYzQoMC41KSAtIGFicyhneDEpIC0gYWJzKGd5MSk7CiAgICB2ZWM0IHN6MSA9IHN0ZXAoZ3oxLCB2ZWM0KDAuMCkpOwogICAgZ3gxIC09IHN6MSAqIChzdGVwKDAuMCwgZ3gxKSAtIDAuNSk7CiAgICBneTEgLT0gc3oxICogKHN0ZXAoMC4wLCBneTEpIC0gMC41KTsKCiAgICB2ZWMzIGcwMDAgPSB2ZWMzKGd4MC54LGd5MC54LGd6MC54KTsKICAgIHZlYzMgZzEwMCA9IHZlYzMoZ3gwLnksZ3kwLnksZ3owLnkpOwogICAgdmVjMyBnMDEwID0gdmVjMyhneDAueixneTAueixnejAueik7CiAgICB2ZWMzIGcxMTAgPSB2ZWMzKGd4MC53LGd5MC53LGd6MC53KTsKICAgIHZlYzMgZzAwMSA9IHZlYzMoZ3gxLngsZ3kxLngsZ3oxLngpOwogICAgdmVjMyBnMTAxID0gdmVjMyhneDEueSxneTEueSxnejEueSk7CiAgICB2ZWMzIGcwMTEgPSB2ZWMzKGd4MS56LGd5MS56LGd6MS56KTsKICAgIHZlYzMgZzExMSA9IHZlYzMoZ3gxLncsZ3kxLncsZ3oxLncpOwoKICAgIHZlYzQgbm9ybTAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAsIGcwMDApLCBkb3QoZzAxMCwgZzAxMCksIGRvdChnMTAwLCBnMTAwKSwgZG90KGcxMTAsIGcxMTApKSk7CiAgICBnMDAwICo9IG5vcm0wLng7CiAgICBnMDEwICo9IG5vcm0wLnk7CiAgICBnMTAwICo9IG5vcm0wLno7CiAgICBnMTEwICo9IG5vcm0wLnc7CiAgICB2ZWM0IG5vcm0xID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxLCBnMDAxKSwgZG90KGcwMTEsIGcwMTEpLCBkb3QoZzEwMSwgZzEwMSksIGRvdChnMTExLCBnMTExKSkpOwogICAgZzAwMSAqPSBub3JtMS54OwogICAgZzAxMSAqPSBub3JtMS55OwogICAgZzEwMSAqPSBub3JtMS56OwogICAgZzExMSAqPSBub3JtMS53OwoKICAgIGZsb2F0IG4wMDAgPSBkb3QoZzAwMCwgUGYwKTsKICAgIGZsb2F0IG4xMDAgPSBkb3QoZzEwMCwgdmVjMyhQZjEueCwgUGYwLnl6KSk7CiAgICBmbG9hdCBuMDEwID0gZG90KGcwMTAsIHZlYzMoUGYwLngsIFBmMS55LCBQZjAueikpOwogICAgZmxvYXQgbjExMCA9IGRvdChnMTEwLCB2ZWMzKFBmMS54eSwgUGYwLnopKTsKICAgIGZsb2F0IG4wMDEgPSBkb3QoZzAwMSwgdmVjMyhQZjAueHksIFBmMS56KSk7CiAgICBmbG9hdCBuMTAxID0gZG90KGcxMDEsIHZlYzMoUGYxLngsIFBmMC55LCBQZjEueikpOwogICAgZmxvYXQgbjAxMSA9IGRvdChnMDExLCB2ZWMzKFBmMC54LCBQZjEueXopKTsKICAgIGZsb2F0IG4xMTEgPSBkb3QoZzExMSwgUGYxKTsKCiAgICB2ZWMzIGZhZGVfeHl6ID0gcXVpbnRpYyhQZjApOwogICAgdmVjNCBuX3ogPSBtaXgodmVjNChuMDAwLCBuMTAwLCBuMDEwLCBuMTEwKSwgdmVjNChuMDAxLCBuMTAxLCBuMDExLCBuMTExKSwgZmFkZV94eXoueik7CiAgICB2ZWMyIG5feXogPSBtaXgobl96Lnh5LCBuX3ouencsIGZhZGVfeHl6LnkpOwogICAgZmxvYXQgbl94eXogPSBtaXgobl95ei54LCBuX3l6LnksIGZhZGVfeHl6LngpOwogICAgcmV0dXJuIDIuMiAqIG5feHl6Owp9CgpmbG9hdCBwbm9pc2UoaW4gdmVjNCBQLCBpbiB2ZWM0IHJlcCkgewogICAgdmVjNCBQaTAgPSBtb2QoZmxvb3IoUCksIHJlcCk7IAogICAgdmVjNCBQaTEgPSBtb2QoUGkwICsgMS4wLCByZXApOyAKICAgIFBpMCA9IG1vZDI4OShQaTApOwogICAgUGkxID0gbW9kMjg5KFBpMSk7CiAgICB2ZWM0IFBmMCA9IGZyYWN0KFApOyAKICAgIHZlYzQgUGYxID0gUGYwIC0gMS4wOyAKICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTsKICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTsKICAgIHZlYzQgaXowID0gdmVjNChQaTAuenp6eik7CiAgICB2ZWM0IGl6MSA9IHZlYzQoUGkxLnp6enopOwogICAgdmVjNCBpdzAgPSB2ZWM0KFBpMC53d3d3KTsKICAgIHZlYzQgaXcxID0gdmVjNChQaTEud3d3dyk7CgogICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpOwogICAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApOwogICAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpOwogICAgdmVjNCBpeHkwMCA9IHBlcm11dGUoaXh5MCArIGl3MCk7CiAgICB2ZWM0IGl4eTAxID0gcGVybXV0ZShpeHkwICsgaXcxKTsKICAgIHZlYzQgaXh5MTAgPSBwZXJtdXRlKGl4eTEgKyBpdzApOwogICAgdmVjNCBpeHkxMSA9IHBlcm11dGUoaXh5MSArIGl3MSk7CgogICAgdmVjNCBneDAwID0gaXh5MDAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwMCA9IGZsb29yKGd4MDApICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MDAgPSBmbG9vcihneTAwKSAqICgxLjAgLyA2LjApOwogICAgZ3gwMCA9IGZyYWN0KGd4MDApIC0gMC41OwogICAgZ3kwMCA9IGZyYWN0KGd5MDApIC0gMC41OwogICAgZ3owMCA9IGZyYWN0KGd6MDApIC0gMC41OwogICAgdmVjNCBndzAwID0gdmVjNCgwLjc1KSAtIGFicyhneDAwKSAtIGFicyhneTAwKSAtIGFicyhnejAwKTsKICAgIHZlYzQgc3cwMCA9IHN0ZXAoZ3cwMCwgdmVjNCgwLjApKTsKICAgIGd4MDAgLT0gc3cwMCAqIChzdGVwKDAuMCwgZ3gwMCkgLSAwLjUpOwogICAgZ3kwMCAtPSBzdzAwICogKHN0ZXAoMC4wLCBneTAwKSAtIDAuNSk7CgogICAgdmVjNCBneDAxID0gaXh5MDEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwMSA9IGZsb29yKGd4MDEpICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MDEgPSBmbG9vcihneTAxKSAqICgxLjAgLyA2LjApOwogICAgZ3gwMSA9IGZyYWN0KGd4MDEpIC0gMC41OwogICAgZ3kwMSA9IGZyYWN0KGd5MDEpIC0gMC41OwogICAgZ3owMSA9IGZyYWN0KGd6MDEpIC0gMC41OwogICAgdmVjNCBndzAxID0gdmVjNCgwLjc1KSAtIGFicyhneDAxKSAtIGFicyhneTAxKSAtIGFicyhnejAxKTsKICAgIHZlYzQgc3cwMSA9IHN0ZXAoZ3cwMSwgdmVjNCgwLjApKTsKICAgIGd4MDEgLT0gc3cwMSAqIChzdGVwKDAuMCwgZ3gwMSkgLSAwLjUpOwogICAgZ3kwMSAtPSBzdzAxICogKHN0ZXAoMC4wLCBneTAxKSAtIDAuNSk7CgogICAgdmVjNCBneDEwID0gaXh5MTAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxMCA9IGZsb29yKGd4MTApICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MTAgPSBmbG9vcihneTEwKSAqICgxLjAgLyA2LjApOwogICAgZ3gxMCA9IGZyYWN0KGd4MTApIC0gMC41OwogICAgZ3kxMCA9IGZyYWN0KGd5MTApIC0gMC41OwogICAgZ3oxMCA9IGZyYWN0KGd6MTApIC0gMC41OwogICAgdmVjNCBndzEwID0gdmVjNCgwLjc1KSAtIGFicyhneDEwKSAtIGFicyhneTEwKSAtIGFicyhnejEwKTsKICAgIHZlYzQgc3cxMCA9IHN0ZXAoZ3cxMCwgdmVjNCgwLjApKTsKICAgIGd4MTAgLT0gc3cxMCAqIChzdGVwKDAuMCwgZ3gxMCkgLSAwLjUpOwogICAgZ3kxMCAtPSBzdzEwICogKHN0ZXAoMC4wLCBneTEwKSAtIDAuNSk7CgogICAgdmVjNCBneDExID0gaXh5MTEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxMSA9IGZsb29yKGd4MTEpICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MTEgPSBmbG9vcihneTExKSAqICgxLjAgLyA2LjApOwogICAgZ3gxMSA9IGZyYWN0KGd4MTEpIC0gMC41OwogICAgZ3kxMSA9IGZyYWN0KGd5MTEpIC0gMC41OwogICAgZ3oxMSA9IGZyYWN0KGd6MTEpIC0gMC41OwogICAgdmVjNCBndzExID0gdmVjNCgwLjc1KSAtIGFicyhneDExKSAtIGFicyhneTExKSAtIGFicyhnejExKTsKICAgIHZlYzQgc3cxMSA9IHN0ZXAoZ3cxMSwgdmVjNCgwLjApKTsKICAgIGd4MTEgLT0gc3cxMSAqIChzdGVwKDAuMCwgZ3gxMSkgLSAwLjUpOwogICAgZ3kxMSAtPSBzdzExICogKHN0ZXAoMC4wLCBneTExKSAtIDAuNSk7CgogICAgdmVjNCBnMDAwMCA9IHZlYzQoZ3gwMC54LGd5MDAueCxnejAwLngsZ3cwMC54KTsKICAgIHZlYzQgZzEwMDAgPSB2ZWM0KGd4MDAueSxneTAwLnksZ3owMC55LGd3MDAueSk7CiAgICB2ZWM0IGcwMTAwID0gdmVjNChneDAwLnosZ3kwMC56LGd6MDAueixndzAwLnopOwogICAgdmVjNCBnMTEwMCA9IHZlYzQoZ3gwMC53LGd5MDAudyxnejAwLncsZ3cwMC53KTsKICAgIHZlYzQgZzAwMTAgPSB2ZWM0KGd4MTAueCxneTEwLngsZ3oxMC54LGd3MTAueCk7CiAgICB2ZWM0IGcxMDEwID0gdmVjNChneDEwLnksZ3kxMC55LGd6MTAueSxndzEwLnkpOwogICAgdmVjNCBnMDExMCA9IHZlYzQoZ3gxMC56LGd5MTAueixnejEwLnosZ3cxMC56KTsKICAgIHZlYzQgZzExMTAgPSB2ZWM0KGd4MTAudyxneTEwLncsZ3oxMC53LGd3MTAudyk7CiAgICB2ZWM0IGcwMDAxID0gdmVjNChneDAxLngsZ3kwMS54LGd6MDEueCxndzAxLngpOwogICAgdmVjNCBnMTAwMSA9IHZlYzQoZ3gwMS55LGd5MDEueSxnejAxLnksZ3cwMS55KTsKICAgIHZlYzQgZzAxMDEgPSB2ZWM0KGd4MDEueixneTAxLnosZ3owMS56LGd3MDEueik7CiAgICB2ZWM0IGcxMTAxID0gdmVjNChneDAxLncsZ3kwMS53LGd6MDEudyxndzAxLncpOwogICAgdmVjNCBnMDAxMSA9IHZlYzQoZ3gxMS54LGd5MTEueCxnejExLngsZ3cxMS54KTsKICAgIHZlYzQgZzEwMTEgPSB2ZWM0KGd4MTEueSxneTExLnksZ3oxMS55LGd3MTEueSk7CiAgICB2ZWM0IGcwMTExID0gdmVjNChneDExLnosZ3kxMS56LGd6MTEueixndzExLnopOwogICAgdmVjNCBnMTExMSA9IHZlYzQoZ3gxMS53LGd5MTEudyxnejExLncsZ3cxMS53KTsKCiAgICB2ZWM0IG5vcm0wMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDAsIGcwMDAwKSwgZG90KGcwMTAwLCBnMDEwMCksIGRvdChnMTAwMCwgZzEwMDApLCBkb3QoZzExMDAsIGcxMTAwKSkpOwogICAgZzAwMDAgKj0gbm9ybTAwLng7CiAgICBnMDEwMCAqPSBub3JtMDAueTsKICAgIGcxMDAwICo9IG5vcm0wMC56OwogICAgZzExMDAgKj0gbm9ybTAwLnc7CgogICAgdmVjNCBub3JtMDEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAxLCBnMDAwMSksIGRvdChnMDEwMSwgZzAxMDEpLCBkb3QoZzEwMDEsIGcxMDAxKSwgZG90KGcxMTAxLCBnMTEwMSkpKTsKICAgIGcwMDAxICo9IG5vcm0wMS54OwogICAgZzAxMDEgKj0gbm9ybTAxLnk7CiAgICBnMTAwMSAqPSBub3JtMDEuejsKICAgIGcxMTAxICo9IG5vcm0wMS53OwoKICAgIHZlYzQgbm9ybTEwID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxMCwgZzAwMTApLCBkb3QoZzAxMTAsIGcwMTEwKSwgZG90KGcxMDEwLCBnMTAxMCksIGRvdChnMTExMCwgZzExMTApKSk7CiAgICBnMDAxMCAqPSBub3JtMTAueDsKICAgIGcwMTEwICo9IG5vcm0xMC55OwogICAgZzEwMTAgKj0gbm9ybTEwLno7CiAgICBnMTExMCAqPSBub3JtMTAudzsKCiAgICB2ZWM0IG5vcm0xMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMTEsIGcwMDExKSwgZG90KGcwMTExLCBnMDExMSksIGRvdChnMTAxMSwgZzEwMTEpLCBkb3QoZzExMTEsIGcxMTExKSkpOwogICAgZzAwMTEgKj0gbm9ybTExLng7CiAgICBnMDExMSAqPSBub3JtMTEueTsKICAgIGcxMDExICo9IG5vcm0xMS56OwogICAgZzExMTEgKj0gbm9ybTExLnc7CgogICAgZmxvYXQgbjAwMDAgPSBkb3QoZzAwMDAsIFBmMCk7CiAgICBmbG9hdCBuMTAwMCA9IGRvdChnMTAwMCwgdmVjNChQZjEueCwgUGYwLnl6dykpOwogICAgZmxvYXQgbjAxMDAgPSBkb3QoZzAxMDAsIHZlYzQoUGYwLngsIFBmMS55LCBQZjAuencpKTsKICAgIGZsb2F0IG4xMTAwID0gZG90KGcxMTAwLCB2ZWM0KFBmMS54eSwgUGYwLnp3KSk7CiAgICBmbG9hdCBuMDAxMCA9IGRvdChnMDAxMCwgdmVjNChQZjAueHksIFBmMS56LCBQZjAudykpOwogICAgZmxvYXQgbjEwMTAgPSBkb3QoZzEwMTAsIHZlYzQoUGYxLngsIFBmMC55LCBQZjEueiwgUGYwLncpKTsKICAgIGZsb2F0IG4wMTEwID0gZG90KGcwMTEwLCB2ZWM0KFBmMC54LCBQZjEueXosIFBmMC53KSk7CiAgICBmbG9hdCBuMTExMCA9IGRvdChnMTExMCwgdmVjNChQZjEueHl6LCBQZjAudykpOwogICAgZmxvYXQgbjAwMDEgPSBkb3QoZzAwMDEsIHZlYzQoUGYwLnh5eiwgUGYxLncpKTsKICAgIGZsb2F0IG4xMDAxID0gZG90KGcxMDAxLCB2ZWM0KFBmMS54LCBQZjAueXosIFBmMS53KSk7CiAgICBmbG9hdCBuMDEwMSA9IGRvdChnMDEwMSwgdmVjNChQZjAueCwgUGYxLnksIFBmMC56LCBQZjEudykpOwogICAgZmxvYXQgbjExMDEgPSBkb3QoZzExMDEsIHZlYzQoUGYxLnh5LCBQZjAueiwgUGYxLncpKTsKICAgIGZsb2F0IG4wMDExID0gZG90KGcwMDExLCB2ZWM0KFBmMC54eSwgUGYxLnp3KSk7CiAgICBmbG9hdCBuMTAxMSA9IGRvdChnMTAxMSwgdmVjNChQZjEueCwgUGYwLnksIFBmMS56dykpOwogICAgZmxvYXQgbjAxMTEgPSBkb3QoZzAxMTEsIHZlYzQoUGYwLngsIFBmMS55encpKTsKICAgIGZsb2F0IG4xMTExID0gZG90KGcxMTExLCBQZjEpOwoKICAgIHZlYzQgZmFkZV94eXp3ID0gcXVpbnRpYyhQZjApOwogICAgdmVjNCBuXzB3ID0gbWl4KHZlYzQobjAwMDAsIG4xMDAwLCBuMDEwMCwgbjExMDApLCB2ZWM0KG4wMDAxLCBuMTAwMSwgbjAxMDEsIG4xMTAxKSwgZmFkZV94eXp3LncpOwogICAgdmVjNCBuXzF3ID0gbWl4KHZlYzQobjAwMTAsIG4xMDEwLCBuMDExMCwgbjExMTApLCB2ZWM0KG4wMDExLCBuMTAxMSwgbjAxMTEsIG4xMTExKSwgZmFkZV94eXp3LncpOwogICAgdmVjNCBuX3p3ID0gbWl4KG5fMHcsIG5fMXcsIGZhZGVfeHl6dy56KTsKICAgIHZlYzIgbl95encgPSBtaXgobl96dy54eSwgbl96dy56dywgZmFkZV94eXp3LnkpOwogICAgZmxvYXQgbl94eXp3ID0gbWl4KG5feXp3LngsIG5feXp3LnksIGZhZGVfeHl6dy54KTsKICAgIHJldHVybiAyLjIgKiBuX3h5enc7Cn0KI2VuZGlmCgoKCgoKCiNpZm5kZWYgUkFORE9NX1NDQUxFCiNpZiBkZWZpbmVkKFJBTkRPTV9ISUdIRVJfUkFOR0UpCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoLjEwMzEsIC4xMDMwLCAuMDk3MywgLjEwOTkpCiNlbHNlCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoNDQzLjg5NywgNDQxLjQyMywgLjA5NzMsIC4xMDk5KQojZW5kaWYKI2VuZGlmCgojaWZuZGVmIEZOQ19SQU5ET00KI2RlZmluZSBGTkNfUkFORE9NCmZsb2F0IHJhbmRvbShpbiBmbG9hdCB4KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgeCA9IGZyYWN0KHggKiBSQU5ET01fU0NBTEUueCk7CiAgICB4ICo9IHggKyAzMy4zMzsKICAgIHggKj0geCArIHg7CiAgICByZXR1cm4gZnJhY3QoeCk7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKHgpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjMiBzdCkgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHZlYzMgcDMgID0gZnJhY3QodmVjMyhzdC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocDMueCArIHAzLnkpICogcDMueik7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMzIHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyAgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHBvcyArPSBkb3QocG9zLCBwb3Muenl4ICsgMzEuMzIpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIHBvcy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHBvcy54eXosIHZlYzMoNzAuOTg5OCwgNzguMjMzLCAzMi40MzU1KSkpICogNDM3NTguNTQ1MzEyMyk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjNCBwb3MpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICBwb3MgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUpOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy53enh5KzMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocG9zLnggKyBwb3MueSkgKiAocG9zLnogKyBwb3MudykpOwojZWxzZQogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9Cgp2ZWMyIHJhbmRvbTIoZmxvYXQgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHAueHl4ICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzIgcmFuZG9tMih2ZWMzIHAzKSB7CiAgICBwMyA9IGZyYWN0KHAzICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzMgcmFuZG9tMyhmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4eSArIHAzLnl6eikgKiBwMy56eXgpOyAKfQoKdmVjMyByYW5kb20zKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7Cn0KCnZlYzMgcmFuZG9tMyh2ZWMzIHApIHsKICAgIHAgPSBmcmFjdChwICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwICs9IGRvdChwLCBwLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocC54eHkgKyBwLnl6eikgKiBwLnp5eCk7Cn0KCnZlYzQgcmFuZG9tNChmbG9hdCBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocCAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOyAgIAp9Cgp2ZWM0IHJhbmRvbTQodmVjMiBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocC54eXh5ICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWMzIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5enggICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWM0IHA0KSB7CiAgICBwNCA9IGZyYWN0KHA0ICAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9CgoKI2VuZGlmCgoKICAgIAoKdm9pZCBtYWluKCkgewoKICBmbG9hdCBkaXN0b3J0ID0gdkRpc3BsYWNlbWVudCAqIHVfaW50ZW5zaXR5OwoKICB2ZWMyIHZhbCA9IGFicyh2VXYgLSAwLjUpICogMy4wICAqICgxLjAgLSBkaXN0b3J0KTsKCiAgCgogIHZlYzQgY29sb3IgPSB2ZWM0KHZlYzModmFsLHVfY29sb3JzWzBdLmIpLDEuMCk7CgogIGNvbG9yID0gbWl4KHVfY29sb3JzWzBdLCB1X2NvbG9yc1sxXSwgdkRpc3BsYWNlbWVudCk7CgogIAoKICAKCiAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7Cgp9CgpgLAogICAgICAgICAgICAgICAgdmVydGV4U2hhZGVyOiBgLy9HZW9tZXRyeTogcGxhbmUKCi8vT3JiaXRDb250cm9sczogZmFsc2UKCi8vR2VvbWV0cnktYXJnczogWzEsMSwgMTAyNCwgMTAyNF0KCi8vTWVzaC1zY2FsZTogNTAKCi8vY2FtZXJhLXBvc2l0aW9uOiBbMC4wLCAwLjAsIDI0LjBdCgoKCnVuaWZvcm0gZmxvYXQgdV9pbnRlbnNpdHk7Cgp1bmlmb3JtIGZsb2F0IHVfdGltZTsKCnVuaWZvcm0gZmxvYXQgdV9zcGVlZDsKCnVuaWZvcm0gYm9vbCB1X3JvdGF0ZTsKCnVuaWZvcm0gZmxvYXQgdV9zY2FsZTsKCgoKdmFyeWluZyB2ZWMyIHZVdjsKCnZhcnlpbmcgZmxvYXQgdkRpc3BsYWNlbWVudDsKCgoKCgoKCiNpZm5kZWYgRk5DX01PRDI4OQojZGVmaW5lIEZOQ19NT0QyODkKCmZsb2F0IG1vZDI4OShjb25zdCBpbiBmbG9hdCB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjMiBtb2QyODkoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjMyBtb2QyODkoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KdmVjNCBtb2QyODkoY29uc3QgaW4gdmVjNCB4KSB7IHJldHVybiB4IC0gZmxvb3IoeCAqICgxLiAvIDI4OS4pKSAqIDI4OS47IH0KCiNlbmRpZgoKCgoKCiNpZm5kZWYgRk5DX1BFUk1VVEUKI2RlZmluZSBGTkNfUEVSTVVURQoKZmxvYXQgcGVybXV0ZShjb25zdCBpbiBmbG9hdCB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMiBwZXJtdXRlKGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzMgcGVybXV0ZShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWM0IHBlcm11dGUoY29uc3QgaW4gdmVjNCB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19UQVlMT1JJTlZTUVJUCiNkZWZpbmUgRk5DX1RBWUxPUklOVlNRUlQKZmxvYXQgdGF5bG9ySW52U3FydChpbiBmbG9hdCByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMiB0YXlsb3JJbnZTcXJ0KGluIHZlYzIgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzMgdGF5bG9ySW52U3FydChpbiB2ZWMzIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWM0IHRheWxvckludlNxcnQoaW4gdmVjNCByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KI2VuZGlmCgoKI2lmbmRlZiBGTkNfUVVJTlRJQwojZGVmaW5lIEZOQ19RVUlOVElDIAoKZmxvYXQgcXVpbnRpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMiAgcXVpbnRpYyhjb25zdCBpbiB2ZWMyIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMyAgcXVpbnRpYyhjb25zdCBpbiB2ZWMzIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjNCAgcXVpbnRpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19DTk9JU0UKI2RlZmluZSBGTkNfQ05PSVNFCgpmbG9hdCBjbm9pc2UoaW4gdmVjMiBQKSB7CiAgICB2ZWM0IFBpID0gZmxvb3IoUC54eXh5KSArIHZlYzQoMC4wLCAwLjAsIDEuMCwgMS4wKTsKICAgIHZlYzQgUGYgPSBmcmFjdChQLnh5eHkpIC0gdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApOwogICAgUGkgPSBtb2QyODkoUGkpOyAKICAgIHZlYzQgaXggPSBQaS54enh6OwogICAgdmVjNCBpeSA9IFBpLnl5d3c7CiAgICB2ZWM0IGZ4ID0gUGYueHp4ejsKICAgIHZlYzQgZnkgPSBQZi55eXd3OwoKICAgIHZlYzQgaSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7CgogICAgdmVjNCBneCA9IGZyYWN0KGkgKiAoMS4wIC8gNDEuMCkpICogMi4wIC0gMS4wIDsKICAgIHZlYzQgZ3kgPSBhYnMoZ3gpIC0gMC41IDsKICAgIHZlYzQgdHggPSBmbG9vcihneCArIDAuNSk7CiAgICBneCA9IGd4IC0gdHg7CgogICAgdmVjMiBnMDAgPSB2ZWMyKGd4LngsZ3kueCk7CiAgICB2ZWMyIGcxMCA9IHZlYzIoZ3gueSxneS55KTsKICAgIHZlYzIgZzAxID0gdmVjMihneC56LGd5LnopOwogICAgdmVjMiBnMTEgPSB2ZWMyKGd4LncsZ3kudyk7CgogICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAsIGcwMCksIGRvdChnMDEsIGcwMSksIGRvdChnMTAsIGcxMCksIGRvdChnMTEsIGcxMSkpKTsKICAgIGcwMCAqPSBub3JtLng7CiAgICBnMDEgKj0gbm9ybS55OwogICAgZzEwICo9IG5vcm0uejsKICAgIGcxMSAqPSBub3JtLnc7CgogICAgZmxvYXQgbjAwID0gZG90KGcwMCwgdmVjMihmeC54LCBmeS54KSk7CiAgICBmbG9hdCBuMTAgPSBkb3QoZzEwLCB2ZWMyKGZ4LnksIGZ5LnkpKTsKICAgIGZsb2F0IG4wMSA9IGRvdChnMDEsIHZlYzIoZngueiwgZnkueikpOwogICAgZmxvYXQgbjExID0gZG90KGcxMSwgdmVjMihmeC53LCBmeS53KSk7CgogICAgdmVjMiBmYWRlX3h5ID0gcXVpbnRpYyhQZi54eSk7CiAgICB2ZWMyIG5feCA9IG1peCh2ZWMyKG4wMCwgbjAxKSwgdmVjMihuMTAsIG4xMSksIGZhZGVfeHkueCk7CiAgICBmbG9hdCBuX3h5ID0gbWl4KG5feC54LCBuX3gueSwgZmFkZV94eS55KTsKICAgIHJldHVybiAyLjMgKiBuX3h5Owp9CgpmbG9hdCBjbm9pc2UoaW4gdmVjMyBQKSB7CiAgICB2ZWMzIFBpMCA9IGZsb29yKFApOyAKICAgIHZlYzMgUGkxID0gUGkwICsgdmVjMygxLjApOyAKICAgIFBpMCA9IG1vZDI4OShQaTApOwogICAgUGkxID0gbW9kMjg5KFBpMSk7CiAgICB2ZWMzIFBmMCA9IGZyYWN0KFApOyAKICAgIHZlYzMgUGYxID0gUGYwIC0gdmVjMygxLjApOyAKICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTsKICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTsKICAgIHZlYzQgaXowID0gUGkwLnp6eno7CiAgICB2ZWM0IGl6MSA9IFBpMS56enp6OwoKICAgIHZlYzQgaXh5ID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTsKICAgIHZlYzQgaXh5MCA9IHBlcm11dGUoaXh5ICsgaXowKTsKICAgIHZlYzQgaXh5MSA9IHBlcm11dGUoaXh5ICsgaXoxKTsKCiAgICB2ZWM0IGd4MCA9IGl4eTAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwID0gZnJhY3QoZmxvb3IoZ3gwKSAqICgxLjAgLyA3LjApKSAtIDAuNTsKICAgIGd4MCA9IGZyYWN0KGd4MCk7CiAgICB2ZWM0IGd6MCA9IHZlYzQoMC41KSAtIGFicyhneDApIC0gYWJzKGd5MCk7CiAgICB2ZWM0IHN6MCA9IHN0ZXAoZ3owLCB2ZWM0KDAuMCkpOwogICAgZ3gwIC09IHN6MCAqIChzdGVwKDAuMCwgZ3gwKSAtIDAuNSk7CiAgICBneTAgLT0gc3owICogKHN0ZXAoMC4wLCBneTApIC0gMC41KTsKCiAgICB2ZWM0IGd4MSA9IGl4eTEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxID0gZnJhY3QoZmxvb3IoZ3gxKSAqICgxLjAgLyA3LjApKSAtIDAuNTsKICAgIGd4MSA9IGZyYWN0KGd4MSk7CiAgICB2ZWM0IGd6MSA9IHZlYzQoMC41KSAtIGFicyhneDEpIC0gYWJzKGd5MSk7CiAgICB2ZWM0IHN6MSA9IHN0ZXAoZ3oxLCB2ZWM0KDAuMCkpOwogICAgZ3gxIC09IHN6MSAqIChzdGVwKDAuMCwgZ3gxKSAtIDAuNSk7CiAgICBneTEgLT0gc3oxICogKHN0ZXAoMC4wLCBneTEpIC0gMC41KTsKCiAgICB2ZWMzIGcwMDAgPSB2ZWMzKGd4MC54LGd5MC54LGd6MC54KTsKICAgIHZlYzMgZzEwMCA9IHZlYzMoZ3gwLnksZ3kwLnksZ3owLnkpOwogICAgdmVjMyBnMDEwID0gdmVjMyhneDAueixneTAueixnejAueik7CiAgICB2ZWMzIGcxMTAgPSB2ZWMzKGd4MC53LGd5MC53LGd6MC53KTsKICAgIHZlYzMgZzAwMSA9IHZlYzMoZ3gxLngsZ3kxLngsZ3oxLngpOwogICAgdmVjMyBnMTAxID0gdmVjMyhneDEueSxneTEueSxnejEueSk7CiAgICB2ZWMzIGcwMTEgPSB2ZWMzKGd4MS56LGd5MS56LGd6MS56KTsKICAgIHZlYzMgZzExMSA9IHZlYzMoZ3gxLncsZ3kxLncsZ3oxLncpOwoKICAgIHZlYzQgbm9ybTAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAsIGcwMDApLCBkb3QoZzAxMCwgZzAxMCksIGRvdChnMTAwLCBnMTAwKSwgZG90KGcxMTAsIGcxMTApKSk7CiAgICBnMDAwICo9IG5vcm0wLng7CiAgICBnMDEwICo9IG5vcm0wLnk7CiAgICBnMTAwICo9IG5vcm0wLno7CiAgICBnMTEwICo9IG5vcm0wLnc7CiAgICB2ZWM0IG5vcm0xID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxLCBnMDAxKSwgZG90KGcwMTEsIGcwMTEpLCBkb3QoZzEwMSwgZzEwMSksIGRvdChnMTExLCBnMTExKSkpOwogICAgZzAwMSAqPSBub3JtMS54OwogICAgZzAxMSAqPSBub3JtMS55OwogICAgZzEwMSAqPSBub3JtMS56OwogICAgZzExMSAqPSBub3JtMS53OwoKICAgIGZsb2F0IG4wMDAgPSBkb3QoZzAwMCwgUGYwKTsKICAgIGZsb2F0IG4xMDAgPSBkb3QoZzEwMCwgdmVjMyhQZjEueCwgUGYwLnl6KSk7CiAgICBmbG9hdCBuMDEwID0gZG90KGcwMTAsIHZlYzMoUGYwLngsIFBmMS55LCBQZjAueikpOwogICAgZmxvYXQgbjExMCA9IGRvdChnMTEwLCB2ZWMzKFBmMS54eSwgUGYwLnopKTsKICAgIGZsb2F0IG4wMDEgPSBkb3QoZzAwMSwgdmVjMyhQZjAueHksIFBmMS56KSk7CiAgICBmbG9hdCBuMTAxID0gZG90KGcxMDEsIHZlYzMoUGYxLngsIFBmMC55LCBQZjEueikpOwogICAgZmxvYXQgbjAxMSA9IGRvdChnMDExLCB2ZWMzKFBmMC54LCBQZjEueXopKTsKICAgIGZsb2F0IG4xMTEgPSBkb3QoZzExMSwgUGYxKTsKCiAgICB2ZWMzIGZhZGVfeHl6ID0gcXVpbnRpYyhQZjApOwogICAgdmVjNCBuX3ogPSBtaXgodmVjNChuMDAwLCBuMTAwLCBuMDEwLCBuMTEwKSwgdmVjNChuMDAxLCBuMTAxLCBuMDExLCBuMTExKSwgZmFkZV94eXoueik7CiAgICB2ZWMyIG5feXogPSBtaXgobl96Lnh5LCBuX3ouencsIGZhZGVfeHl6LnkpOwogICAgZmxvYXQgbl94eXogPSBtaXgobl95ei54LCBuX3l6LnksIGZhZGVfeHl6LngpOwogICAgcmV0dXJuIDIuMiAqIG5feHl6Owp9CgpmbG9hdCBjbm9pc2UoaW4gdmVjNCBQKSB7CiAgICB2ZWM0IFBpMCA9IGZsb29yKFApOyAKICAgIHZlYzQgUGkxID0gUGkwICsgMS4wOyAKICAgIFBpMCA9IG1vZDI4OShQaTApOwogICAgUGkxID0gbW9kMjg5KFBpMSk7CiAgICB2ZWM0IFBmMCA9IGZyYWN0KFApOyAKICAgIHZlYzQgUGYxID0gUGYwIC0gMS4wOyAKICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTsKICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTsKICAgIHZlYzQgaXowID0gdmVjNChQaTAuenp6eik7CiAgICB2ZWM0IGl6MSA9IHZlYzQoUGkxLnp6enopOwogICAgdmVjNCBpdzAgPSB2ZWM0KFBpMC53d3d3KTsKICAgIHZlYzQgaXcxID0gdmVjNChQaTEud3d3dyk7CgogICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpOwogICAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApOwogICAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpOwogICAgdmVjNCBpeHkwMCA9IHBlcm11dGUoaXh5MCArIGl3MCk7CiAgICB2ZWM0IGl4eTAxID0gcGVybXV0ZShpeHkwICsgaXcxKTsKICAgIHZlYzQgaXh5MTAgPSBwZXJtdXRlKGl4eTEgKyBpdzApOwogICAgdmVjNCBpeHkxMSA9IHBlcm11dGUoaXh5MSArIGl3MSk7CgogICAgdmVjNCBneDAwID0gaXh5MDAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwMCA9IGZsb29yKGd4MDApICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MDAgPSBmbG9vcihneTAwKSAqICgxLjAgLyA2LjApOwogICAgZ3gwMCA9IGZyYWN0KGd4MDApIC0gMC41OwogICAgZ3kwMCA9IGZyYWN0KGd5MDApIC0gMC41OwogICAgZ3owMCA9IGZyYWN0KGd6MDApIC0gMC41OwogICAgdmVjNCBndzAwID0gdmVjNCgwLjc1KSAtIGFicyhneDAwKSAtIGFicyhneTAwKSAtIGFicyhnejAwKTsKICAgIHZlYzQgc3cwMCA9IHN0ZXAoZ3cwMCwgdmVjNCgwLjApKTsKICAgIGd4MDAgLT0gc3cwMCAqIChzdGVwKDAuMCwgZ3gwMCkgLSAwLjUpOwogICAgZ3kwMCAtPSBzdzAwICogKHN0ZXAoMC4wLCBneTAwKSAtIDAuNSk7CgogICAgdmVjNCBneDAxID0gaXh5MDEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kwMSA9IGZsb29yKGd4MDEpICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MDEgPSBmbG9vcihneTAxKSAqICgxLjAgLyA2LjApOwogICAgZ3gwMSA9IGZyYWN0KGd4MDEpIC0gMC41OwogICAgZ3kwMSA9IGZyYWN0KGd5MDEpIC0gMC41OwogICAgZ3owMSA9IGZyYWN0KGd6MDEpIC0gMC41OwogICAgdmVjNCBndzAxID0gdmVjNCgwLjc1KSAtIGFicyhneDAxKSAtIGFicyhneTAxKSAtIGFicyhnejAxKTsKICAgIHZlYzQgc3cwMSA9IHN0ZXAoZ3cwMSwgdmVjNCgwLjApKTsKICAgIGd4MDEgLT0gc3cwMSAqIChzdGVwKDAuMCwgZ3gwMSkgLSAwLjUpOwogICAgZ3kwMSAtPSBzdzAxICogKHN0ZXAoMC4wLCBneTAxKSAtIDAuNSk7CgogICAgdmVjNCBneDEwID0gaXh5MTAgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxMCA9IGZsb29yKGd4MTApICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MTAgPSBmbG9vcihneTEwKSAqICgxLjAgLyA2LjApOwogICAgZ3gxMCA9IGZyYWN0KGd4MTApIC0gMC41OwogICAgZ3kxMCA9IGZyYWN0KGd5MTApIC0gMC41OwogICAgZ3oxMCA9IGZyYWN0KGd6MTApIC0gMC41OwogICAgdmVjNCBndzEwID0gdmVjNCgwLjc1KSAtIGFicyhneDEwKSAtIGFicyhneTEwKSAtIGFicyhnejEwKTsKICAgIHZlYzQgc3cxMCA9IHN0ZXAoZ3cxMCwgdmVjNCgwLjApKTsKICAgIGd4MTAgLT0gc3cxMCAqIChzdGVwKDAuMCwgZ3gxMCkgLSAwLjUpOwogICAgZ3kxMCAtPSBzdzEwICogKHN0ZXAoMC4wLCBneTEwKSAtIDAuNSk7CgogICAgdmVjNCBneDExID0gaXh5MTEgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3kxMSA9IGZsb29yKGd4MTEpICogKDEuMCAvIDcuMCk7CiAgICB2ZWM0IGd6MTEgPSBmbG9vcihneTExKSAqICgxLjAgLyA2LjApOwogICAgZ3gxMSA9IGZyYWN0KGd4MTEpIC0gMC41OwogICAgZ3kxMSA9IGZyYWN0KGd5MTEpIC0gMC41OwogICAgZ3oxMSA9IGZyYWN0KGd6MTEpIC0gMC41OwogICAgdmVjNCBndzExID0gdmVjNCgwLjc1KSAtIGFicyhneDExKSAtIGFicyhneTExKSAtIGFicyhnejExKTsKICAgIHZlYzQgc3cxMSA9IHN0ZXAoZ3cxMSwgdmVjNCgwLjApKTsKICAgIGd4MTEgLT0gc3cxMSAqIChzdGVwKDAuMCwgZ3gxMSkgLSAwLjUpOwogICAgZ3kxMSAtPSBzdzExICogKHN0ZXAoMC4wLCBneTExKSAtIDAuNSk7CgogICAgdmVjNCBnMDAwMCA9IHZlYzQoZ3gwMC54LGd5MDAueCxnejAwLngsZ3cwMC54KTsKICAgIHZlYzQgZzEwMDAgPSB2ZWM0KGd4MDAueSxneTAwLnksZ3owMC55LGd3MDAueSk7CiAgICB2ZWM0IGcwMTAwID0gdmVjNChneDAwLnosZ3kwMC56LGd6MDAueixndzAwLnopOwogICAgdmVjNCBnMTEwMCA9IHZlYzQoZ3gwMC53LGd5MDAudyxnejAwLncsZ3cwMC53KTsKICAgIHZlYzQgZzAwMTAgPSB2ZWM0KGd4MTAueCxneTEwLngsZ3oxMC54LGd3MTAueCk7CiAgICB2ZWM0IGcxMDEwID0gdmVjNChneDEwLnksZ3kxMC55LGd6MTAueSxndzEwLnkpOwogICAgdmVjNCBnMDExMCA9IHZlYzQoZ3gxMC56LGd5MTAueixnejEwLnosZ3cxMC56KTsKICAgIHZlYzQgZzExMTAgPSB2ZWM0KGd4MTAudyxneTEwLncsZ3oxMC53LGd3MTAudyk7CiAgICB2ZWM0IGcwMDAxID0gdmVjNChneDAxLngsZ3kwMS54LGd6MDEueCxndzAxLngpOwogICAgdmVjNCBnMTAwMSA9IHZlYzQoZ3gwMS55LGd5MDEueSxnejAxLnksZ3cwMS55KTsKICAgIHZlYzQgZzAxMDEgPSB2ZWM0KGd4MDEueixneTAxLnosZ3owMS56LGd3MDEueik7CiAgICB2ZWM0IGcxMTAxID0gdmVjNChneDAxLncsZ3kwMS53LGd6MDEudyxndzAxLncpOwogICAgdmVjNCBnMDAxMSA9IHZlYzQoZ3gxMS54LGd5MTEueCxnejExLngsZ3cxMS54KTsKICAgIHZlYzQgZzEwMTEgPSB2ZWM0KGd4MTEueSxneTExLnksZ3oxMS55LGd3MTEueSk7CiAgICB2ZWM0IGcwMTExID0gdmVjNChneDExLnosZ3kxMS56LGd6MTEueixndzExLnopOwogICAgdmVjNCBnMTExMSA9IHZlYzQoZ3gxMS53LGd5MTEudyxnejExLncsZ3cxMS53KTsKCiAgICB2ZWM0IG5vcm0wMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDAsIGcwMDAwKSwgZG90KGcwMTAwLCBnMDEwMCksIGRvdChnMTAwMCwgZzEwMDApLCBkb3QoZzExMDAsIGcxMTAwKSkpOwogICAgZzAwMDAgKj0gbm9ybTAwLng7CiAgICBnMDEwMCAqPSBub3JtMDAueTsKICAgIGcxMDAwICo9IG5vcm0wMC56OwogICAgZzExMDAgKj0gbm9ybTAwLnc7CgogICAgdmVjNCBub3JtMDEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAxLCBnMDAwMSksIGRvdChnMDEwMSwgZzAxMDEpLCBkb3QoZzEwMDEsIGcxMDAxKSwgZG90KGcxMTAxLCBnMTEwMSkpKTsKICAgIGcwMDAxICo9IG5vcm0wMS54OwogICAgZzAxMDEgKj0gbm9ybTAxLnk7CiAgICBnMTAwMSAqPSBub3JtMDEuejsKICAgIGcxMTAxICo9IG5vcm0wMS53OwoKICAgIHZlYzQgbm9ybTEwID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxMCwgZzAwMTApLCBkb3QoZzAxMTAsIGcwMTEwKSwgZG90KGcxMDEwLCBnMTAxMCksIGRvdChnMTExMCwgZzExMTApKSk7CiAgICBnMDAxMCAqPSBub3JtMTAueDsKICAgIGcwMTEwICo9IG5vcm0xMC55OwogICAgZzEwMTAgKj0gbm9ybTEwLno7CiAgICBnMTExMCAqPSBub3JtMTAudzsKCiAgICB2ZWM0IG5vcm0xMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMTEsIGcwMDExKSwgZG90KGcwMTExLCBnMDExMSksIGRvdChnMTAxMSwgZzEwMTEpLCBkb3QoZzExMTEsIGcxMTExKSkpOwogICAgZzAwMTEgKj0gbm9ybTExLng7CiAgICBnMDExMSAqPSBub3JtMTEueTsKICAgIGcxMDExICo9IG5vcm0xMS56OwogICAgZzExMTEgKj0gbm9ybTExLnc7CgogICAgZmxvYXQgbjAwMDAgPSBkb3QoZzAwMDAsIFBmMCk7CiAgICBmbG9hdCBuMTAwMCA9IGRvdChnMTAwMCwgdmVjNChQZjEueCwgUGYwLnl6dykpOwogICAgZmxvYXQgbjAxMDAgPSBkb3QoZzAxMDAsIHZlYzQoUGYwLngsIFBmMS55LCBQZjAuencpKTsKICAgIGZsb2F0IG4xMTAwID0gZG90KGcxMTAwLCB2ZWM0KFBmMS54eSwgUGYwLnp3KSk7CiAgICBmbG9hdCBuMDAxMCA9IGRvdChnMDAxMCwgdmVjNChQZjAueHksIFBmMS56LCBQZjAudykpOwogICAgZmxvYXQgbjEwMTAgPSBkb3QoZzEwMTAsIHZlYzQoUGYxLngsIFBmMC55LCBQZjEueiwgUGYwLncpKTsKICAgIGZsb2F0IG4wMTEwID0gZG90KGcwMTEwLCB2ZWM0KFBmMC54LCBQZjEueXosIFBmMC53KSk7CiAgICBmbG9hdCBuMTExMCA9IGRvdChnMTExMCwgdmVjNChQZjEueHl6LCBQZjAudykpOwogICAgZmxvYXQgbjAwMDEgPSBkb3QoZzAwMDEsIHZlYzQoUGYwLnh5eiwgUGYxLncpKTsKICAgIGZsb2F0IG4xMDAxID0gZG90KGcxMDAxLCB2ZWM0KFBmMS54LCBQZjAueXosIFBmMS53KSk7CiAgICBmbG9hdCBuMDEwMSA9IGRvdChnMDEwMSwgdmVjNChQZjAueCwgUGYxLnksIFBmMC56LCBQZjEudykpOwogICAgZmxvYXQgbjExMDEgPSBkb3QoZzExMDEsIHZlYzQoUGYxLnh5LCBQZjAueiwgUGYxLncpKTsKICAgIGZsb2F0IG4wMDExID0gZG90KGcwMDExLCB2ZWM0KFBmMC54eSwgUGYxLnp3KSk7CiAgICBmbG9hdCBuMTAxMSA9IGRvdChnMTAxMSwgdmVjNChQZjEueCwgUGYwLnksIFBmMS56dykpOwogICAgZmxvYXQgbjAxMTEgPSBkb3QoZzAxMTEsIHZlYzQoUGYwLngsIFBmMS55encpKTsKICAgIGZsb2F0IG4xMTExID0gZG90KGcxMTExLCBQZjEpOwoKICAgIHZlYzQgZmFkZV94eXp3ID0gcXVpbnRpYyhQZjApOwogICAgdmVjNCBuXzB3ID0gbWl4KHZlYzQobjAwMDAsIG4xMDAwLCBuMDEwMCwgbjExMDApLCB2ZWM0KG4wMDAxLCBuMTAwMSwgbjAxMDEsIG4xMTAxKSwgZmFkZV94eXp3LncpOwogICAgdmVjNCBuXzF3ID0gbWl4KHZlYzQobjAwMTAsIG4xMDEwLCBuMDExMCwgbjExMTApLCB2ZWM0KG4wMDExLCBuMTAxMSwgbjAxMTEsIG4xMTExKSwgZmFkZV94eXp3LncpOwogICAgdmVjNCBuX3p3ID0gbWl4KG5fMHcsIG5fMXcsIGZhZGVfeHl6dy56KTsKICAgIHZlYzIgbl95encgPSBtaXgobl96dy54eSwgbl96dy56dywgZmFkZV94eXp3LnkpOwogICAgZmxvYXQgbl94eXp3ID0gbWl4KG5feXp3LngsIG5feXp3LnksIGZhZGVfeHl6dy54KTsKICAgIHJldHVybiAyLjIgKiBuX3h5enc7Cn0KI2VuZGlmCgoKCgoKCiNpZm5kZWYgUkFORE9NX1NDQUxFCiNpZiBkZWZpbmVkKFJBTkRPTV9ISUdIRVJfUkFOR0UpCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoLjEwMzEsIC4xMDMwLCAuMDk3MywgLjEwOTkpCiNlbHNlCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoNDQzLjg5NywgNDQxLjQyMywgLjA5NzMsIC4xMDk5KQojZW5kaWYKI2VuZGlmCgojaWZuZGVmIEZOQ19SQU5ET00KI2RlZmluZSBGTkNfUkFORE9NCmZsb2F0IHJhbmRvbShpbiBmbG9hdCB4KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgeCA9IGZyYWN0KHggKiBSQU5ET01fU0NBTEUueCk7CiAgICB4ICo9IHggKyAzMy4zMzsKICAgIHggKj0geCArIHg7CiAgICByZXR1cm4gZnJhY3QoeCk7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKHgpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjMiBzdCkgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHZlYzMgcDMgID0gZnJhY3QodmVjMyhzdC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocDMueCArIHAzLnkpICogcDMueik7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMzIHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyAgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHBvcyArPSBkb3QocG9zLCBwb3Muenl4ICsgMzEuMzIpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIHBvcy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHBvcy54eXosIHZlYzMoNzAuOTg5OCwgNzguMjMzLCAzMi40MzU1KSkpICogNDM3NTguNTQ1MzEyMyk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjNCBwb3MpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICBwb3MgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUpOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy53enh5KzMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocG9zLnggKyBwb3MueSkgKiAocG9zLnogKyBwb3MudykpOwojZWxzZQogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9Cgp2ZWMyIHJhbmRvbTIoZmxvYXQgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHAueHl4ICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzIgcmFuZG9tMih2ZWMzIHAzKSB7CiAgICBwMyA9IGZyYWN0KHAzICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzMgcmFuZG9tMyhmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4eSArIHAzLnl6eikgKiBwMy56eXgpOyAKfQoKdmVjMyByYW5kb20zKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7Cn0KCnZlYzMgcmFuZG9tMyh2ZWMzIHApIHsKICAgIHAgPSBmcmFjdChwICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwICs9IGRvdChwLCBwLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocC54eHkgKyBwLnl6eikgKiBwLnp5eCk7Cn0KCnZlYzQgcmFuZG9tNChmbG9hdCBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocCAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOyAgIAp9Cgp2ZWM0IHJhbmRvbTQodmVjMiBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocC54eXh5ICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWMzIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5enggICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWM0IHA0KSB7CiAgICBwNCA9IGZyYWN0KHA0ICAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9CgoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1NSQU5ET00KI2RlZmluZSBGTkNfU1JBTkRPTQoKZmxvYXQgc3JhbmRvbShpbiBmbG9hdCB4KSB7CiAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKHgpICogNDM3NTguNTQ1Myk7Cn0KCmZsb2F0IHNyYW5kb20oaW4gdmVjMiBzdCkgewogIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3Qoc3QueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7Cn0KCmZsb2F0IHNyYW5kb20oaW4gdmVjMyBwb3MpIHsKICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oZG90KHBvcy54eXosIHZlYzMoNzAuOTg5OCwgNzguMjMzLCAzMi40MzU1KSkpICogNDM3NTguNTQ1MzEyMyk7Cn0KCmZsb2F0IHNyYW5kb20oaW4gdmVjNCBwb3MpIHsKICAgIGZsb2F0IGRvdF9wcm9kdWN0ID0gZG90KHBvcywgdmVjNCgxMi45ODk4LDc4LjIzMyw0NS4xNjQsOTQuNjczKSk7CiAgICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7Cn0KCnZlYzIgc3JhbmRvbTIoaW4gdmVjMiBzdCkgewogICAgY29uc3QgdmVjMiBrID0gdmVjMiguMzE4MzA5OSwgLjM2Nzg3OTQpOwogICAgc3QgPSBzdCAqIGsgKyBrLnl4OwogICAgcmV0dXJuIC0xLiArIDIuICogZnJhY3QoMTYuICogayAqIGZyYWN0KHN0LnggKiBzdC55ICogKHN0LnggKyBzdC55KSkpOwp9Cgp2ZWMzIHNyYW5kb20zKGluIHZlYzMgcCkgewogICAgcCA9IHZlYzMoIGRvdChwLCB2ZWMzKDEyNy4xLCAzMTEuNywgNzQuNykpLAogICAgICAgICAgICBkb3QocCwgdmVjMygyNjkuNSwgMTgzLjMsIDI0Ni4xKSksCiAgICAgICAgICAgIGRvdChwLCB2ZWMzKDExMy41LCAyNzEuOSwgMTI0LjYpKSk7CiAgICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4ocCkgKiA0Mzc1OC41NDUzMTIzKTsKfQoKdmVjMiBzcmFuZG9tMihpbiB2ZWMyIHAsIGNvbnN0IGluIGZsb2F0IHRpbGVMZW5ndGgpIHsKICAgIHAgPSBtb2QocCwgdmVjMih0aWxlTGVuZ3RoKSk7CiAgICByZXR1cm4gc3JhbmRvbTIocCk7Cn0KCnZlYzMgc3JhbmRvbTMoaW4gdmVjMyBwLCBjb25zdCBpbiBmbG9hdCB0aWxlTGVuZ3RoKSB7CiAgICBwID0gbW9kKHAsIHZlYzModGlsZUxlbmd0aCkpOwogICAgcmV0dXJuIHNyYW5kb20zKHApOwp9CgojZW5kaWYKCgojaWZuZGVmIEZOQ19DVUJJQwojZGVmaW5lIEZOQ19DVUJJQyAKZmxvYXQgY3ViaWMoY29uc3QgaW4gZmxvYXQgdikgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CnZlYzIgIGN1YmljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQp2ZWMzICBjdWJpYyhjb25zdCBpbiB2ZWMzIHYpICB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KdmVjNCAgY3ViaWMoY29uc3QgaW4gdmVjNCB2KSAgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CgpmbG9hdCBjdWJpYyhjb25zdCBpbiBmbG9hdCB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICBmbG9hdCB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgZmxvYXQgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KCnZlYzIgY3ViaWMoY29uc3QgaW4gdmVjMiB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICB2ZWMyIHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICB2ZWMyIHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9Cgp2ZWMzIGN1YmljKGNvbnN0IGluIHZlYzMgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgdmVjMyB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgdmVjMyB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQoKdmVjNCBjdWJpYyhjb25zdCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIHZlYzQgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIHZlYzQgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KI2VuZGlmCgoKI2lmbmRlZiBGTkNfUVVJTlRJQwojZGVmaW5lIEZOQ19RVUlOVElDIAoKZmxvYXQgcXVpbnRpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMiAgcXVpbnRpYyhjb25zdCBpbiB2ZWMyIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjMyAgcXVpbnRpYyhjb25zdCBpbiB2ZWMzIHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KdmVjNCAgcXVpbnRpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqdioodioodio2LjAtMTUuMCkrMTAuMCk7IH0KCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19HTk9JU0UKI2RlZmluZSBGTkNfR05PSVNFCgpmbG9hdCBnbm9pc2UoZmxvYXQgeCkgewogICAgZmxvYXQgaSA9IGZsb29yKHgpOyAgCiAgICBmbG9hdCBmID0gZnJhY3QoeCk7ICAKICAgIHJldHVybiBtaXgocmFuZG9tKGkpLCByYW5kb20oaSArIDEuMCksIHNtb290aHN0ZXAoMC4sMS4sZikpOyAKfQoKZmxvYXQgZ25vaXNlKHZlYzIgc3QpIHsKICAgIHZlYzIgaSA9IGZsb29yKHN0KTsKICAgIHZlYzIgZiA9IGZyYWN0KHN0KTsKICAgIGZsb2F0IGEgPSByYW5kb20oaSk7CiAgICBmbG9hdCBiID0gcmFuZG9tKGkgKyB2ZWMyKDEuMCwgMC4wKSk7CiAgICBmbG9hdCBjID0gcmFuZG9tKGkgKyB2ZWMyKDAuMCwgMS4wKSk7CiAgICBmbG9hdCBkID0gcmFuZG9tKGkgKyB2ZWMyKDEuMCwgMS4wKSk7CiAgICB2ZWMyIHUgPSBjdWJpYyhmKTsKICAgIHJldHVybiBtaXgoIGEsIGIsIHUueCkgKwogICAgICAgICAgICAgICAgKGMgLSBhKSogdS55ICogKDEuMCAtIHUueCkgKwogICAgICAgICAgICAgICAgKGQgLSBiKSAqIHUueCAqIHUueTsKfQoKZmxvYXQgZ25vaXNlKHZlYzMgcCkgewogICAgdmVjMyBpID0gZmxvb3IocCk7CiAgICB2ZWMzIGYgPSBmcmFjdChwKTsKICAgIHZlYzMgdSA9IHF1aW50aWMoZik7CiAgICByZXR1cm4gLTEuMCArIDIuMCAqIG1peCggbWl4KCBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMC4wLDAuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMC4wLDAuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwxLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwxLjAsMC4wKSksIHUueCksIHUueSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXgoIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwwLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwwLjAsMS4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDEuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDEuMCwxLjApKSwgdS54KSwgdS55KSwgdS56ICk7Cn0KCmZsb2F0IGdub2lzZSh2ZWMzIHAsIGZsb2F0IHRpbGVMZW5ndGgpIHsKICAgIHZlYzMgaSA9IGZsb29yKHApOwogICAgdmVjMyBmID0gZnJhY3QocCk7CiAgICAgICAgICAgIAogICAgdmVjMyB1ID0gcXVpbnRpYyhmKTsKICAgICAgICAKICAgIHJldHVybiBtaXgoIG1peCggbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwwLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwwLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMC4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMC4wLDAuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgIG1peCggZG90KCBzcmFuZG9tMyhpICsgdmVjMygwLjAsMS4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygwLjAsMS4wLDAuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMS4wLDEuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMS4wLDEuMCwwLjApKSwgdS54KSwgdS55KSwKICAgICAgICAgICAgICAgIG1peCggbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwwLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwwLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMC4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMC4wLDEuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgIG1peCggZG90KCBzcmFuZG9tMyhpICsgdmVjMygwLjAsMS4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygwLjAsMS4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMS4wLDEuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMS4wLDEuMCwxLjApKSwgdS54KSwgdS55KSwgdS56ICk7Cn0KCnZlYzMgZ25vaXNlMyh2ZWMzIHgpIHsKICAgIHJldHVybiB2ZWMzKGdub2lzZSh4K3ZlYzMoMTIzLjQ1NiwgMC41NjcsIDAuMzcpKSwKICAgICAgICAgICAgICAgIGdub2lzZSh4K3ZlYzMoMC4xMSwgNDcuNDMsIDE5LjE3KSksCiAgICAgICAgICAgICAgICBnbm9pc2UoeCkgKTsKfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19HUkFENAojZGVmaW5lIEZOQ19HUkFENAp2ZWM0IGdyYWQ0KGZsb2F0IGosIHZlYzQgaXApIHsKICAgIGNvbnN0IHZlYzQgb25lcyA9IHZlYzQoMS4wLCAxLjAsIDEuMCwgLTEuMCk7CiAgICB2ZWM0IHAsczsKCiAgICBwLnh5eiA9IGZsb29yKCBmcmFjdCAodmVjMyhqKSAqIGlwLnh5eikgKiA3LjApICogaXAueiAtIDEuMDsKICAgIHAudyA9IDEuNSAtIGRvdChhYnMocC54eXopLCBvbmVzLnh5eik7CiAgICBzID0gdmVjNChsZXNzVGhhbihwLCB2ZWM0KDAuMCkpKTsKICAgIHAueHl6ID0gcC54eXogKyAocy54eXoqMi4wIC0gMS4wKSAqIHMud3d3OwoKICAgIHJldHVybiBwOwp9CiNlbmRpZgoKCgoKI2lmbmRlZiBGTkNfUFNSRk5PSVNFCiNkZWZpbmUgRk5DX1BTUkZOT0lTRQoKZmxvYXQgcHNyZG5vaXNlKHZlYzIgeCwgdmVjMiBwZXJpb2QsIGZsb2F0IGFscGhhLCBvdXQgdmVjMiBncmFkaWVudCkgewoKCQoJdmVjMiB1diA9IHZlYzIoeC54ICsgeC55KjAuNSwgeC55KTsKCgkKCXZlYzIgaTAgPSBmbG9vcih1dik7Cgl2ZWMyIGYwID0gZnJhY3QodXYpOwoJCglmbG9hdCBjbXAgPSBzdGVwKGYwLnksIGYwLngpOwoJdmVjMiBvMSA9IHZlYzIoY21wLCAxLjAtY21wKTsKCgkKCXZlYzIgaTEgPSBpMCArIG8xOwoJdmVjMiBpMiA9IGkwICsgdmVjMigxLjAsIDEuMCk7CgoJCgl2ZWMyIHYwID0gdmVjMihpMC54IC0gaTAueSAqIDAuNSwgaTAueSk7Cgl2ZWMyIHYxID0gdmVjMih2MC54ICsgbzEueCAtIG8xLnkgKiAwLjUsIHYwLnkgKyBvMS55KTsKCXZlYzIgdjIgPSB2ZWMyKHYwLnggKyAwLjUsIHYwLnkgKyAxLjApOwoKCQoJdmVjMiB4MCA9IHggLSB2MDsKCXZlYzIgeDEgPSB4IC0gdjE7Cgl2ZWMyIHgyID0geCAtIHYyOwoKCXZlYzMgaXUgPSB2ZWMzKDAuMCk7CiAgICB2ZWMzIGl2ID0gdmVjMygwLjApOwoJdmVjMyB4dyA9IHZlYzMoMC4wKTsKICAgIHZlYzMgeXcgPSB2ZWMzKDAuMCk7CgoJCglpZihhbnkoZ3JlYXRlclRoYW4ocGVyaW9kLCB2ZWMyKDAuMCkpKSkgewoJCXh3ID0gdmVjMyh2MC54LCB2MS54LCB2Mi54KTsKCQl5dyA9IHZlYzModjAueSwgdjEueSwgdjIueSk7CgkJaWYocGVyaW9kLnggPiAwLjApCgkJCXh3ID0gbW9kKHZlYzModjAueCwgdjEueCwgdjIueCksIHBlcmlvZC54KTsKCQlpZihwZXJpb2QueSA+IDAuMCkKCQkJeXcgPSBtb2QodmVjMyh2MC55LCB2MS55LCB2Mi55KSwgcGVyaW9kLnkpOwoJCQoJCWl1ID0gZmxvb3IoeHcgKyAwLjUqeXcgKyAwLjUpOwoJCWl2ID0gZmxvb3IoeXcgKyAwLjUpOwoJfSBlbHNlIHsgCgkJaXUgPSB2ZWMzKGkwLngsIGkxLngsIGkyLngpOwoJCWl2ID0gdmVjMyhpMC55LCBpMS55LCBpMi55KTsKCX0KCgkKCXZlYzMgaGFzaCA9IG1vZChpdSwgMjg5LjApOwoJaGFzaCA9IG1vZCgoaGFzaCo1MS4wICsgMi4wKSpoYXNoICsgaXYsIDI4OS4wKTsKCWhhc2ggPSBtb2QoKGhhc2gqMzQuMCArIDEwLjApKmhhc2gsIDI4OS4wKTsKCgkKCXZlYzMgcHNpID0gaGFzaCAqIDAuMDc0ODIgKyBhbHBoYTsKCXZlYzMgZ3ggPSBjb3MocHNpKTsKCXZlYzMgZ3kgPSBzaW4ocHNpKTsKCgkKCXZlYzIgZzAgPSB2ZWMyKGd4LngsZ3kueCk7Cgl2ZWMyIGcxID0gdmVjMihneC55LGd5LnkpOwoJdmVjMiBnMiA9IHZlYzIoZ3gueixneS56KTsKCgkKCXZlYzMgdyA9IDAuOCAtIHZlYzMoZG90KHgwLCB4MCksIGRvdCh4MSwgeDEpLCBkb3QoeDIsIHgyKSk7Cgl3ID0gbWF4KHcsIDAuMCk7Cgl2ZWMzIHcyID0gdyAqIHc7Cgl2ZWMzIHc0ID0gdzIgKiB3MjsKCgkKCXZlYzMgZ2RvdHggPSB2ZWMzKGRvdChnMCwgeDApLCBkb3QoZzEsIHgxKSwgZG90KGcyLCB4MikpOwoKCQoJZmxvYXQgbiA9IGRvdCh3NCwgZ2RvdHgpOwoKCQoJdmVjMyB3MyA9IHcyICogdzsKCXZlYzMgZHcgPSAtOC4wICogdzMgKiBnZG90eDsKCXZlYzIgZG4wID0gdzQueCAqIGcwICsgZHcueCAqIHgwOwoJdmVjMiBkbjEgPSB3NC55ICogZzEgKyBkdy55ICogeDE7Cgl2ZWMyIGRuMiA9IHc0LnogKiBnMiArIGR3LnogKiB4MjsKCWdyYWRpZW50ID0gMTAuOSAqIChkbjAgKyBkbjEgKyBkbjIpOwoKCQoJcmV0dXJuIDEwLjkgKiBuOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMiB4LCB2ZWMyIHBlcmlvZCwgZmxvYXQgYWxwaGEsIG91dCB2ZWMyIGdyYWRpZW50LCBvdXQgdmVjMyBkZykgewoKCQoJdmVjMiB1diA9IHZlYzIoeC54ICsgeC55KjAuNSwgeC55KTsKCgkKCXZlYzIgaTAgPSBmbG9vcih1dik7Cgl2ZWMyIGYwID0gZnJhY3QodXYpOwoJCglmbG9hdCBjbXAgPSBzdGVwKGYwLnksIGYwLngpOwoJdmVjMiBvMSA9IHZlYzIoY21wLCAxLjAtY21wKTsKCgkKCXZlYzIgaTEgPSBpMCArIG8xOwoJdmVjMiBpMiA9IGkwICsgdmVjMigxLjAsIDEuMCk7CgoJCgl2ZWMyIHYwID0gdmVjMihpMC54IC0gaTAueSAqIDAuNSwgaTAueSk7Cgl2ZWMyIHYxID0gdmVjMih2MC54ICsgbzEueCAtIG8xLnkgKiAwLjUsIHYwLnkgKyBvMS55KTsKCXZlYzIgdjIgPSB2ZWMyKHYwLnggKyAwLjUsIHYwLnkgKyAxLjApOwoKCQoJdmVjMiB4MCA9IHggLSB2MDsKCXZlYzIgeDEgPSB4IC0gdjE7Cgl2ZWMyIHgyID0geCAtIHYyOwoKCXZlYzMgaXUsIGl2OwoJdmVjMyB4dywgeXc7CgoJCglpZihhbnkoZ3JlYXRlclRoYW4ocGVyaW9kLCB2ZWMyKDAuMCkpKSkgewoJCXh3ID0gdmVjMyh2MC54LCB2MS54LCB2Mi54KTsKCQl5dyA9IHZlYzModjAueSwgdjEueSwgdjIueSk7CgkJaWYocGVyaW9kLnggPiAwLjApCgkJCXh3ID0gbW9kKHZlYzModjAueCwgdjEueCwgdjIueCksIHBlcmlvZC54KTsKCQlpZihwZXJpb2QueSA+IDAuMCkKCQkJeXcgPSBtb2QodmVjMyh2MC55LCB2MS55LCB2Mi55KSwgcGVyaW9kLnkpOwoJCQoJCWl1ID0gZmxvb3IoeHcgKyAwLjUqeXcgKyAwLjUpOwoJCWl2ID0gZmxvb3IoeXcgKyAwLjUpOwoJfSBlbHNlIHsgCgkJaXUgPSB2ZWMzKGkwLngsIGkxLngsIGkyLngpOwoJCWl2ID0gdmVjMyhpMC55LCBpMS55LCBpMi55KTsKCX0KCgkKCXZlYzMgaGFzaCA9IG1vZChpdSwgMjg5LjApOwoJaGFzaCA9IG1vZCgoaGFzaCo1MS4wICsgMi4wKSpoYXNoICsgaXYsIDI4OS4wKTsKCWhhc2ggPSBtb2QoKGhhc2gqMzQuMCArIDEwLjApKmhhc2gsIDI4OS4wKTsKCgkKCXZlYzMgcHNpID0gaGFzaCAqIDAuMDc0ODIgKyBhbHBoYTsKCXZlYzMgZ3ggPSBjb3MocHNpKTsKCXZlYzMgZ3kgPSBzaW4ocHNpKTsKCgkKCXZlYzIgZzAgPSB2ZWMyKGd4LngsZ3kueCk7Cgl2ZWMyIGcxID0gdmVjMihneC55LGd5LnkpOwoJdmVjMiBnMiA9IHZlYzIoZ3gueixneS56KTsKCgkKCXZlYzMgdyA9IDAuOCAtIHZlYzMoZG90KHgwLCB4MCksIGRvdCh4MSwgeDEpLCBkb3QoeDIsIHgyKSk7Cgl3ID0gbWF4KHcsIDAuMCk7Cgl2ZWMzIHcyID0gdyAqIHc7Cgl2ZWMzIHc0ID0gdzIgKiB3MjsKCgkKCXZlYzMgZ2RvdHggPSB2ZWMzKGRvdChnMCwgeDApLCBkb3QoZzEsIHgxKSwgZG90KGcyLCB4MikpOwoKCQoJZmxvYXQgbiA9IGRvdCh3NCwgZ2RvdHgpOwoKCQoJdmVjMyB3MyA9IHcyICogdzsKCXZlYzMgZHcgPSAtOC4wICogdzMgKiBnZG90eDsKCXZlYzIgZG4wID0gdzQueCAqIGcwICsgZHcueCAqIHgwOwoJdmVjMiBkbjEgPSB3NC55ICogZzEgKyBkdy55ICogeDE7Cgl2ZWMyIGRuMiA9IHc0LnogKiBnMiArIGR3LnogKiB4MjsKCWdyYWRpZW50ID0gMTAuOSAqIChkbjAgKyBkbjEgKyBkbjIpOwoKCQoJdmVjMyBkZzAsIGRnMSwgZGcyOwoJdmVjMyBkdzIgPSA0OC4wICogdzIgKiBnZG90eDsKCQoJZGcwLnh5ID0gZHcyLnggKiB4MCAqIHgwIC0gOC4wICogdzMueCAqICgyLjAgKiBnMCAqIHgwICsgZ2RvdHgueCk7CglkZzEueHkgPSBkdzIueSAqIHgxICogeDEgLSA4LjAgKiB3My55ICogKDIuMCAqIGcxICogeDEgKyBnZG90eC55KTsKCWRnMi54eSA9IGR3Mi56ICogeDIgKiB4MiAtIDguMCAqIHczLnogKiAoMi4wICogZzIgKiB4MiArIGdkb3R4LnopOwoJCglkZzAueiA9IGR3Mi54ICogeDAueCAqIHgwLnkgLSA4LjAgKiB3My54ICogZG90KGcwLCB4MC55eCk7CglkZzEueiA9IGR3Mi55ICogeDEueCAqIHgxLnkgLSA4LjAgKiB3My55ICogZG90KGcxLCB4MS55eCk7CglkZzIueiA9IGR3Mi56ICogeDIueCAqIHgyLnkgLSA4LjAgKiB3My56ICogZG90KGcyLCB4Mi55eCk7CglkZyA9IDEwLjkgKiAoZGcwICsgZGcxICsgZGcyKTsKCgkKCXJldHVybiAxMC45ICogbjsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzIgeCwgdmVjMiBwZXJpb2QsIGZsb2F0IGFscGhhKSB7CiAgICB2ZWMyIGcgPSB2ZWMyKDAuMCk7CiAgICByZXR1cm4gcHNyZG5vaXNlKHgsIHBlcmlvZCwgYWxwaGEsIGcpOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMiB4LCB2ZWMyIHBlcmlvZCkgewogICAgcmV0dXJuIHBzcmRub2lzZSh4LCBwZXJpb2QsIDAuMCk7Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMyIHgpIHsKICAgIHJldHVybiBwc3Jkbm9pc2UoeCwgdmVjMigwLjApKTsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzMgeCwgdmVjMyBwZXJpb2QsIGZsb2F0IGFscGhhLCBvdXQgdmVjMyBncmFkaWVudCkgewoKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIAogICAgY29uc3QgbWF0MyBNID0gbWF0MygwLjAsIDEuMCwgMS4wLAogICAgICAgICAgICAgICAgICAgICAgICAxLjAsIDAuMCwgMS4wLAogICAgICAgICAgICAgICAgICAgICAgICAxLjAsIDEuMCwgMC4wKTsKCiAgICBjb25zdCBtYXQzIE1pID0gbWF0MygtMC41LCAwLjUsIDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuNSwtMC41LCAwLjUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjUsIDAuNSwtMC41KTsKI2VuZGlmCgogICAgdmVjMyB1dncgPSB2ZWMzKDAuMCk7CgogICAgCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICAKICAgIHV2dyA9IE0gKiB4OwogI2Vsc2UKICAgIAogICAgCiAgICB1dncgPSB4ICsgZG90KHgsIHZlYzMoMC4zMzMzMzMzMykpOwogI2VuZGlmCgogICAgCiAgICB2ZWMzIGkwID0gZmxvb3IodXZ3KTsKICAgIHZlYzMgZjAgPSBmcmFjdCh1dncpOyAKCiAgICAKICAgIAogICAgCiAgICAKICAgIHZlYzMgZ18gPSBzdGVwKGYwLnh5eCwgZjAueXp6KTsgCiAgICB2ZWMzIGxfID0gMS4wIC0gZ187ICAgICAgICAgICAgIAogICAgdmVjMyBnID0gdmVjMyhsXy56LCBnXy54eSk7CiAgICB2ZWMzIGwgPSB2ZWMzKGxfLnh5LCBnXy56KTsKICAgIHZlYzMgbzEgPSBtaW4oIGcsIGwgKTsKICAgIHZlYzMgbzIgPSBtYXgoIGcsIGwgKTsKCiAgICAKICAgIHZlYzMgaTEgPSBpMCArIG8xOwogICAgdmVjMyBpMiA9IGkwICsgbzI7CiAgICB2ZWMzIGkzID0gaTAgKyB2ZWMzKDEuMCk7CgogICAgdmVjMyB2MCA9IHZlYzMoMC4wKTsKICAgIHZlYzMgdjEgPSB2ZWMzKDAuMCk7CiAgICB2ZWMzIHYyID0gdmVjMygwLjApOwogICAgdmVjMyB2MyA9IHZlYzMoMC4wKTsKCiAgICAKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIHYwID0gTWkgKiBpMDsKICAgIHYxID0gTWkgKiBpMTsKICAgIHYyID0gTWkgKiBpMjsKICAgIHYzID0gTWkgKiBpMzsKI2Vsc2UKICAgIAogICAgdjAgPSBpMCAtIGRvdChpMCwgdmVjMygxLjAvNi4wKSk7CiAgICB2MSA9IGkxIC0gZG90KGkxLCB2ZWMzKDEuMC82LjApKTsKICAgIHYyID0gaTIgLSBkb3QoaTIsIHZlYzMoMS4wLzYuMCkpOwogICAgdjMgPSBpMyAtIGRvdChpMywgdmVjMygxLjAvNi4wKSk7CiNlbmRpZgoKICAgIAogICAgdmVjMyB4MCA9IHggLSB2MDsKICAgIHZlYzMgeDEgPSB4IC0gdjE7CiAgICB2ZWMzIHgyID0geCAtIHYyOwogICAgdmVjMyB4MyA9IHggLSB2MzsKCiAgICBpZihhbnkoZ3JlYXRlclRoYW4ocGVyaW9kLCB2ZWMzKDAuMCkpKSkgewogICAgICAgIAogICAgICAgIHZlYzQgdnggPSB2ZWM0KHYwLngsIHYxLngsIHYyLngsIHYzLngpOwogICAgICAgIHZlYzQgdnkgPSB2ZWM0KHYwLnksIHYxLnksIHYyLnksIHYzLnkpOwogICAgICAgIHZlYzQgdnogPSB2ZWM0KHYwLnosIHYxLnosIHYyLnosIHYzLnopOwogICAgICAgIAogICAgICAgIGlmKHBlcmlvZC54ID4gMC4wKSB2eCA9IG1vZCh2eCwgcGVyaW9kLngpOwogICAgICAgIGlmKHBlcmlvZC55ID4gMC4wKSB2eSA9IG1vZCh2eSwgcGVyaW9kLnkpOwogICAgICAgIGlmKHBlcmlvZC56ID4gMC4wKSB2eiA9IG1vZCh2eiwgcGVyaW9kLnopOwogICAgICAgIAojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgICAgIGkwID0gTSAqIHZlYzModngueCwgdnkueCwgdnoueCk7CiAgICAgICAgaTEgPSBNICogdmVjMyh2eC55LCB2eS55LCB2ei55KTsKICAgICAgICBpMiA9IE0gKiB2ZWMzKHZ4LnosIHZ5LnosIHZ6LnopOwogICAgICAgIGkzID0gTSAqIHZlYzModngudywgdnkudywgdnoudyk7CiNlbHNlCiAgICAgICAgdjAgPSB2ZWMzKHZ4LngsIHZ5LngsIHZ6LngpOwogICAgICAgIHYxID0gdmVjMyh2eC55LCB2eS55LCB2ei55KTsKICAgICAgICB2MiA9IHZlYzModngueiwgdnkueiwgdnoueik7CiAgICAgICAgdjMgPSB2ZWMzKHZ4LncsIHZ5LncsIHZ6LncpOwogICAgICAgIAogICAgICAgIGkwID0gdjAgKyBkb3QodjAsIHZlYzMoMS4wLzMuMCkpOwogICAgICAgIGkxID0gdjEgKyBkb3QodjEsIHZlYzMoMS4wLzMuMCkpOwogICAgICAgIGkyID0gdjIgKyBkb3QodjIsIHZlYzMoMS4wLzMuMCkpOwogICAgICAgIGkzID0gdjMgKyBkb3QodjMsIHZlYzMoMS4wLzMuMCkpOwojZW5kaWYKICAgICAgICAKICAgICAgICBpMCA9IGZsb29yKGkwICsgMC41KTsKICAgICAgICBpMSA9IGZsb29yKGkxICsgMC41KTsKICAgICAgICBpMiA9IGZsb29yKGkyICsgMC41KTsKICAgICAgICBpMyA9IGZsb29yKGkzICsgMC41KTsKICAgIH0KCiAgICAKICAgIHZlYzQgaGFzaCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIAogICAgICAgICAgICAgICAgdmVjNChpMC56LCBpMS56LCBpMi56LCBpMy56ICkpCiAgICAgICAgICAgICAgICArIHZlYzQoaTAueSwgaTEueSwgaTIueSwgaTMueSApKQogICAgICAgICAgICAgICAgKyB2ZWM0KGkwLngsIGkxLngsIGkyLngsIGkzLnggKSk7CgogICAgCiAgICB2ZWM0IHRoZXRhID0gaGFzaCAqIDMuODgzMjIyMDc3OyAgCiAgICB2ZWM0IHN6ICAgID0gaGFzaCAqIC0wLjAwNjkyMDQxNSArIDAuOTk2NTM5NzkyOyAKICAgIHZlYzQgcHNpICAgPSBoYXNoICogMC4xMDg3MDU2MjggOyAKCiAgICB2ZWM0IEN0ID0gY29zKHRoZXRhKTsKICAgIHZlYzQgU3QgPSBzaW4odGhldGEpOwogICAgdmVjNCBzel9wcmltZSA9IHNxcnQoIDEuMCAtIHN6KnN6ICk7IAoKICAgIHZlYzQgZ3ggPSB2ZWM0KDAuMCk7CiAgICB2ZWM0IGd5ID0gdmVjNCgwLjApOwogICAgdmVjNCBneiA9IHZlYzQoMC4wKTsKCiAgICAKI2lmZGVmIFBTUkROT0lTRV9GQVNUX1JPVEFUSU9OCiAgICAKICAgIHZlYzQgcXggPSBTdDsgICAgICAgICAKICAgIHZlYzQgcXkgPSAtQ3Q7IAogICAgdmVjNCBxeiA9IHZlYzQoMC4wKTsKCiAgICB2ZWM0IHB4ID0gIHN6ICogcXk7ICAgCiAgICB2ZWM0IHB5ID0gLXN6ICogcXg7CiAgICB2ZWM0IHB6ID0gc3pfcHJpbWU7CgogICAgcHNpICs9IGFscGhhOyAgICAgICAgIAogICAgdmVjNCBTYSA9IHNpbihwc2kpOwogICAgdmVjNCBDYSA9IGNvcyhwc2kpOwoKICAgIGd4ID0gQ2EgKiBweCArIFNhICogcXg7CiAgICBneSA9IENhICogcHkgKyBTYSAqIHF5OwogICAgZ3ogPSBDYSAqIHB6ICsgU2EgKiBxejsKI2Vsc2UKICAgIAogICAgCiAgICBpZihhbHBoYSAhPSAwLjApIHsKICAgICAgICB2ZWM0IFNwID0gc2luKHBzaSk7ICAgICAgICAgIAogICAgICAgIHZlYzQgQ3AgPSBjb3MocHNpKTsKCiAgICAgICAgdmVjNCBweCA9IEN0ICogc3pfcHJpbWU7ICAgICAKICAgICAgICB2ZWM0IHB5ID0gU3QgKiBzel9wcmltZTsgICAgIAogICAgICAgIHZlYzQgcHogPSBzejsKCiAgICAgICAgdmVjNCBDdHAgPSBTdCpTcCAtIEN0KkNwOyAgICAKICAgICAgICB2ZWM0IHF4ID0gbWl4KCBDdHAqU3QsIFNwLCBzeik7CiAgICAgICAgdmVjNCBxeSA9IG1peCgtQ3RwKkN0LCBDcCwgc3opOwogICAgICAgIHZlYzQgcXogPSAtKHB5KkNwICsgcHgqU3ApOwoKICAgICAgICB2ZWM0IFNhID0gdmVjNChzaW4oYWxwaGEpKTsgICAgICAgCiAgICAgICAgdmVjNCBDYSA9IHZlYzQoY29zKGFscGhhKSk7CgogICAgICAgIGd4ID0gQ2EgKiBweCArIFNhICogcXg7CiAgICAgICAgZ3kgPSBDYSAqIHB5ICsgU2EgKiBxeTsKICAgICAgICBneiA9IENhICogcHogKyBTYSAqIHF6OwogICAgfQogICAgZWxzZSB7CiAgICAgICAgZ3ggPSBDdCAqIHN6X3ByaW1lOyAgCiAgICAgICAgZ3kgPSBTdCAqIHN6X3ByaW1lOwogICAgICAgIGd6ID0gc3o7ICAKICAgIH0KI2VuZGlmCgogICAgCiAgICB2ZWMzIGcwID0gdmVjMyhneC54LCBneS54LCBnei54KTsKICAgIHZlYzMgZzEgPSB2ZWMzKGd4LnksIGd5LnksIGd6LnkpOwogICAgdmVjMyBnMiA9IHZlYzMoZ3gueiwgZ3kueiwgZ3oueik7CiAgICB2ZWMzIGczID0gdmVjMyhneC53LCBneS53LCBnei53KTsKCiAgICAKICAgIHZlYzQgdyA9IDAuNSAtIHZlYzQoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSwgZG90KHgzLHgzKSk7CiAgICB3ID0gbWF4KHcsIDAuMCk7CiAgICB2ZWM0IHcyID0gdyAqIHc7CiAgICB2ZWM0IHczID0gdzIgKiB3OwoKICAgIAogICAgdmVjNCBnZG90eCA9IHZlYzQoZG90KGcwLHgwKSwgZG90KGcxLHgxKSwgZG90KGcyLHgyKSwgZG90KGczLHgzKSk7CgogICAgCiAgICBmbG9hdCBuID0gZG90KHczLCBnZG90eCk7CgogICAgCiAgICB2ZWM0IGR3ID0gLTYuMCAqIHcyICogZ2RvdHg7CiAgICB2ZWMzIGRuMCA9IHczLnggKiBnMCArIGR3LnggKiB4MDsKICAgIHZlYzMgZG4xID0gdzMueSAqIGcxICsgZHcueSAqIHgxOwogICAgdmVjMyBkbjIgPSB3My56ICogZzIgKyBkdy56ICogeDI7CiAgICB2ZWMzIGRuMyA9IHczLncgKiBnMyArIGR3LncgKiB4MzsKICAgIGdyYWRpZW50ID0gMzkuNSAqIChkbjAgKyBkbjEgKyBkbjIgKyBkbjMpOwoKICAgIAogICAgcmV0dXJuIDM5LjUgKiBuOwogIAp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMyB4LCB2ZWMzIHBlcmlvZCwgZmxvYXQgYWxwaGEsIG91dCB2ZWMzIGdyYWRpZW50LCBvdXQgdmVjMyBkZywgb3V0IHZlYzMgZGcyKSB7CgojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgCiAgICBjb25zdCBtYXQzIE0gPSBtYXQzKDAuMCwgMS4wLCAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgIDEuMCwgMC4wLCAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgIDEuMCwgMS4wLCAwLjApOwoKICAgIGNvbnN0IG1hdDMgTWkgPSBtYXQzKC0wLjUsIDAuNSwgMC41LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41LC0wLjUsIDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuNSwgMC41LC0wLjUpOwojZW5kaWYKCiAgICB2ZWMzIHV2dyA9IHZlYzMoMC4wKTsKCiAgICAKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIAogICAgdXZ3ID0gTSAqIHg7CiNlbHNlCiAgICAKICAgIAogICAgdXZ3ID0geCArIGRvdCh4LCB2ZWMzKDAuMzMzMzMzMykpOwojZW5kaWYKCiAgICAKICAgIHZlYzMgaTAgPSBmbG9vcih1dncpOwogICAgdmVjMyBmMCA9IGZyYWN0KHV2dyk7IAoKICAgIAogICAgCiAgICAKICAgIAogICAgdmVjMyBnXyA9IHN0ZXAoZjAueHl4LCBmMC55enopOyAKICAgIHZlYzMgbF8gPSAxLjAgLSBnXzsgICAgICAgICAgICAgCiAgICB2ZWMzIGcgPSB2ZWMzKGxfLnosIGdfLnh5KTsKICAgIHZlYzMgbCA9IHZlYzMobF8ueHksIGdfLnopOwogICAgdmVjMyBvMSA9IG1pbiggZywgbCApOwogICAgdmVjMyBvMiA9IG1heCggZywgbCApOwoKICAgIAogICAgdmVjMyBpMSA9IGkwICsgbzE7CiAgICB2ZWMzIGkyID0gaTAgKyBvMjsKICAgIHZlYzMgaTMgPSBpMCArIHZlYzMoMS4wKTsKCiAgICB2ZWMzIHYwLCB2MSwgdjIsIHYzOwoKICAgIAojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgdjAgPSBNaSAqIGkwOwogICAgdjEgPSBNaSAqIGkxOwogICAgdjIgPSBNaSAqIGkyOwogICAgdjMgPSBNaSAqIGkzOwojZWxzZQogICAgCiAgICB2MCA9IGkwIC0gZG90KGkwLCB2ZWMzKDEuMC82LjApKTsKICAgIHYxID0gaTEgLSBkb3QoaTEsIHZlYzMoMS4wLzYuMCkpOwogICAgdjIgPSBpMiAtIGRvdChpMiwgdmVjMygxLjAvNi4wKSk7CiAgICB2MyA9IGkzIC0gZG90KGkzLCB2ZWMzKDEuMC82LjApKTsKI2VuZGlmCgogICAgCiAgICB2ZWMzIHgwID0geCAtIHYwOwogICAgdmVjMyB4MSA9IHggLSB2MTsKICAgIHZlYzMgeDIgPSB4IC0gdjI7CiAgICB2ZWMzIHgzID0geCAtIHYzOwoKICAgIGlmKGFueShncmVhdGVyVGhhbihwZXJpb2QsIHZlYzMoMC4wKSkpKSB7CiAgICAgICAgCiAgICAgICAgdmVjNCB2eCA9IHZlYzQodjAueCwgdjEueCwgdjIueCwgdjMueCk7CiAgICAgICAgdmVjNCB2eSA9IHZlYzQodjAueSwgdjEueSwgdjIueSwgdjMueSk7CiAgICAgICAgdmVjNCB2eiA9IHZlYzQodjAueiwgdjEueiwgdjIueiwgdjMueik7CiAgICAgICAgCiAgICAgICAgaWYocGVyaW9kLnggPiAwLjApIHZ4ID0gbW9kKHZ4LCBwZXJpb2QueCk7CiAgICAgICAgaWYocGVyaW9kLnkgPiAwLjApIHZ5ID0gbW9kKHZ5LCBwZXJpb2QueSk7CiAgICAgICAgaWYocGVyaW9kLnogPiAwLjApIHZ6ID0gbW9kKHZ6LCBwZXJpb2Queik7CiAgICAgICAgCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICAgICAgaTAgPSBNICogdmVjMyh2eC54LCB2eS54LCB2ei54KTsKICAgICAgICBpMSA9IE0gKiB2ZWMzKHZ4LnksIHZ5LnksIHZ6LnkpOwogICAgICAgIGkyID0gTSAqIHZlYzModngueiwgdnkueiwgdnoueik7CiAgICAgICAgaTMgPSBNICogdmVjMyh2eC53LCB2eS53LCB2ei53KTsKI2Vsc2UKICAgICAgICB2MCA9IHZlYzModngueCwgdnkueCwgdnoueCk7CiAgICAgICAgdjEgPSB2ZWMzKHZ4LnksIHZ5LnksIHZ6LnkpOwogICAgICAgIHYyID0gdmVjMyh2eC56LCB2eS56LCB2ei56KTsKICAgICAgICB2MyA9IHZlYzModngudywgdnkudywgdnoudyk7CiAgICAgICAgCiAgICAgICAgaTAgPSB2MCArIGRvdCh2MCwgdmVjMygwLjMzMzMzMzMpKTsKICAgICAgICBpMSA9IHYxICsgZG90KHYxLCB2ZWMzKDAuMzMzMzMzMykpOwogICAgICAgIGkyID0gdjIgKyBkb3QodjIsIHZlYzMoMC4zMzMzMzMzKSk7CiAgICAgICAgaTMgPSB2MyArIGRvdCh2MywgdmVjMygwLjMzMzMzMzMpKTsKI2VuZGlmCiAgICAgICAgCiAgICAgICAgaTAgPSBmbG9vcihpMCArIDAuNSk7CiAgICAgICAgaTEgPSBmbG9vcihpMSArIDAuNSk7CiAgICAgICAgaTIgPSBmbG9vcihpMiArIDAuNSk7CiAgICAgICAgaTMgPSBmbG9vcihpMyArIDAuNSk7CiAgICB9CgogICAgCiAgICB2ZWM0IGhhc2ggPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCAKICAgICAgICAgICAgICAgIHZlYzQoaTAueiwgaTEueiwgaTIueiwgaTMueiApKQogICAgICAgICAgICAgICAgKyB2ZWM0KGkwLnksIGkxLnksIGkyLnksIGkzLnkgKSkKICAgICAgICAgICAgICAgICsgdmVjNChpMC54LCBpMS54LCBpMi54LCBpMy54ICkpOwoKICAgIAogICAgdmVjNCB0aGV0YSA9IGhhc2ggKiAzLjg4MzIyMjA3NzsgIAogICAgdmVjNCBzeiAgICA9IGhhc2ggKiAtMC4wMDY5MjA0MTUgKyAwLjk5NjUzOTc5MjsgCiAgICB2ZWM0IHBzaSAgID0gaGFzaCAqIDAuMTA4NzA1NjI4IDsgCgogICAgdmVjNCBDdCA9IGNvcyh0aGV0YSk7CiAgICB2ZWM0IFN0ID0gc2luKHRoZXRhKTsKICAgIHZlYzQgc3pfcHJpbWUgPSBzcXJ0KCAxLjAgLSBzeipzeiApOyAKCiAgICB2ZWM0IGd4LCBneSwgZ3o7CgogICAgCiNpZmRlZiBQU1JETk9JU0VfRkFTVF9ST1RBVElPTgogICAgCiAgICB2ZWM0IHF4ID0gU3Q7ICAgICAgICAgCiAgICB2ZWM0IHF5ID0gLUN0OyAKICAgIHZlYzQgcXogPSB2ZWM0KDAuMCk7CgogICAgdmVjNCBweCA9ICBzeiAqIHF5OyAgIAogICAgdmVjNCBweSA9IC1zeiAqIHF4OwogICAgdmVjNCBweiA9IHN6X3ByaW1lOwoKICAgIHBzaSArPSBhbHBoYTsgICAgICAgICAKICAgIHZlYzQgU2EgPSBzaW4ocHNpKTsKICAgIHZlYzQgQ2EgPSBjb3MocHNpKTsKCiAgICBneCA9IENhICogcHggKyBTYSAqIHF4OwogICAgZ3kgPSBDYSAqIHB5ICsgU2EgKiBxeTsKICAgIGd6ID0gQ2EgKiBweiArIFNhICogcXo7CiAgICAjZWxzZQogICAgCiAgICAKICAgIGlmKGFscGhhICE9IDAuMCkgewogICAgICAgIHZlYzQgU3AgPSBzaW4ocHNpKTsgICAgICAgICAgCiAgICAgICAgdmVjNCBDcCA9IGNvcyhwc2kpOwoKICAgICAgICB2ZWM0IHB4ID0gQ3QgKiBzel9wcmltZTsgICAgIAogICAgICAgIHZlYzQgcHkgPSBTdCAqIHN6X3ByaW1lOyAgICAgCiAgICAgICAgdmVjNCBweiA9IHN6OwoKICAgICAgICB2ZWM0IEN0cCA9IFN0KlNwIC0gQ3QqQ3A7ICAgIAogICAgICAgIHZlYzQgcXggPSBtaXgoIEN0cCpTdCwgU3AsIHN6KTsKICAgICAgICB2ZWM0IHF5ID0gbWl4KC1DdHAqQ3QsIENwLCBzeik7CiAgICAgICAgdmVjNCBxeiA9IC0ocHkqQ3AgKyBweCpTcCk7CgogICAgICAgIHZlYzQgU2EgPSB2ZWM0KHNpbihhbHBoYSkpOyAgICAgICAKICAgICAgICB2ZWM0IENhID0gdmVjNChjb3MoYWxwaGEpKTsKCiAgICAgICAgZ3ggPSBDYSAqIHB4ICsgU2EgKiBxeDsKICAgICAgICBneSA9IENhICogcHkgKyBTYSAqIHF5OwogICAgICAgIGd6ID0gQ2EgKiBweiArIFNhICogcXo7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBneCA9IEN0ICogc3pfcHJpbWU7ICAKICAgICAgICBneSA9IFN0ICogc3pfcHJpbWU7CiAgICAgICAgZ3ogPSBzejsgIAogICAgfQojZW5kaWYKCiAgICAKICAgIHZlYzMgZzAgPSB2ZWMzKGd4LngsIGd5LngsIGd6LngpOwogICAgdmVjMyBnMSA9IHZlYzMoZ3gueSwgZ3kueSwgZ3oueSk7CiAgICB2ZWMzIGcyID0gdmVjMyhneC56LCBneS56LCBnei56KTsKICAgIHZlYzMgZzMgPSB2ZWMzKGd4LncsIGd5LncsIGd6LncpOwoKICAgIAogICAgdmVjNCB3ID0gMC41IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKTsKICAgIHcgPSBtYXgodywgMC4wKTsKICAgIHZlYzQgdzIgPSB3ICogdzsKICAgIHZlYzQgdzMgPSB3MiAqIHc7CgogICAgCiAgICB2ZWM0IGdkb3R4ID0gdmVjNChkb3QoZzAseDApLCBkb3QoZzEseDEpLCBkb3QoZzIseDIpLCBkb3QoZzMseDMpKTsKCiAgICAKICAgIGZsb2F0IG4gPSBkb3QodzMsIGdkb3R4KTsKCiAgICAKICAgIHZlYzQgZHcgPSAtNi4wICogdzIgKiBnZG90eDsKICAgIHZlYzMgZG4wID0gdzMueCAqIGcwICsgZHcueCAqIHgwOwogICAgdmVjMyBkbjEgPSB3My55ICogZzEgKyBkdy55ICogeDE7CiAgICB2ZWMzIGRuMiA9IHczLnogKiBnMiArIGR3LnogKiB4MjsKICAgIHZlYzMgZG4zID0gdzMudyAqIGczICsgZHcudyAqIHgzOwogICAgZ3JhZGllbnQgPSAzOS41ICogKGRuMCArIGRuMSArIGRuMiArIGRuMyk7CgogICAgCiAgICB2ZWM0IGR3MiA9IDI0LjAgKiB3ICogZ2RvdHg7CiAgICB2ZWMzIGRnYTAgPSBkdzIueCAqIHgwICogeDAgLSA2LjAgKiB3Mi54ICogKGdkb3R4LnggKyAyLjAgKiBnMCAqIHgwKTsKICAgIHZlYzMgZGdhMSA9IGR3Mi55ICogeDEgKiB4MSAtIDYuMCAqIHcyLnkgKiAoZ2RvdHgueSArIDIuMCAqIGcxICogeDEpOwogICAgdmVjMyBkZ2EyID0gZHcyLnogKiB4MiAqIHgyIC0gNi4wICogdzIueiAqIChnZG90eC56ICsgMi4wICogZzIgKiB4Mik7CiAgICB2ZWMzIGRnYTMgPSBkdzIudyAqIHgzICogeDMgLSA2LjAgKiB3Mi53ICogKGdkb3R4LncgKyAyLjAgKiBnMyAqIHgzKTsKICAgIGRnID0gMzUuMCAqIChkZ2EwICsgZGdhMSArIGRnYTIgKyBkZ2EzKTsgCiAgICB2ZWMzIGRnYjAgPSBkdzIueCAqIHgwICogeDAueXp4IC0gNi4wICogdzIueCAqIChnMCAqIHgwLnl6eCArIGcwLnl6eCAqIHgwKTsKICAgIHZlYzMgZGdiMSA9IGR3Mi55ICogeDEgKiB4MS55enggLSA2LjAgKiB3Mi55ICogKGcxICogeDEueXp4ICsgZzEueXp4ICogeDEpOwogICAgdmVjMyBkZ2IyID0gZHcyLnogKiB4MiAqIHgyLnl6eCAtIDYuMCAqIHcyLnogKiAoZzIgKiB4Mi55enggKyBnMi55enggKiB4Mik7CiAgICB2ZWMzIGRnYjMgPSBkdzIudyAqIHgzICogeDMueXp4IC0gNi4wICogdzIudyAqIChnMyAqIHgzLnl6eCArIGczLnl6eCAqIHgzKTsKICAgIGRnMiA9IDM5LjUgKiAoZGdiMCArIGRnYjEgKyBkZ2IyICsgZGdiMyk7IAoKICAgIAogICAgcmV0dXJuIDM5LjUgKiBuOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMyB4LCB2ZWMzIHBlcmlvZCwgZmxvYXQgYWxwaGEpIHsKICAgIHZlYzMgZyA9IHZlYzMoMC4wKTsKICAgIHJldHVybiBwc3Jkbm9pc2UoeCwgcGVyaW9kLCBhbHBoYSwgZyk7Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMzIHgsIHZlYzMgcGVyaW9kKSB7CiAgICByZXR1cm4gcHNyZG5vaXNlKHgsIHBlcmlvZCwgMC4wKTsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzMgeCkgewogICAgcmV0dXJuIHBzcmRub2lzZSh4LCB2ZWMzKDAuMCkpOwp9CiNlbmRpZgoKCgoKCiNpZm5kZWYgUkFORE9NX1NDQUxFCiNpZiBkZWZpbmVkKFJBTkRPTV9ISUdIRVJfUkFOR0UpCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoLjEwMzEsIC4xMDMwLCAuMDk3MywgLjEwOTkpCiNlbHNlCiNkZWZpbmUgUkFORE9NX1NDQUxFIHZlYzQoNDQzLjg5NywgNDQxLjQyMywgLjA5NzMsIC4xMDk5KQojZW5kaWYKI2VuZGlmCgojaWZuZGVmIEZOQ19SQU5ET00KI2RlZmluZSBGTkNfUkFORE9NCmZsb2F0IHJhbmRvbShpbiBmbG9hdCB4KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgeCA9IGZyYWN0KHggKiBSQU5ET01fU0NBTEUueCk7CiAgICB4ICo9IHggKyAzMy4zMzsKICAgIHggKj0geCArIHg7CiAgICByZXR1cm4gZnJhY3QoeCk7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKHgpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjMiBzdCkgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHZlYzMgcDMgID0gZnJhY3QodmVjMyhzdC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocDMueCArIHAzLnkpICogcDMueik7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMzIHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyAgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHBvcyArPSBkb3QocG9zLCBwb3Muenl4ICsgMzEuMzIpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIHBvcy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHBvcy54eXosIHZlYzMoNzAuOTg5OCwgNzguMjMzLCAzMi40MzU1KSkpICogNDM3NTguNTQ1MzEyMyk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjNCBwb3MpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICBwb3MgPSBmcmFjdChwb3MgKiBSQU5ET01fU0NBTEUpOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy53enh5KzMzLjMzKTsKICAgIHJldHVybiBmcmFjdCgocG9zLnggKyBwb3MueSkgKiAocG9zLnogKyBwb3MudykpOwojZWxzZQogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiBmcmFjdChzaW4oZG90X3Byb2R1Y3QpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9Cgp2ZWMyIHJhbmRvbTIoZmxvYXQgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHAueHl4ICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzIgcmFuZG9tMih2ZWMzIHAzKSB7CiAgICBwMyA9IGZyYWN0KHAzICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzMgcmFuZG9tMyhmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4eSArIHAzLnl6eikgKiBwMy56eXgpOyAKfQoKdmVjMyByYW5kb20zKHZlYzIgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocC54eXgpICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7Cn0KCnZlYzMgcmFuZG9tMyh2ZWMzIHApIHsKICAgIHAgPSBmcmFjdChwICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwICs9IGRvdChwLCBwLnl4eiArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocC54eHkgKyBwLnl6eikgKiBwLnp5eCk7Cn0KCnZlYzQgcmFuZG9tNChmbG9hdCBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocCAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOyAgIAp9Cgp2ZWM0IHJhbmRvbTQodmVjMiBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocC54eXh5ICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWMzIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5enggICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCnZlYzQgcmFuZG9tNCh2ZWM0IHA0KSB7CiAgICBwNCA9IGZyYWN0KHA0ICAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9CgoKI2VuZGlmCgoKCgojaWZuZGVmIEZOQ19XT1JMRVkKI2RlZmluZSBGTkNfV09STEVZCgpmbG9hdCB3b3JsZXkodmVjMiBwKXsKICAgIHZlYzIgbiA9IGZsb29yKCBwICk7CiAgICB2ZWMyIGYgPSBmcmFjdCggcCApOwoKICAgIGZsb2F0IGRpcyA9IDEuMDsKICAgIGZvciggaW50IGo9IC0xOyBqIDw9IDE7IGorKyApCiAgICAgICAgZm9yKCBpbnQgaT0tMTsgaSA8PSAxOyBpKysgKSB7CQogICAgICAgICAgICAgICAgdmVjMiAgZyA9IHZlYzIoaSxqKTsKICAgICAgICAgICAgICAgIHZlYzIgIG8gPSByYW5kb20yKCBuICsgZyApOwogICAgICAgICAgICAgICAgdmVjMiAgZGVsdGEgPSBnICsgbyAtIGY7CiAgICAgICAgICAgICAgICBmbG9hdCBkID0gbGVuZ3RoKGRlbHRhKTsKICAgICAgICAgICAgICAgIGRpcyA9IG1pbihkaXMsZCk7CiAgICB9CgogICAgcmV0dXJuIDEuMC1kaXM7Cn0KCmZsb2F0IHdvcmxleSh2ZWMzIHApIHsKICAgIHZlYzMgbiA9IGZsb29yKCBwICk7CiAgICB2ZWMzIGYgPSBmcmFjdCggcCApOwoKICAgIGZsb2F0IGRpcyA9IDEuMDsKICAgIGZvciggaW50IGsgPSAtMTsgayA8PSAxOyBrKysgKQogICAgICAgIGZvciggaW50IGo9IC0xOyBqIDw9IDE7IGorKyApCiAgICAgICAgICAgIGZvciggaW50IGk9LTE7IGkgPD0gMTsgaSsrICkgewkKICAgICAgICAgICAgICAgIHZlYzMgIGcgPSB2ZWMzKGksaixrKTsKICAgICAgICAgICAgICAgIHZlYzMgIG8gPSByYW5kb20zKCBuICsgZyApOwogICAgICAgICAgICAgICAgdmVjMyAgZGVsdGEgPSBnK28tZjsKICAgICAgICAgICAgICAgIGZsb2F0IGQgPSBsZW5ndGgoZGVsdGEpOwogICAgICAgICAgICAgICAgZGlzID0gbWluKGRpcyxkKTsKICAgIH0KCiAgICByZXR1cm4gMS4wLWRpczsKfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19HUkFENAojZGVmaW5lIEZOQ19HUkFENAp2ZWM0IGdyYWQ0KGZsb2F0IGosIHZlYzQgaXApIHsKICAgIGNvbnN0IHZlYzQgb25lcyA9IHZlYzQoMS4wLCAxLjAsIDEuMCwgLTEuMCk7CiAgICB2ZWM0IHAsczsKCiAgICBwLnh5eiA9IGZsb29yKCBmcmFjdCAodmVjMyhqKSAqIGlwLnh5eikgKiA3LjApICogaXAueiAtIDEuMDsKICAgIHAudyA9IDEuNSAtIGRvdChhYnMocC54eXopLCBvbmVzLnh5eik7CiAgICBzID0gdmVjNChsZXNzVGhhbihwLCB2ZWM0KDAuMCkpKTsKICAgIHAueHl6ID0gcC54eXogKyAocy54eXoqMi4wIC0gMS4wKSAqIHMud3d3OwoKICAgIHJldHVybiBwOwp9CiNlbmRpZgoKCgoKI2lmbmRlZiBGTkNfU05PSVNFCiNkZWZpbmUgRk5DX1NOT0lTRQpmbG9hdCBzbm9pc2UoaW4gdmVjMiB2KSB7CiAgICBjb25zdCB2ZWM0IEMgPSB2ZWM0KDAuMjExMzI0ODY1NDA1MTg3LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIDAuMzY2MDI1NDAzNzg0NDM5LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIC0wLjU3NzM1MDI2OTE4OTYyNiwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjAyNDM5MDI0MzkwMjQzOSk7IAogICAgCiAgICB2ZWMyIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5KSApOwogICAgdmVjMiB4MCA9IHYgLSAgIGkgKyBkb3QoaSwgQy54eCk7CgogICAgCiAgICB2ZWMyIGkxOwogICAgCiAgICAKICAgIGkxID0gKHgwLnggPiB4MC55KSA/IHZlYzIoMS4wLCAwLjApIDogdmVjMigwLjAsIDEuMCk7CiAgICAKICAgIAogICAgCiAgICB2ZWM0IHgxMiA9IHgwLnh5eHkgKyBDLnh4eno7CiAgICB4MTIueHkgLT0gaTE7CgogICAgCiAgICBpID0gbW9kMjg5KGkpOyAKICAgIHZlYzMgcCA9IHBlcm11dGUoIHBlcm11dGUoIGkueSArIHZlYzMoMC4wLCBpMS55LCAxLjAgKSkKICAgICsgaS54ICsgdmVjMygwLjAsIGkxLngsIDEuMCApKTsKCiAgICB2ZWMzIG0gPSBtYXgoMC41IC0gdmVjMyhkb3QoeDAseDApLCBkb3QoeDEyLnh5LHgxMi54eSksIGRvdCh4MTIuencseDEyLnp3KSksIDAuMCk7CiAgICBtID0gbSptIDsKICAgIG0gPSBtKm0gOwoKICAgIAogICAgCgogICAgdmVjMyB4ID0gMi4wICogZnJhY3QocCAqIEMud3d3KSAtIDEuMDsKICAgIHZlYzMgaCA9IGFicyh4KSAtIDAuNTsKICAgIHZlYzMgb3ggPSBmbG9vcih4ICsgMC41KTsKICAgIHZlYzMgYTAgPSB4IC0gb3g7CgogICAgCiAgICAKICAgIG0gKj0gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiAoIGEwKmEwICsgaCpoICk7CgogICAgCiAgICB2ZWMzIGc7CiAgICBnLnggID0gYTAueCAgKiB4MC54ICArIGgueCAgKiB4MC55OwogICAgZy55eiA9IGEwLnl6ICogeDEyLnh6ICsgaC55eiAqIHgxMi55dzsKICAgIHJldHVybiAxMzAuMCAqIGRvdChtLCBnKTsKfQoKCmZsb2F0IHNub2lzZShpbiB2ZWMzIHYpIHsKICAgIGNvbnN0IHZlYzIgIEMgPSB2ZWMyKDEuMC82LjAsIDEuMC8zLjApIDsKICAgIGNvbnN0IHZlYzQgIEQgPSB2ZWM0KDAuMCwgMC41LCAxLjAsIDIuMCk7CgogICAgCiAgICB2ZWMzIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5eSkgKTsKICAgIHZlYzMgeDAgPSAgIHYgLSBpICsgZG90KGksIEMueHh4KSA7CgogICAgCiAgICB2ZWMzIGcgPSBzdGVwKHgwLnl6eCwgeDAueHl6KTsKICAgIHZlYzMgbCA9IDEuMCAtIGc7CiAgICB2ZWMzIGkxID0gbWluKCBnLnh5eiwgbC56eHkgKTsKICAgIHZlYzMgaTIgPSBtYXgoIGcueHl6LCBsLnp4eSApOwoKICAgIAogICAgCiAgICAKICAgIAogICAgdmVjMyB4MSA9IHgwIC0gaTEgKyBDLnh4eDsKICAgIHZlYzMgeDIgPSB4MCAtIGkyICsgQy55eXk7IAogICAgdmVjMyB4MyA9IHgwIC0gRC55eXk7ICAgICAgCgogICAgCiAgICBpID0gbW9kMjg5KGkpOwogICAgdmVjNCBwID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSgKICAgICAgICAgICAgICAgIGkueiArIHZlYzQoMC4wLCBpMS56LCBpMi56LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnkgKyB2ZWM0KDAuMCwgaTEueSwgaTIueSwgMS4wICkpCiAgICAgICAgICAgICsgaS54ICsgdmVjNCgwLjAsIGkxLngsIGkyLngsIDEuMCApKTsKCiAgICAKICAgIAogICAgZmxvYXQgbl8gPSAwLjE0Mjg1NzE0Mjg1NzsgCiAgICB2ZWMzICBucyA9IG5fICogRC53eXogLSBELnh6eDsKCiAgICB2ZWM0IGogPSBwIC0gNDkuMCAqIGZsb29yKHAgKiBucy56ICogbnMueik7ICAKCiAgICB2ZWM0IHhfID0gZmxvb3IoaiAqIG5zLnopOwogICAgdmVjNCB5XyA9IGZsb29yKGogLSA3LjAgKiB4XyApOyAgICAKCiAgICB2ZWM0IHggPSB4XyAqbnMueCArIG5zLnl5eXk7CiAgICB2ZWM0IHkgPSB5XyAqbnMueCArIG5zLnl5eXk7CiAgICB2ZWM0IGggPSAxLjAgLSBhYnMoeCkgLSBhYnMoeSk7CgogICAgdmVjNCBiMCA9IHZlYzQoIHgueHksIHkueHkgKTsKICAgIHZlYzQgYjEgPSB2ZWM0KCB4Lnp3LCB5Lnp3ICk7CgogICAgCiAgICAKICAgIHZlYzQgczAgPSBmbG9vcihiMCkqMi4wICsgMS4wOwogICAgdmVjNCBzMSA9IGZsb29yKGIxKSoyLjAgKyAxLjA7CiAgICB2ZWM0IHNoID0gLXN0ZXAoaCwgdmVjNCgwLjApKTsKCiAgICB2ZWM0IGEwID0gYjAueHp5dyArIHMwLnh6eXcqc2gueHh5eSA7CiAgICB2ZWM0IGExID0gYjEueHp5dyArIHMxLnh6eXcqc2guenp3dyA7CgogICAgdmVjMyBwMCA9IHZlYzMoYTAueHksaC54KTsKICAgIHZlYzMgcDEgPSB2ZWMzKGEwLnp3LGgueSk7CiAgICB2ZWMzIHAyID0gdmVjMyhhMS54eSxoLnopOwogICAgdmVjMyBwMyA9IHZlYzMoYTEuencsaC53KTsKCiAgICAKICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QocDAscDApLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpOwogICAgcDAgKj0gbm9ybS54OwogICAgcDEgKj0gbm9ybS55OwogICAgcDIgKj0gbm9ybS56OwogICAgcDMgKj0gbm9ybS53OwoKICAgIAogICAgdmVjNCBtID0gbWF4KDAuNiAtIHZlYzQoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSwgZG90KHgzLHgzKSksIDAuMCk7CiAgICBtID0gbSAqIG07CiAgICByZXR1cm4gNDIuMCAqIGRvdCggbSptLCB2ZWM0KCBkb3QocDAseDApLCBkb3QocDEseDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdChwMix4MiksIGRvdChwMyx4MykgKSApOwp9CgpmbG9hdCBzbm9pc2UoaW4gdmVjNCB2KSB7CiAgICBjb25zdCB2ZWM0ICBDID0gdmVjNCggMC4xMzgxOTY2MDExMjUwMTEsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC4yNzYzOTMyMDIyNTAwMjEsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC40MTQ1ODk4MDMzNzUwMzIsICAKICAgICAgICAgICAgICAgICAgICAgICAgLTAuNDQ3MjEzNTk1NDk5OTU4KTsgCgogICAgCiAgICB2ZWM0IGkgID0gZmxvb3IodiArIGRvdCh2LCB2ZWM0KC4zMDkwMTY5OTQzNzQ5NDc0NTEpKSApOyAKICAgIHZlYzQgeDAgPSB2IC0gICBpICsgZG90KGksIEMueHh4eCk7CgogICAgCgogICAgCiAgICB2ZWM0IGkwOwogICAgdmVjMyBpc1ggPSBzdGVwKCB4MC55encsIHgwLnh4eCApOwogICAgdmVjMyBpc1laID0gc3RlcCggeDAuend3LCB4MC55eXogKTsKICAgIAogICAgaTAueCA9IGlzWC54ICsgaXNYLnkgKyBpc1guejsKICAgIGkwLnl6dyA9IDEuMCAtIGlzWDsKICAgIAogICAgaTAueSArPSBpc1laLnggKyBpc1laLnk7CiAgICBpMC56dyArPSAxLjAgLSBpc1laLnh5OwogICAgaTAueiArPSBpc1laLno7CiAgICBpMC53ICs9IDEuMCAtIGlzWVouejsKCiAgICAKICAgIHZlYzQgaTMgPSBjbGFtcCggaTAsIDAuMCwgMS4wICk7CiAgICB2ZWM0IGkyID0gY2xhbXAoIGkwLTEuMCwgMC4wLCAxLjAgKTsKICAgIHZlYzQgaTEgPSBjbGFtcCggaTAtMi4wLCAwLjAsIDEuMCApOwoKICAgIAogICAgCiAgICAKICAgIAogICAgCiAgICB2ZWM0IHgxID0geDAgLSBpMSArIEMueHh4eDsKICAgIHZlYzQgeDIgPSB4MCAtIGkyICsgQy55eXl5OwogICAgdmVjNCB4MyA9IHgwIC0gaTMgKyBDLnp6eno7CiAgICB2ZWM0IHg0ID0geDAgKyBDLnd3d3c7CgogICAgCiAgICBpID0gbW9kMjg5KGkpOwogICAgZmxvYXQgajAgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKGkudykgKyBpLnopICsgaS55KSArIGkueCk7CiAgICB2ZWM0IGoxID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSAoCiAgICAgICAgICAgICAgICBpLncgKyB2ZWM0KGkxLncsIGkyLncsIGkzLncsIDEuMCApKQogICAgICAgICAgICArIGkueiArIHZlYzQoaTEueiwgaTIueiwgaTMueiwgMS4wICkpCiAgICAgICAgICAgICsgaS55ICsgdmVjNChpMS55LCBpMi55LCBpMy55LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnggKyB2ZWM0KGkxLngsIGkyLngsIGkzLngsIDEuMCApKTsKCiAgICAKICAgIAogICAgdmVjNCBpcCA9IHZlYzQoMS4wLzI5NC4wLCAxLjAvNDkuMCwgMS4wLzcuMCwgMC4wKSA7CgogICAgdmVjNCBwMCA9IGdyYWQ0KGowLCAgIGlwKTsKICAgIHZlYzQgcDEgPSBncmFkNChqMS54LCBpcCk7CiAgICB2ZWM0IHAyID0gZ3JhZDQoajEueSwgaXApOwogICAgdmVjNCBwMyA9IGdyYWQ0KGoxLnosIGlwKTsKICAgIHZlYzQgcDQgPSBncmFkNChqMS53LCBpcCk7CgogICAgCiAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KHAwLHAwKSwgZG90KHAxLHAxKSwgZG90KHAyLCBwMiksIGRvdChwMyxwMykpKTsKICAgIHAwICo9IG5vcm0ueDsKICAgIHAxICo9IG5vcm0ueTsKICAgIHAyICo9IG5vcm0uejsKICAgIHAzICo9IG5vcm0udzsKICAgIHA0ICo9IHRheWxvckludlNxcnQoZG90KHA0LHA0KSk7CgogICAgCiAgICB2ZWMzIG0wID0gbWF4KDAuNiAtIHZlYzMoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSksIDAuMCk7CiAgICB2ZWMyIG0xID0gbWF4KDAuNiAtIHZlYzIoZG90KHgzLHgzKSwgZG90KHg0LHg0KSAgICAgICAgICAgICksIDAuMCk7CiAgICBtMCA9IG0wICogbTA7CiAgICBtMSA9IG0xICogbTE7CiAgICByZXR1cm4gNDkuMCAqICggZG90KG0wKm0wLCB2ZWMzKCBkb3QoIHAwLCB4MCApLCBkb3QoIHAxLCB4MSApLCBkb3QoIHAyLCB4MiApKSkKICAgICAgICAgICAgICAgICsgZG90KG0xKm0xLCB2ZWMyKCBkb3QoIHAzLCB4MyApLCBkb3QoIHA0LCB4NCApICkgKSApIDsKfQoKdmVjMiBzbm9pc2UyKCB2ZWMyIHggKXsKICAgIGZsb2F0IHMgID0gc25vaXNlKHZlYzIoIHggKSk7CiAgICBmbG9hdCBzMSA9IHNub2lzZSh2ZWMyKCB4LnkgLSAxOS4xLCB4LnggKyA0Ny4yICkpOwogICAgcmV0dXJuIHZlYzIoIHMgLCBzMSApOwp9Cgp2ZWMzIHNub2lzZTMoIHZlYzMgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjMyggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzMoIHgueSAtIDE5LjEgLCB4LnogKyAzMy40ICwgeC54ICsgNDcuMiApKTsKICAgIGZsb2F0IHMyID0gc25vaXNlKHZlYzMoIHgueiArIDc0LjIgLCB4LnggLSAxMjQuNSAsIHgueSArIDk5LjQgKSk7CiAgICByZXR1cm4gdmVjMyggcyAsIHMxICwgczIgKTsKfQoKdmVjMyBzbm9pc2UzKCB2ZWM0IHggKXsKICAgIGZsb2F0IHMgID0gc25vaXNlKHZlYzQoIHggKSk7CiAgICBmbG9hdCBzMSA9IHNub2lzZSh2ZWM0KCB4LnkgLSAxOS4xICwgeC56ICsgMzMuNCAsIHgueCArIDQ3LjIsIHgudyApKTsKICAgIGZsb2F0IHMyID0gc25vaXNlKHZlYzQoIHgueiArIDc0LjIgLCB4LnggLSAxMjQuNSAsIHgueSArIDk5LjQsIHgudyApKTsKICAgIHJldHVybiB2ZWMzKCBzICwgczEgLCBzMiApOwp9CgojZW5kaWYKCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19HUkFENAojZGVmaW5lIEZOQ19HUkFENAp2ZWM0IGdyYWQ0KGZsb2F0IGosIHZlYzQgaXApIHsKICAgIGNvbnN0IHZlYzQgb25lcyA9IHZlYzQoMS4wLCAxLjAsIDEuMCwgLTEuMCk7CiAgICB2ZWM0IHAsczsKCiAgICBwLnh5eiA9IGZsb29yKCBmcmFjdCAodmVjMyhqKSAqIGlwLnh5eikgKiA3LjApICogaXAueiAtIDEuMDsKICAgIHAudyA9IDEuNSAtIGRvdChhYnMocC54eXopLCBvbmVzLnh5eik7CiAgICBzID0gdmVjNChsZXNzVGhhbihwLCB2ZWM0KDAuMCkpKTsKICAgIHAueHl6ID0gcC54eXogKyAocy54eXoqMi4wIC0gMS4wKSAqIHMud3d3OwoKICAgIHJldHVybiBwOwp9CiNlbmRpZgoKCgoKI2lmbmRlZiBGTkNfU05PSVNFCiNkZWZpbmUgRk5DX1NOT0lTRQpmbG9hdCBzbm9pc2UoaW4gdmVjMiB2KSB7CiAgICBjb25zdCB2ZWM0IEMgPSB2ZWM0KDAuMjExMzI0ODY1NDA1MTg3LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIDAuMzY2MDI1NDAzNzg0NDM5LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIC0wLjU3NzM1MDI2OTE4OTYyNiwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjAyNDM5MDI0MzkwMjQzOSk7IAogICAgCiAgICB2ZWMyIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5KSApOwogICAgdmVjMiB4MCA9IHYgLSAgIGkgKyBkb3QoaSwgQy54eCk7CgogICAgCiAgICB2ZWMyIGkxOwogICAgCiAgICAKICAgIGkxID0gKHgwLnggPiB4MC55KSA/IHZlYzIoMS4wLCAwLjApIDogdmVjMigwLjAsIDEuMCk7CiAgICAKICAgIAogICAgCiAgICB2ZWM0IHgxMiA9IHgwLnh5eHkgKyBDLnh4eno7CiAgICB4MTIueHkgLT0gaTE7CgogICAgCiAgICBpID0gbW9kMjg5KGkpOyAKICAgIHZlYzMgcCA9IHBlcm11dGUoIHBlcm11dGUoIGkueSArIHZlYzMoMC4wLCBpMS55LCAxLjAgKSkKICAgICsgaS54ICsgdmVjMygwLjAsIGkxLngsIDEuMCApKTsKCiAgICB2ZWMzIG0gPSBtYXgoMC41IC0gdmVjMyhkb3QoeDAseDApLCBkb3QoeDEyLnh5LHgxMi54eSksIGRvdCh4MTIuencseDEyLnp3KSksIDAuMCk7CiAgICBtID0gbSptIDsKICAgIG0gPSBtKm0gOwoKICAgIAogICAgCgogICAgdmVjMyB4ID0gMi4wICogZnJhY3QocCAqIEMud3d3KSAtIDEuMDsKICAgIHZlYzMgaCA9IGFicyh4KSAtIDAuNTsKICAgIHZlYzMgb3ggPSBmbG9vcih4ICsgMC41KTsKICAgIHZlYzMgYTAgPSB4IC0gb3g7CgogICAgCiAgICAKICAgIG0gKj0gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiAoIGEwKmEwICsgaCpoICk7CgogICAgCiAgICB2ZWMzIGc7CiAgICBnLnggID0gYTAueCAgKiB4MC54ICArIGgueCAgKiB4MC55OwogICAgZy55eiA9IGEwLnl6ICogeDEyLnh6ICsgaC55eiAqIHgxMi55dzsKICAgIHJldHVybiAxMzAuMCAqIGRvdChtLCBnKTsKfQoKCmZsb2F0IHNub2lzZShpbiB2ZWMzIHYpIHsKICAgIGNvbnN0IHZlYzIgIEMgPSB2ZWMyKDEuMC82LjAsIDEuMC8zLjApIDsKICAgIGNvbnN0IHZlYzQgIEQgPSB2ZWM0KDAuMCwgMC41LCAxLjAsIDIuMCk7CgogICAgCiAgICB2ZWMzIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5eSkgKTsKICAgIHZlYzMgeDAgPSAgIHYgLSBpICsgZG90KGksIEMueHh4KSA7CgogICAgCiAgICB2ZWMzIGcgPSBzdGVwKHgwLnl6eCwgeDAueHl6KTsKICAgIHZlYzMgbCA9IDEuMCAtIGc7CiAgICB2ZWMzIGkxID0gbWluKCBnLnh5eiwgbC56eHkgKTsKICAgIHZlYzMgaTIgPSBtYXgoIGcueHl6LCBsLnp4eSApOwoKICAgIAogICAgCiAgICAKICAgIAogICAgdmVjMyB4MSA9IHgwIC0gaTEgKyBDLnh4eDsKICAgIHZlYzMgeDIgPSB4MCAtIGkyICsgQy55eXk7IAogICAgdmVjMyB4MyA9IHgwIC0gRC55eXk7ICAgICAgCgogICAgCiAgICBpID0gbW9kMjg5KGkpOwogICAgdmVjNCBwID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSgKICAgICAgICAgICAgICAgIGkueiArIHZlYzQoMC4wLCBpMS56LCBpMi56LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnkgKyB2ZWM0KDAuMCwgaTEueSwgaTIueSwgMS4wICkpCiAgICAgICAgICAgICsgaS54ICsgdmVjNCgwLjAsIGkxLngsIGkyLngsIDEuMCApKTsKCiAgICAKICAgIAogICAgZmxvYXQgbl8gPSAwLjE0Mjg1NzE0Mjg1NzsgCiAgICB2ZWMzICBucyA9IG5fICogRC53eXogLSBELnh6eDsKCiAgICB2ZWM0IGogPSBwIC0gNDkuMCAqIGZsb29yKHAgKiBucy56ICogbnMueik7ICAKCiAgICB2ZWM0IHhfID0gZmxvb3IoaiAqIG5zLnopOwogICAgdmVjNCB5XyA9IGZsb29yKGogLSA3LjAgKiB4XyApOyAgICAKCiAgICB2ZWM0IHggPSB4XyAqbnMueCArIG5zLnl5eXk7CiAgICB2ZWM0IHkgPSB5XyAqbnMueCArIG5zLnl5eXk7CiAgICB2ZWM0IGggPSAxLjAgLSBhYnMoeCkgLSBhYnMoeSk7CgogICAgdmVjNCBiMCA9IHZlYzQoIHgueHksIHkueHkgKTsKICAgIHZlYzQgYjEgPSB2ZWM0KCB4Lnp3LCB5Lnp3ICk7CgogICAgCiAgICAKICAgIHZlYzQgczAgPSBmbG9vcihiMCkqMi4wICsgMS4wOwogICAgdmVjNCBzMSA9IGZsb29yKGIxKSoyLjAgKyAxLjA7CiAgICB2ZWM0IHNoID0gLXN0ZXAoaCwgdmVjNCgwLjApKTsKCiAgICB2ZWM0IGEwID0gYjAueHp5dyArIHMwLnh6eXcqc2gueHh5eSA7CiAgICB2ZWM0IGExID0gYjEueHp5dyArIHMxLnh6eXcqc2guenp3dyA7CgogICAgdmVjMyBwMCA9IHZlYzMoYTAueHksaC54KTsKICAgIHZlYzMgcDEgPSB2ZWMzKGEwLnp3LGgueSk7CiAgICB2ZWMzIHAyID0gdmVjMyhhMS54eSxoLnopOwogICAgdmVjMyBwMyA9IHZlYzMoYTEuencsaC53KTsKCiAgICAKICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QocDAscDApLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpOwogICAgcDAgKj0gbm9ybS54OwogICAgcDEgKj0gbm9ybS55OwogICAgcDIgKj0gbm9ybS56OwogICAgcDMgKj0gbm9ybS53OwoKICAgIAogICAgdmVjNCBtID0gbWF4KDAuNiAtIHZlYzQoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSwgZG90KHgzLHgzKSksIDAuMCk7CiAgICBtID0gbSAqIG07CiAgICByZXR1cm4gNDIuMCAqIGRvdCggbSptLCB2ZWM0KCBkb3QocDAseDApLCBkb3QocDEseDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdChwMix4MiksIGRvdChwMyx4MykgKSApOwp9CgpmbG9hdCBzbm9pc2UoaW4gdmVjNCB2KSB7CiAgICBjb25zdCB2ZWM0ICBDID0gdmVjNCggMC4xMzgxOTY2MDExMjUwMTEsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC4yNzYzOTMyMDIyNTAwMjEsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC40MTQ1ODk4MDMzNzUwMzIsICAKICAgICAgICAgICAgICAgICAgICAgICAgLTAuNDQ3MjEzNTk1NDk5OTU4KTsgCgogICAgCiAgICB2ZWM0IGkgID0gZmxvb3IodiArIGRvdCh2LCB2ZWM0KC4zMDkwMTY5OTQzNzQ5NDc0NTEpKSApOyAKICAgIHZlYzQgeDAgPSB2IC0gICBpICsgZG90KGksIEMueHh4eCk7CgogICAgCgogICAgCiAgICB2ZWM0IGkwOwogICAgdmVjMyBpc1ggPSBzdGVwKCB4MC55encsIHgwLnh4eCApOwogICAgdmVjMyBpc1laID0gc3RlcCggeDAuend3LCB4MC55eXogKTsKICAgIAogICAgaTAueCA9IGlzWC54ICsgaXNYLnkgKyBpc1guejsKICAgIGkwLnl6dyA9IDEuMCAtIGlzWDsKICAgIAogICAgaTAueSArPSBpc1laLnggKyBpc1laLnk7CiAgICBpMC56dyArPSAxLjAgLSBpc1laLnh5OwogICAgaTAueiArPSBpc1laLno7CiAgICBpMC53ICs9IDEuMCAtIGlzWVouejsKCiAgICAKICAgIHZlYzQgaTMgPSBjbGFtcCggaTAsIDAuMCwgMS4wICk7CiAgICB2ZWM0IGkyID0gY2xhbXAoIGkwLTEuMCwgMC4wLCAxLjAgKTsKICAgIHZlYzQgaTEgPSBjbGFtcCggaTAtMi4wLCAwLjAsIDEuMCApOwoKICAgIAogICAgCiAgICAKICAgIAogICAgCiAgICB2ZWM0IHgxID0geDAgLSBpMSArIEMueHh4eDsKICAgIHZlYzQgeDIgPSB4MCAtIGkyICsgQy55eXl5OwogICAgdmVjNCB4MyA9IHgwIC0gaTMgKyBDLnp6eno7CiAgICB2ZWM0IHg0ID0geDAgKyBDLnd3d3c7CgogICAgCiAgICBpID0gbW9kMjg5KGkpOwogICAgZmxvYXQgajAgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKGkudykgKyBpLnopICsgaS55KSArIGkueCk7CiAgICB2ZWM0IGoxID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSAoCiAgICAgICAgICAgICAgICBpLncgKyB2ZWM0KGkxLncsIGkyLncsIGkzLncsIDEuMCApKQogICAgICAgICAgICArIGkueiArIHZlYzQoaTEueiwgaTIueiwgaTMueiwgMS4wICkpCiAgICAgICAgICAgICsgaS55ICsgdmVjNChpMS55LCBpMi55LCBpMy55LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnggKyB2ZWM0KGkxLngsIGkyLngsIGkzLngsIDEuMCApKTsKCiAgICAKICAgIAogICAgdmVjNCBpcCA9IHZlYzQoMS4wLzI5NC4wLCAxLjAvNDkuMCwgMS4wLzcuMCwgMC4wKSA7CgogICAgdmVjNCBwMCA9IGdyYWQ0KGowLCAgIGlwKTsKICAgIHZlYzQgcDEgPSBncmFkNChqMS54LCBpcCk7CiAgICB2ZWM0IHAyID0gZ3JhZDQoajEueSwgaXApOwogICAgdmVjNCBwMyA9IGdyYWQ0KGoxLnosIGlwKTsKICAgIHZlYzQgcDQgPSBncmFkNChqMS53LCBpcCk7CgogICAgCiAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KHAwLHAwKSwgZG90KHAxLHAxKSwgZG90KHAyLCBwMiksIGRvdChwMyxwMykpKTsKICAgIHAwICo9IG5vcm0ueDsKICAgIHAxICo9IG5vcm0ueTsKICAgIHAyICo9IG5vcm0uejsKICAgIHAzICo9IG5vcm0udzsKICAgIHA0ICo9IHRheWxvckludlNxcnQoZG90KHA0LHA0KSk7CgogICAgCiAgICB2ZWMzIG0wID0gbWF4KDAuNiAtIHZlYzMoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSksIDAuMCk7CiAgICB2ZWMyIG0xID0gbWF4KDAuNiAtIHZlYzIoZG90KHgzLHgzKSwgZG90KHg0LHg0KSAgICAgICAgICAgICksIDAuMCk7CiAgICBtMCA9IG0wICogbTA7CiAgICBtMSA9IG0xICogbTE7CiAgICByZXR1cm4gNDkuMCAqICggZG90KG0wKm0wLCB2ZWMzKCBkb3QoIHAwLCB4MCApLCBkb3QoIHAxLCB4MSApLCBkb3QoIHAyLCB4MiApKSkKICAgICAgICAgICAgICAgICsgZG90KG0xKm0xLCB2ZWMyKCBkb3QoIHAzLCB4MyApLCBkb3QoIHA0LCB4NCApICkgKSApIDsKfQoKdmVjMiBzbm9pc2UyKCB2ZWMyIHggKXsKICAgIGZsb2F0IHMgID0gc25vaXNlKHZlYzIoIHggKSk7CiAgICBmbG9hdCBzMSA9IHNub2lzZSh2ZWMyKCB4LnkgLSAxOS4xLCB4LnggKyA0Ny4yICkpOwogICAgcmV0dXJuIHZlYzIoIHMgLCBzMSApOwp9Cgp2ZWMzIHNub2lzZTMoIHZlYzMgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjMyggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzMoIHgueSAtIDE5LjEgLCB4LnogKyAzMy40ICwgeC54ICsgNDcuMiApKTsKICAgIGZsb2F0IHMyID0gc25vaXNlKHZlYzMoIHgueiArIDc0LjIgLCB4LnggLSAxMjQuNSAsIHgueSArIDk5LjQgKSk7CiAgICByZXR1cm4gdmVjMyggcyAsIHMxICwgczIgKTsKfQoKdmVjMyBzbm9pc2UzKCB2ZWM0IHggKXsKICAgIGZsb2F0IHMgID0gc25vaXNlKHZlYzQoIHggKSk7CiAgICBmbG9hdCBzMSA9IHNub2lzZSh2ZWM0KCB4LnkgLSAxOS4xICwgeC56ICsgMzMuNCAsIHgueCArIDQ3LjIsIHgudyApKTsKICAgIGZsb2F0IHMyID0gc25vaXNlKHZlYzQoIHgueiArIDc0LjIgLCB4LnggLSAxMjQuNSAsIHgueSArIDk5LjQsIHgudyApKTsKICAgIHJldHVybiB2ZWMzKCBzICwgczEgLCBzMiApOwp9CgojZW5kaWYKCgoKI2lmbmRlZiBSQU5ET01fU0NBTEUKI2lmIGRlZmluZWQoUkFORE9NX0hJR0hFUl9SQU5HRSkKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCguMTAzMSwgLjEwMzAsIC4wOTczLCAuMTA5OSkKI2Vsc2UKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCg0NDMuODk3LCA0NDEuNDIzLCAuMDk3MywgLjEwOTkpCiNlbmRpZgojZW5kaWYKCiNpZm5kZWYgRk5DX1JBTkRPTQojZGVmaW5lIEZOQ19SQU5ET00KZmxvYXQgcmFuZG9tKGluIGZsb2F0IHgpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICB4ID0gZnJhY3QoeCAqIFJBTkRPTV9TQ0FMRS54KTsKICAgIHggKj0geCArIDMzLjMzOwogICAgeCAqPSB4ICsgeDsKICAgIHJldHVybiBmcmFjdCh4KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oeCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMyIHN0KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgdmVjMyBwMyAgPSBmcmFjdCh2ZWMzKHN0Lnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwMy54ICsgcDMueSkgKiBwMy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHN0Lnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzMgcG9zKSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgcG9zICA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy56eXggKyAzMS4zMik7CiAgICByZXR1cm4gZnJhY3QoKHBvcy54ICsgcG9zLnkpICogcG9zLnopOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbihkb3QocG9zLnh5eiwgdmVjMyg3MC45ODk4LCA3OC4yMzMsIDMyLjQzNTUpKSkgKiA0Mzc1OC41NDUzMTIzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWM0IHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwb3MgKz0gZG90KHBvcywgcG9zLnd6eHkrMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIChwb3MueiArIHBvcy53KSk7CiNlbHNlCiAgICBmbG9hdCBkb3RfcHJvZHVjdCA9IGRvdChwb3MsIHZlYzQoMTIuOTg5OCw3OC4yMzMsNDUuMTY0LDk0LjY3MykpOwogICAgcmV0dXJuIGZyYWN0KHNpbihkb3RfcHJvZHVjdCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCnZlYzIgcmFuZG9tMihmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMyIHJhbmRvbTIodmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QocC54eXggKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzMgcDMpIHsKICAgIHAzID0gZnJhY3QocDMgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMyByYW5kb20zKGZsb2F0IHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHApICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7IAp9Cgp2ZWMzIHJhbmRvbTModmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwLnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eHkgKyBwMy55enopICogcDMuenl4KTsKfQoKdmVjMyByYW5kb20zKHZlYzMgcCkgewogICAgcCA9IGZyYWN0KHAgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAgKz0gZG90KHAsIHAueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwLnh4eSArIHAueXp6KSAqIHAuenl4KTsKfQoKdmVjNCByYW5kb200KGZsb2F0IHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7ICAgCn0KCnZlYzQgcmFuZG9tNCh2ZWMyIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5eHkgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzMgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAueHl6eCAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzQgcDQpIHsKICAgIHA0ID0gZnJhY3QocDQgICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfU1JBTkRPTQojZGVmaW5lIEZOQ19TUkFORE9NCgpmbG9hdCBzcmFuZG9tKGluIGZsb2F0IHgpIHsKICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oeCkgKiA0Mzc1OC41NDUzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWMyIHN0KSB7CiAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWMzIHBvcykgewogIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3QocG9zLnh5eiwgdmVjMyg3MC45ODk4LCA3OC4yMzMsIDMyLjQzNTUpKSkgKiA0Mzc1OC41NDUzMTIzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWM0IHBvcykgewogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3RfcHJvZHVjdCkgKiA0Mzc1OC41NDUzKTsKfQoKdmVjMiBzcmFuZG9tMihpbiB2ZWMyIHN0KSB7CiAgICBjb25zdCB2ZWMyIGsgPSB2ZWMyKC4zMTgzMDk5LCAuMzY3ODc5NCk7CiAgICBzdCA9IHN0ICogayArIGsueXg7CiAgICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdCgxNi4gKiBrICogZnJhY3Qoc3QueCAqIHN0LnkgKiAoc3QueCArIHN0LnkpKSk7Cn0KCnZlYzMgc3JhbmRvbTMoaW4gdmVjMyBwKSB7CiAgICBwID0gdmVjMyggZG90KHAsIHZlYzMoMTI3LjEsIDMxMS43LCA3NC43KSksCiAgICAgICAgICAgIGRvdChwLCB2ZWMzKDI2OS41LCAxODMuMywgMjQ2LjEpKSwKICAgICAgICAgICAgZG90KHAsIHZlYzMoMTEzLjUsIDI3MS45LCAxMjQuNikpKTsKICAgIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihwKSAqIDQzNzU4LjU0NTMxMjMpOwp9Cgp2ZWMyIHNyYW5kb20yKGluIHZlYzIgcCwgY29uc3QgaW4gZmxvYXQgdGlsZUxlbmd0aCkgewogICAgcCA9IG1vZChwLCB2ZWMyKHRpbGVMZW5ndGgpKTsKICAgIHJldHVybiBzcmFuZG9tMihwKTsKfQoKdmVjMyBzcmFuZG9tMyhpbiB2ZWMzIHAsIGNvbnN0IGluIGZsb2F0IHRpbGVMZW5ndGgpIHsKICAgIHAgPSBtb2QocCwgdmVjMyh0aWxlTGVuZ3RoKSk7CiAgICByZXR1cm4gc3JhbmRvbTMocCk7Cn0KCiNlbmRpZgoKCiNpZm5kZWYgRk5DX0NVQklDCiNkZWZpbmUgRk5DX0NVQklDIApmbG9hdCBjdWJpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KdmVjMiAgY3ViaWMoY29uc3QgaW4gdmVjMiB2KSAgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CnZlYzMgIGN1YmljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQp2ZWM0ICBjdWJpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KCmZsb2F0IGN1YmljKGNvbnN0IGluIGZsb2F0IHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIGZsb2F0IHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICBmbG9hdCB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQoKdmVjMiBjdWJpYyhjb25zdCBpbiB2ZWMyIHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIHZlYzIgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIHZlYzIgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KCnZlYzMgY3ViaWMoY29uc3QgaW4gdmVjMyB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICB2ZWMzIHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICB2ZWMzIHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9Cgp2ZWM0IGN1YmljKGNvbnN0IGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgdmVjNCB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgdmVjNCB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQojZW5kaWYKCgojaWZuZGVmIEZOQ19RVUlOVElDCiNkZWZpbmUgRk5DX1FVSU5USUMgCgpmbG9hdCBxdWludGljKGNvbnN0IGluIGZsb2F0IHYpIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMyICBxdWludGljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMzICBxdWludGljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWM0ICBxdWludGljKGNvbnN0IGluIHZlYzQgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX0dOT0lTRQojZGVmaW5lIEZOQ19HTk9JU0UKCmZsb2F0IGdub2lzZShmbG9hdCB4KSB7CiAgICBmbG9hdCBpID0gZmxvb3IoeCk7ICAKICAgIGZsb2F0IGYgPSBmcmFjdCh4KTsgIAogICAgcmV0dXJuIG1peChyYW5kb20oaSksIHJhbmRvbShpICsgMS4wKSwgc21vb3Roc3RlcCgwLiwxLixmKSk7IAp9CgpmbG9hdCBnbm9pc2UodmVjMiBzdCkgewogICAgdmVjMiBpID0gZmxvb3Ioc3QpOwogICAgdmVjMiBmID0gZnJhY3Qoc3QpOwogICAgZmxvYXQgYSA9IHJhbmRvbShpKTsKICAgIGZsb2F0IGIgPSByYW5kb20oaSArIHZlYzIoMS4wLCAwLjApKTsKICAgIGZsb2F0IGMgPSByYW5kb20oaSArIHZlYzIoMC4wLCAxLjApKTsKICAgIGZsb2F0IGQgPSByYW5kb20oaSArIHZlYzIoMS4wLCAxLjApKTsKICAgIHZlYzIgdSA9IGN1YmljKGYpOwogICAgcmV0dXJuIG1peCggYSwgYiwgdS54KSArCiAgICAgICAgICAgICAgICAoYyAtIGEpKiB1LnkgKiAoMS4wIC0gdS54KSArCiAgICAgICAgICAgICAgICAoZCAtIGIpICogdS54ICogdS55Owp9CgpmbG9hdCBnbm9pc2UodmVjMyBwKSB7CiAgICB2ZWMzIGkgPSBmbG9vcihwKTsKICAgIHZlYzMgZiA9IGZyYWN0KHApOwogICAgdmVjMyB1ID0gcXVpbnRpYyhmKTsKICAgIHJldHVybiAtMS4wICsgMi4wICogbWl4KCBtaXgoIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwwLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwwLjAsMC4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDEuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDEuMCwwLjApKSwgdS54KSwgdS55KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1peCggbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDAuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDAuMCwxLjApKSwgdS54KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMS4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMS4wLDEuMCkpLCB1LngpLCB1LnkpLCB1LnogKTsKfQoKZmxvYXQgZ25vaXNlKHZlYzMgcCwgZmxvYXQgdGlsZUxlbmd0aCkgewogICAgdmVjMyBpID0gZmxvb3IocCk7CiAgICB2ZWMzIGYgPSBmcmFjdChwKTsKICAgICAgICAgICAgCiAgICB2ZWMzIHUgPSBxdWludGljKGYpOwogICAgICAgIAogICAgcmV0dXJuIG1peCggbWl4KCBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDAuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDAuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwwLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwwLjAsMC4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwxLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwxLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMS4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMS4wLDAuMCkpLCB1LngpLCB1LnkpLAogICAgICAgICAgICAgICAgbWl4KCBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDAuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDAuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwwLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwwLjAsMS4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwxLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwxLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMS4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMS4wLDEuMCkpLCB1LngpLCB1LnkpLCB1LnogKTsKfQoKdmVjMyBnbm9pc2UzKHZlYzMgeCkgewogICAgcmV0dXJuIHZlYzMoZ25vaXNlKHgrdmVjMygxMjMuNDU2LCAwLjU2NywgMC4zNykpLAogICAgICAgICAgICAgICAgZ25vaXNlKHgrdmVjMygwLjExLCA0Ny40MywgMTkuMTcpKSwKICAgICAgICAgICAgICAgIGdub2lzZSh4KSApOwp9CgojZW5kaWYKCgoKCiNpZm5kZWYgRkJNX09DVEFWRVMKI2RlZmluZSBGQk1fT0NUQVZFUyA0CiNlbmRpZgoKI2lmbmRlZiBGQk1fTk9JU0VfRk5DCiNkZWZpbmUgRkJNX05PSVNFX0ZOQyhVVikgc25vaXNlKFVWKQojZW5kaWYKCiNpZm5kZWYgRkJNX05PSVNFMl9GTkMKI2RlZmluZSBGQk1fTk9JU0UyX0ZOQyhVVikgRkJNX05PSVNFX0ZOQyhVVikKI2VuZGlmCgojaWZuZGVmIEZCTV9OT0lTRTNfRk5DCiNkZWZpbmUgRkJNX05PSVNFM19GTkMoVVYpIEZCTV9OT0lTRV9GTkMoVVYpCiNlbmRpZgoKI2lmbmRlZiBGQk1fTk9JU0VfVElMQUJMRV9GTkMKI2RlZmluZSBGQk1fTk9JU0VfVElMQUJMRV9GTkMoVVYsIFRJTEUpIGdub2lzZShVViwgVElMRSkKI2VuZGlmCgojaWZuZGVmIEZCTV9OT0lTRTNfVElMQUJMRV9GTkMKI2RlZmluZSBGQk1fTk9JU0UzX1RJTEFCTEVfRk5DKFVWLCBUSUxFKSBGQk1fTk9JU0VfVElMQUJMRV9GTkMoVVYsIFRJTEUpCiNlbmRpZgoKI2lmbmRlZiBGQk1fTk9JU0VfVFlQRQojZGVmaW5lIEZCTV9OT0lTRV9UWVBFIGZsb2F0CiNlbmRpZgoKI2lmbmRlZiBGQk1fVkFMVUVfSU5JVElBTAojZGVmaW5lIEZCTV9WQUxVRV9JTklUSUFMIDAuMAojZW5kaWYKCiNpZm5kZWYgRkJNX1NDQUxFX1NDQUxBUgojZGVmaW5lIEZCTV9TQ0FMRV9TQ0FMQVIgMi4wCiNlbmRpZgoKI2lmbmRlZiBGQk1fQU1QTElUVURfSU5JVElBTAojZGVmaW5lIEZCTV9BTVBMSVRVRF9JTklUSUFMIDAuNQojZW5kaWYKCiNpZm5kZWYgRkJNX0FNUExJVFVEX1NDQUxBUgojZGVmaW5lIEZCTV9BTVBMSVRVRF9TQ0FMQVIgMC41CiNlbmRpZgoKI2lmbmRlZiBGTkNfRkJNCiNkZWZpbmUgRk5DX0ZCTQpGQk1fTk9JU0VfVFlQRSBmYm0oaW4gdmVjMiBzdCkgewogICAgCiAgICBGQk1fTk9JU0VfVFlQRSB2YWx1ZSA9IEZCTV9OT0lTRV9UWVBFKEZCTV9WQUxVRV9JTklUSUFMKTsKICAgIGZsb2F0IGFtcGxpdHVkID0gRkJNX0FNUExJVFVEX0lOSVRJQUw7CgogICAgCiAgICBmb3IgKGludCBpID0gMDsgaSA8IEZCTV9PQ1RBVkVTOyBpKyspIHsKICAgICAgICB2YWx1ZSArPSBhbXBsaXR1ZCAqIEZCTV9OT0lTRTJfRk5DKHN0KTsKICAgICAgICBzdCAqPSBGQk1fU0NBTEVfU0NBTEFSOwogICAgICAgIGFtcGxpdHVkICo9IEZCTV9BTVBMSVRVRF9TQ0FMQVI7CiAgICB9CiAgICByZXR1cm4gdmFsdWU7Cn0KCkZCTV9OT0lTRV9UWVBFIGZibShpbiB2ZWMzIHBvcykgewogICAgCiAgICBGQk1fTk9JU0VfVFlQRSB2YWx1ZSA9IEZCTV9OT0lTRV9UWVBFKEZCTV9WQUxVRV9JTklUSUFMKTsKICAgIGZsb2F0IGFtcGxpdHVkID0gRkJNX0FNUExJVFVEX0lOSVRJQUw7CgogICAgCiAgICBmb3IgKGludCBpID0gMDsgaSA8IEZCTV9PQ1RBVkVTOyBpKyspIHsKICAgICAgICB2YWx1ZSArPSBhbXBsaXR1ZCAqIEZCTV9OT0lTRTNfRk5DKHBvcyk7CiAgICAgICAgcG9zICo9IEZCTV9TQ0FMRV9TQ0FMQVI7CiAgICAgICAgYW1wbGl0dWQgKj0gRkJNX0FNUExJVFVEX1NDQUxBUjsKICAgIH0KICAgIHJldHVybiB2YWx1ZTsKfQoKRkJNX05PSVNFX1RZUEUgZmJtKHZlYzMgcCwgZmxvYXQgdGlsZUxlbmd0aCkgewogICAgY29uc3QgZmxvYXQgcGVyc2lzdGVuY2UgPSAwLjU7CiAgICBjb25zdCBmbG9hdCBsYWN1bmFyaXR5ID0gMi4wOwoKICAgIGZsb2F0IGFtcGxpdHVkZSA9IDAuNTsKICAgIEZCTV9OT0lTRV9UWVBFIHRvdGFsID0gRkJNX05PSVNFX1RZUEUoMC4wKTsKICAgIGZsb2F0IG5vcm1hbGl6YXRpb24gPSAwLjA7CgogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBGQk1fT0NUQVZFUzsgKytpKSB7CiAgICAgICAgZmxvYXQgbm9pc2VWYWx1ZSA9IEZCTV9OT0lTRTNfVElMQUJMRV9GTkMocCwgdGlsZUxlbmd0aCAqIGxhY3VuYXJpdHkgKiAwLjUpICogMC41ICsgMC41OwogICAgICAgIHRvdGFsICs9IG5vaXNlVmFsdWUgKiBhbXBsaXR1ZGU7CiAgICAgICAgbm9ybWFsaXphdGlvbiArPSBhbXBsaXR1ZGU7CiAgICAgICAgYW1wbGl0dWRlICo9IHBlcnNpc3RlbmNlOwogICAgICAgIHAgPSBwICogbGFjdW5hcml0eTsKICAgIH0KCiAgICByZXR1cm4gdG90YWwgLyBub3JtYWxpemF0aW9uOwp9CiNlbmRpZgoKCgoKCgp2b2lkIG1haW4oKSB7CgogIHZVdiA9IHV2OwoKICAKCiAgdkRpc3BsYWNlbWVudCA9IGZibShwb3NpdGlvbiooMC4wICsgMS4wL3Vfc2NhbGUpICsgdmVjMyh1X3RpbWUqdV9zcGVlZCkpOwoKICAKCgoKICB2ZWMzIG5ld1Bvc2l0aW9uID0gcG9zaXRpb24gKyBub3JtYWwgKiB2RGlzcGxhY2VtZW50KnVfaW50ZW5zaXR5OwoKICAKCiAgdmVjNCBtb2RlbFBvc2l0aW9uID0gbW9kZWxNYXRyaXggKiB2ZWM0KG5ld1Bvc2l0aW9uLCAxLjApOwoKICB2ZWM0IHZpZXdQb3NpdGlvbiA9IHZpZXdNYXRyaXggKiBtb2RlbFBvc2l0aW9uOwoKICB2ZWM0IHByb2plY3RlZFBvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdQb3NpdGlvbjsKCgoKICBnbF9Qb3NpdGlvbiA9IHByb2plY3RlZFBvc2l0aW9uOwoKICAKCiAgLy9nbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLjApOwoKICAKCn0KCmAsCiAgICAgICAgICAgICAgICB1bmlmb3Jtczoge3VfaW50ZW5zaXR5OiB7dmFsdWU6IDAuNDA0fSx1X2NvbG9yczoge3ZhbHVlOiBbbmV3IFRIUkVFLlZlY3RvcjQoMC4xMzMzMzMzMzMzMzMzMzMzMywwLjEyNTQ5MDE5NjA3ODQzMTM3LDAuMTI1NDkwMTk2MDc4NDMxMzcsMSksbmV3IFRIUkVFLlZlY3RvcjQoMC44NDcwNTg4MjM1Mjk0MTE4LDAuMjI3NDUwOTgwMzkyMTU2ODYsMC4yMzUyOTQxMTc2NDcwNTg4MiwxKV19LHVfc3BlZWQ6IHt2YWx1ZTogMC4xNTl9LHVfc2NhbGU6IHt2YWx1ZTogMC4yMzR9LHVfdGltZToge3ZhbHVlOiAwfSx1X21vdXNlOiB7dmFsdWU6IFswLDBdfSx1X3Jlc29sdXRpb246IHt2YWx1ZTogWzI0MCw1ODBdfX0sCiAgICAgICAgICAgICAgICB3aXJlZnJhbWU6IGZhbHNlLCAKICAgICAgICAgICAgICAgIHdpcmVmcmFtZUxpbmV3aWR0aDogMCwKICAgICAgICAgICAgICAgIGRpdGhlcmluZzogZmFsc2UsCiAgICAgICAgICAgICAgICBmbGF0U2hhZGluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIGRvdWJsZVNpZGVkOiB0cnVlLAogICAgICAgICAgICAgICAgZ2xzbFZlcnNpb246ICIxMDAiCiAgICAgICAgICAgIH0pCiAgICAgICAgKTsgIAogICAgfQoKICAgIFJlYWN0RE9NLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcyx7CiAgICAgICAgICAgIGdsOiB7CiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUsCiAgICAgICAgICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IGZhbHNlLAogICAgICAgICAgICAgICAgYWxwaGE6IHRydWUsCiAgICAgICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSwKICAgICAgICAgICAgICAgIGFudGlhbGlhczogdHJ1ZSwKICAgICAgICAgICAgICAgIHByZWNpc2lvbjogImhpZ2hwIiwKICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogImhpZ2gtcGVyZm9ybWFuY2UiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlc2l6ZTp7CiAgICAgICAgICAgICAgICBkZWJvdW5jZTogMCwKICAgICAgICAgICAgICAgIHNjcm9sbDogZmFsc2UsCiAgICAgICAgICAgICAgICBvZmZzZXRTaXplOiB0cnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRwcjogMSwKICAgICAgICAgICAgY2FtZXJhOiB7CiAgICAgICAgICAgICAgICBmb3Y6IDc1LAogICAgICAgICAgICAgICAgbmVhcjogMC4xLAogICAgICAgICAgICAgICAgZmFyOiAxMDAwLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsMjRdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0eWxlOnsgaGVpZ2h0OiAiMTAwJSIsIHdpZHRoOiAiMTAwJSIgfQogICAgICAgIH0sCiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0dXJlTWVzaCkgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICksIGVtYmVkUm9vdCk7Cjwvc2NyaXB0PgogICAgICAgIDwvaGVhZD4KICAgICAgICA8Ym9keT4KPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2Jvb2suNWZiMTFiOGQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2x5Z2lhLmY3NDkwNTk0LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9vdmVyZmxvdy44ZDUwNDE1ZC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvdHJhc2guNTI0ZGJjZDMuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3ZlcnRpY2FsLjkwNjEwODQ5LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9ob3Jpem9udGFsLjQ0Zjc3MWY4LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9hZGQuYTU1MjQwZGQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3NpZy44NTBhODVlNy5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvbWludXMuMWUxYTBhYmQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2VmZmVjdC40NTU3MjQzZi5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvdmlzaWJsZS5jNmQ0ZTFjMC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvaGlkZGVuLjVhNGZjMjU0LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy93b3JrZXIuYjc2MWZiMTEuanMgLS0+CjwvYm9keT4KICAgICAgICA8L2h0bWw+" class="opacity-30 border-none w-full h-full absolute top-0 left-0">
                    </iframe>
                </div>
            </div>
        </div>
        <footer class="text-neutral-600 lowercase text-sm font-mono">2024 &copy; Rune.sh &ndash; by <a href="https://x.com/lwansbrough">@lwansbrough</a></footer>
    </div>
</body>

</html>